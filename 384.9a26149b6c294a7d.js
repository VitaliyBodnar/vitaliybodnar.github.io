(self.webpackChunkmerch_store=self.webpackChunkmerch_store||[]).push([[384],{3570:(u,p,s)=>{var o=s(8524),d=s(7445)(o);d.push([u.id,":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2rem;\n}\n\n.skeleton--carousel,\n.carousel {\n  width: 100%;\n}\n\nskeleton--carousel {\n  height: 790px;\n  width: 100%;\n}\n\n.content-wrapper {\n  max-width: 1440px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.content-wrapper > * {\n  width: 100%;\n}\n\n.carousel-text-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  height: 700px;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n}\n.carousel-text-wrapper button {\n  width: 100px;\n  color: #ffffff;\n}\n\n.skeleton--carousel {\n  height: 700px;\n}",""]),u.exports=d.toString()},2384:(u,p,s)=>{"use strict";s.r(p),s.d(p,{default:()=>Q});var o=s(1635);var d=s(3570),x=s.n(d),h=s(6661),i=s(32),n=s(6206),t=s(4438),P=s(7602),l=s(5006),T=s(3176),b=s(2504),c=s(4421);let v=class{api=(0,t.WQX)(i.Gf);getFilterOptions(){return{category:this.getBrandOptions(),gender:this.getGenderOptions(),sorting:this.getSortingOptions(),color:this.getColorOptions(),isAvailablePointsRange:this.getPointsOptions()}}getBrandOptions(){return this.api.get("brandCategory/getCategories").pipe((0,l.T)(e=>e.map(r=>({label:r.Name,value:r.Id}))))}getGenderOptions(){return(0,c.of)(b.nL.map(e=>({label:e,value:e})))}getSortingOptions(){return(0,c.of)(b.JH)}getPointsOptions(){return(0,c.of)([{label:"point option 1",value:"1"}])}getColorOptions(){return(0,c.of)([{label:"Black",value:"1"},{label:"White",value:"2"}])}};v=(0,o.Cg)([(0,t._qm)({providedIn:"root"})],v);var a=s(9079),f=s(5020);let m=class{productDataService=(0,t.WQX)(f.D);destroyRef=(0,t.WQX)(t.abz);route=(0,t.WQX)(h.nX);isTablet=(0,t.WQX)(i.RL).isTablet;brandId=(0,a.ot)(this.route.params.pipe((0,l.T)(e=>e.id)));brandName=(0,t.EWP)(()=>`All ${this.brand().name} product`);title=this.brandName;subtitle=(0,t.vPA)("");filters=(0,t.vPA)(["sorting"]);products=(0,t.vPA)([]);isLoading=(0,t.vPA)(!1);totalCount=(0,t.vPA)(0);productsPerPage=(0,t.EWP)(()=>this.isTablet()?6:8);productsOffset=(0,t.vPA)(this.productsPerPage());filterState=(0,t.vPA)({});brand=(0,a.ot)(this.route.queryParams.pipe((0,l.T)(e=>e.data?JSON.parse(e.data):{})));getProducts(e){this.isLoading.set(!0);const{sorting:r,...A}=e;this.productDataService.search({...A,brand:this.brandId()},r).pipe((0,a.pQ)(this.destroyRef)).subscribe(O=>{this.products.set(O.items),this.totalCount.set(O.totalCount),this.isLoading.set(!1)})}seeMoreProducts(){this.productsOffset.update(e=>{const r=e+this.productsPerPage();return r>this.totalCount()?this.totalCount():r})}};m=(0,o.Cg)([(0,t._qm)({providedIn:"root"})],m);var W=s(9743),y=s(177),R=s(8834),I=s(9996);let S=class{skeletonService=(0,t.WQX)(I.Rm);cartService=(0,t.WQX)(i.mx);productService=(0,t.WQX)(i.bk);api=(0,t.WQX)(i.Gf);route=(0,t.WQX)(h.nX);router=(0,t.WQX)(h.Ix);specialService=(0,t.WQX)(i.Fp);breadcrumbsService=(0,t.WQX)(n.EH);wishlistService=(0,t.WQX)(i.FQ);brandId=(0,a.ot)(this.route.params.pipe((0,l.T)(e=>e.id)));carouselSlides=(0,a.ot)(this.getCarouselSlidesRequest());recentlyViewedProducts=(0,a.ot)(this.specialService.recentlyViewedSubject.asObservable().pipe((0,T.Z)(null)));constructor(){(0,t.QZP)(()=>{this.carouselSlides()&&this.breadcrumbsService.set([this.carouselSlides()[0].brandName])},{allowSignalWrites:!0})}ngOnInit(){this.specialService.getRecentlyViewed({count:8},()=>{}),this.specialService.getRecentlyViewed({count:8},()=>{})}goToProduct(e){this.router.navigate([i.K_.PRODUCTS,e])}toggleWishlist(e){this.wishlistService.toggleWishlist(e)}addToCart(e){this.cartService.addCartProduct(e)}onShowProduct(e){this.productService.goToProductDetails(e)}getCarouselSlidesRequest(){return this.api.get("search/find",{PageSize:1,page:1,BrandIds:this.brandId()?[this.brandId()]:null}).pipe((0,l.T)(e=>e?.items?.slice(0,1).map(r=>({id:r.productId,title:r.name,brandName:r.brandName,description:r.description,imgUrl:r.images[0].relatedImages[0].imageUrl}))))}static ctorParameters=()=>[]};S=(0,o.Cg)([(0,t.uAl)({selector:"app-brand-store",standalone:!0,imports:[y.MD,P.t,W.g,n.IC,n.Qo,R.Hl,n.m6],template:'@if (!carouselSlides()?.length) {\n  <div class="skeleton--carousel">\n    <ng-container *ngTemplateOutlet="skeletonService.rectangleTemplate()" />\n  </div>\n} @else {\n  <lib-carousel\n    class="carousel"\n    [displayNavigationControls]="false"\n    [slides]="carouselSlides()"\n    [textTemplate]="carouselSlideText"\n    [isStatic]="true"\n  ></lib-carousel>\n  <ng-template #carouselSlideText>\n    <div class="carousel-text-wrapper">\n      <app-breadcrumbs></app-breadcrumbs>\n      <div class="category-heading">{{ carouselSlides()[0].title }}</div>\n      @if (carouselSlides()[0].description) {\n        <div class="body-1">\n          {{ carouselSlides()[0].description }}\n        </div>\n      }\n\n      <button style="width: auto" mat-stroked-button (click)="goToProduct(carouselSlides()[0].id)">\n        Shop {{ carouselSlides()[0].brandName }}\n      </button>\n    </div>\n  </ng-template>\n}\n\n<div class="content-wrapper">\n  <lib-product-card-slider\n    title="Recently viewed"\n    subTitle="[Sub-heading placeholder lorem ipsum]"\n    [products]="recentlyViewedProducts()"\n    [withAction]="false"\n  ></lib-product-card-slider>\n\n  <app-product-list\n    (onShowProduct)="onShowProduct($event)"\n    (toggleWishlist)="toggleWishlist($event)"\n    (addToCart)="addToCart($event)"\n  ></app-product-list>\n</div>\n',changeDetection:t.Ngq.OnPush,providers:[{provide:n.xs,useClass:v},{provide:P.I,useClass:m},f.D],styles:[x()]}),(0,o.Sn)("design:paramtypes",[])],S);const Q=S}}]);