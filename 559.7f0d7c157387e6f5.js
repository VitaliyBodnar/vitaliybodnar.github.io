(self.webpackChunkmerch_store=self.webpackChunkmerch_store||[]).push([[559],{3144:(d,c,e)=>{var i=e(8524),n=e(7445)(i);n.push([d.id,":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 2rem;\n}\n@media (min-width: 0) and (max-width: 480px) {\n  :host {\n    padding: 0.5rem;\n  }\n}",""]),d.exports=n.toString()},3559:(d,c,e)=>{"use strict";e.r(c),e.d(c,{default:()=>A});var i=e(1635);var n=e(3144),R=e.n(n),f=e(177),t=e(4438),r=e(32),h=e(7602),l=e(6206),y=e(5020),C=e(6661),p=e(5006),P=e(9079);let u=class{route=(0,t.WQX)(C.nX);isTablet=(0,t.WQX)(r.RL).isTablet;specialService=(0,t.WQX)(r.Fp);title=(0,t.vPA)("Recently Viewed Products");subtitle=(0,t.vPA)("");filters=(0,t.vPA)(["brand","sorting"]);products=(0,P.ot)(this.specialService.recentlyViewedSubject.asObservable());isLoading=(0,t.vPA)(!1);totalCount=(0,t.vPA)(0);productsPerPage=(0,t.EWP)(()=>this.isTablet()?12:16);productsOffset=(0,t.vPA)(this.productsPerPage());filterState=(0,t.vPA)({});ngOnInit(){this.specialService.getRecent({count:this.productsPerPage()},()=>{})}categories=(0,P.ot)(this.route.queryParams.pipe((0,p.T)(s=>s.data?JSON.parse(s.data):[])));getProducts(s){this.isLoading.set(!0),this.specialService.getRecentlyViewed({...s,count:this.productsPerPage()},()=>this.isLoading.set(!1))}seeMoreProducts(){this.productsOffset.update(s=>{const o=s+this.productsPerPage();return o>this.products().length?this.products().length:o})}};u=(0,i.Cg)([(0,t._qm)()],u);var m=e(2504),S=e(4421);let v=class{api=(0,t.WQX)(r.Gf);getFilterOptions(){return{brand:this.getBrandOptions(),gender:this.getGenderOptions(),sorting:this.getSortingOptions()}}getBrandOptions(){return this.api.get("brands").pipe((0,p.T)(s=>s.items),(0,p.T)(s=>s.map(o=>({label:o.name,value:o.id}))))}getGenderOptions(){return(0,S.of)(m.nL.map(s=>({label:s,value:s})))}getSortingOptions(){return(0,S.of)(m.JH)}};v=(0,i.Cg)([(0,t._qm)({providedIn:"root"})],v);let g=class{productService=(0,t.WQX)(r.bk);cartService=(0,t.WQX)(r.mx);breadcrumbsService=(0,t.WQX)(l.EH);wishlistService=(0,t.WQX)(r.FQ);ngOnInit(){this.breadcrumbsService.set(["Recently Viewed"])}toggleWishlist(s){this.wishlistService.toggleWishlist(s)}addToCart(s){this.cartService.addCartProduct(s)}onShowProduct(s){this.productService.goToProductDetails(s)}};g=(0,i.Cg)([(0,t.uAl)({selector:"app-recently-viewed-products",standalone:!0,imports:[f.MD,l.m6,h.t],template:'<app-breadcrumbs></app-breadcrumbs>\n<app-product-list\n  (onShowProduct)="onShowProduct($event)"\n  (toggleWishlist)="toggleWishlist($event)"\n  (addToCart)="addToCart($event)"\n></app-product-list>\n',changeDetection:t.Ngq.OnPush,providers:[y.D,{provide:l.xs,useClass:v},{provide:h.I,useClass:u}],styles:[R()]})],g);const A=g}}]);