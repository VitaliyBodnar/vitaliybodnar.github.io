(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"9nUT":function(e,t,n){"use strict";n.r(t),n.d(t,"ResetPasswordModule",(function(){return Ee}));var r=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),a=n("oW1M"),s=n("PCNd"),p=n("9XxW"),c=n("guDr"),l=n("AytR"),d=n("1G5W"),u=n("JIr8"),h=n("pLZG"),m=n("eIep"),g=n("/uUt"),f=n("IzEk"),x=n("2Vo4"),C=n("XNiG"),b=n("z6cu"),O=n("NXyV"),E=n("Cfvw"),v=n("LRne"),P=n("ZF+8"),S=n("LzQu"),_=n("1ua0"),T=n("Ql4B"),w=n("EyPQ"),y=n("vkgz"),I=function(e){return e.Ok="Ok",e.Error="Error",e}({}),R=function(e){return e.CPWD_OTP_TTL_DATE="CPWD_OTP_TTL_DATE",e.CPWD_SID="CPWD_SID",e.CPWD_LOGIN="CPWD_LOGIN",e.CPWD_CAPTCHA_TTL_DATE="CPWD_CAPTCHA_TTL_DATE",e.CPWD_ATTEMPTS="CPWD_ATTEMPTS",e}({}),L=n("x2pC"),A=n("fXoL"),D=n("tk/3"),M=function(){function e(e,t){this.http=e,this.window=t,this.captchaImage$=new x.a(""),this.captchaAttempts$=new x.a(0),this.requiredHeaders={"X-Systemcode":"X-Systemcode"},this.CPWDSid$=new x.a(this.window.sessionStorage.getItem(R.CPWD_SID)||"");var n=this.window.sessionStorage.getItem(R.CPWD_OTP_TTL_DATE);this.OTPTTLDate$=new x.a(Number(n)||0),this.OTPAttempts$=new x.a(Number(this.window.sessionStorage.getItem(R.CPWD_ATTEMPTS)||-1));var r=this.window.sessionStorage.getItem(R.CPWD_CAPTCHA_TTL_DATE);this.captchaTTLDate$=new x.a(Number(r)||0),this.lastUserLogin$=new x.a(this.window.sessionStorage.getItem(R.CPWD_LOGIN)||"")}return e.prototype.resetPasswordScore=function(e){var t=this;return this.http.post(L.Ob,e,{headers:this.requiredHeaders}).pipe(Object(y.a)((function(n){t.setCPWDSid(n.sid),t.window.sessionStorage.setItem(R.CPWD_LOGIN,e.login),n.result===I.Ok&&t.setOTPTTLDate(n.ttl)})))},e.prototype.refreshCaptcha=function(){var e=this;return this.captchaImage$.next(""),this.CPWDSid$.pipe(Object(f.a)(1),Object(m.a)((function(t){return e.http.post(L.ib,{sid:t},{headers:e.requiredHeaders})}))).pipe(Object(y.a)((function(t){e.captchaImage$.next(t.image),e.captchaAttempts$.next(t.attempts),e.setCaptchaTTLDate(t.ttl)})))},e.prototype.checkCaptcha=function(e){var t=this;return this.CPWDSid$.pipe(Object(f.a)(1),Object(m.a)((function(n){return t.http.post(L.gb,{sid:n,code:e},{headers:t.requiredHeaders})}))).pipe(Object(y.a)((function(e){e.result===I.Ok&&(t.setCaptchaTTLDate(0),t.setOTPTTLDate(e.otpTtl))})))},e.prototype.resendOtp=function(){var e=this;return this.CPWDSid$.pipe(Object(f.a)(1),Object(m.a)((function(t){return e.http.post(L.Mb,{sid:t},{headers:e.requiredHeaders})}))).pipe(Object(y.a)((function(t){e.setOTPTTLDate(t.ttl)})))},e.prototype.checkOtp=function(e){var t=this;return this.CPWDSid$.pipe(Object(f.a)(1),Object(m.a)((function(n){return t.http.post(L.f,{sid:n,code:e},{headers:t.requiredHeaders})}))).pipe(Object(y.a)((function(e){e.result===I.Error&&t.setOTPAttempts(e.attempts),e.result===I.Ok&&t.setOTPTTLDate(0)})))},e.prototype.setOTPAttempts=function(e){this.OTPAttempts$.next(e),this.window.sessionStorage.setItem(R.CPWD_ATTEMPTS,String(e))},e.prototype.setOTPTTLDate=function(e){var t=new Date((new Date).getTime()+1e3*e).getTime();this.OTPTTLDate$.next(t),this.window.sessionStorage.setItem(R.CPWD_OTP_TTL_DATE,String(t)),this.setOTPAttempts(-1)},e.prototype.setCaptchaTTLDate=function(e){var t=new Date((new Date).getTime()+1e3*e).getTime();this.captchaTTLDate$.next(t),this.window.sessionStorage.setItem(R.CPWD_CAPTCHA_TTL_DATE,String(t))},e.prototype.setCPWDSid=function(e){this.CPWDSid$.next(e),this.window.sessionStorage.setItem(R.CPWD_SID,e)},e.\u0275fac=function(t){return new(t||e)(A["\u0275\u0275inject"](D.b),A["\u0275\u0275inject"](P.j))},e.\u0275prov=A["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),$=function(e){return e[e.LOGIN=1]="LOGIN",e[e.CHECK_OTP=2]="CHECK_OTP",e[e.ERROR=3]="ERROR",e[e.SUCCESS=4]="SUCCESS",e}({}),j=function(e){return e.CALL_BANK="ERROR:CPWD:001",e.NO_MORE_ATTEMPTS="ERROR:CPWD:002",e.ATTEMPT_TIMEOUT="ERROR:CPWD:003",e.OTP_CHALLENGE_ERROR="ERROR:CPWD:004",e}({}),k=n("VHTt"),N=n("TMn8"),B=n("TLf8"),W=n("6fPx"),F=n("sYmb");function V(e,t){1&e&&(A["\u0275\u0275elementStart"](0,"div",20),A["\u0275\u0275element"](1,"preloader-sm"),A["\u0275\u0275elementEnd"]())}var G=function(e,t){return{zoomed:e,blur:t}};function z(e,t){if(1&e&&(A["\u0275\u0275elementStart"](0,"div",21),A["\u0275\u0275element"](1,"img",22),A["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,r=A["\u0275\u0275nextContext"]();A["\u0275\u0275property"]("ngClass",A["\u0275\u0275pureFunction2"](2,G,!r.isMobile&&r.zoom,(null==r.captchaControl.errors?null:r.captchaControl.errors.captchaError)===r.cpwdErrorsEnum.ATTEMPT_TIMEOUT)),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("src",n,A["\u0275\u0275sanitizeUrl"])}}var H=function(e){return{requiredLength:e}};function U(e,t){if(1&e&&(A["\u0275\u0275elementStart"](0,"ul",23),A["\u0275\u0275elementStart"](1,"li",24),A["\u0275\u0275text"](2),A["\u0275\u0275pipe"](3,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](4,"li",25),A["\u0275\u0275text"](5),A["\u0275\u0275pipe"](6,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](7,"li",25),A["\u0275\u0275text"](8),A["\u0275\u0275pipe"](9,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](10,"li",25),A["\u0275\u0275text"](11),A["\u0275\u0275pipe"](12,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"]()),2&e){var n=A["\u0275\u0275nextContext"]();A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("hidden",!(null!=n.captchaControl.errors&&n.captchaControl.errors.required)),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](3,8,"VALIDATIONS.REQUIRED")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("hidden",!(null!=n.captchaControl.errors&&n.captchaControl.errors.minlength)),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind2"](6,10,"VALIDATIONS.REQUIRED_LENGTH_CHARACTERS",A["\u0275\u0275pureFunction1"](18,H,null==n.captchaControl.errors||null==n.captchaControl.errors.minlength?null:n.captchaControl.errors.minlength.requiredLength))," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("hidden",!(null!=n.captchaControl.errors&&n.captchaControl.errors.maxlength)),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind2"](9,13,"VALIDATIONS.REQUIRED_LENGTH_CHARACTERS",A["\u0275\u0275pureFunction1"](20,H,null==n.captchaControl.errors||null==n.captchaControl.errors.maxlength?null:n.captchaControl.errors.maxlength.requiredLength))," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("hidden",!(null!=n.captchaControl.errors&&n.captchaControl.errors.captchaError)),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](12,16,null==n.captchaControl.errors?null:n.captchaControl.errors.captchaError)," ")}}function q(e,t){1&e&&A["\u0275\u0275element"](0,"fuib-digital-preloader",26)}var K=function(e){return{"is-invalid":e}},Q=function(){function e(e,t,n){this.dialogRef=e,this.resetPasswordService=t,this.sharedService=n,this.zoom=!1,this.isMobile=!1,this.isLoading$=new x.a(!1),this.cpwdErrorsEnum=j,this.unsubscribeAll$=new C.a,this.isMobile=this.sharedService.isMobile,this.captchaControl=new i.FormControl("",i.Validators.compose([i.Validators.required,i.Validators.minLength(6),i.Validators.maxLength(6)])),this.captchaImage$=this.resetPasswordService.captchaImage$.asObservable(),this.captchaAttempts$=this.resetPasswordService.captchaAttempts$.asObservable()}return e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.onSubmitCaptcha=function(){var e=this;this.captchaControl.markAsTouched(),this.captchaControl.valid&&(this.isLoading$.next(!0),this.resetPasswordService.checkCaptcha(this.captchaControl.value).pipe(Object(d.a)(this.unsubscribeAll$)).subscribe({next:function(t){e.isLoading$.next(!1),t.result===I.Ok?e.dialogRef.close(I.Ok):0===t.attempts?e.refreshCaptcha():t.attempts>0&&e.captchaControl.setErrors({captchaError:k.e.CAPTCHA_INVALID})},error:function(t){return e.handleCaptchaError(t)}}))},e.prototype.refreshCaptcha=function(){var e=this;this.resetPasswordService.refreshCaptcha().pipe(Object(d.a)(this.unsubscribeAll$)).subscribe({next:function(){e.captchaControl.reset(),e.captchaControl.patchValue("")},error:function(){return e.dialogRef.close(I.Error)}})},e.prototype.destroyCaptcha=function(){this.dialogRef.close()},e.prototype.zoomCaptcha=function(){var e;(null===(e=this.captchaControl.errors)||void 0===e?void 0:e.captchaError)!==this.cpwdErrorsEnum.ATTEMPT_TIMEOUT&&(this.zoom=!this.zoom)},e.prototype.handleCaptchaError=function(e){var t=e.error;switch(t&&t.error&&t.error.code){case j.ATTEMPT_TIMEOUT:this.captchaControl.setErrors({captchaError:t.error.code});break;default:this.dialogRef.close(I.Error)}this.isLoading$.next(!1)},e.\u0275fac=function(t){return new(t||e)(A["\u0275\u0275directiveInject"](_.h),A["\u0275\u0275directiveInject"](M),A["\u0275\u0275directiveInject"](P.i))},e.\u0275cmp=A["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-captcha-dialog"]],decls:35,vars:38,consts:[[1,"dialog"],[1,"title-container"],[1,"title"],["id","btnClose",1,"button-close",3,"click"],[1,"form-group","d-flex","pb-1","align-items-center","align-items-md-start","flex-column","flex-md-row"],["tabindex","0",1,"d-flex","align-items-center","justify-content-between","border","border-grey-50","bg-grey-10","rounded","captcha","mb-4","mb-md-0",3,"focusout","click"],["class","d-flex m-auto",4,"ngIf"],["class","d-flex captcha-img-wrapper justify-content-center","tabindex","1","draggable","true",3,"ngClass",4,"ngIf"],[1,"d-flex","px-0"],["id","updateCaptchaBtn","container","body",1,"btn","input-group-text","input-group-icon",3,"disabled","isDisabled","tooltip","click"],[1,"i-refresh"],[1,"flex-fill"],[1,"input-group","ml-auto","rounded","captcha-control",3,"ngClass"],["type","text","id","captcha","autocomplete","off","maxlength","6","fuibIsFocused","",1,"form-control",3,"formControl","focus","blur"],[1,"input-message-container"],["class","error-list",4,"ngIf"],[1,"buttons-container"],["id","cancel","type","button",1,"btn","cancel",3,"click"],["id","submitBtn","type","button",1,"btn","submit",3,"disabled","click"],["class","loading loading-centered loading-sm",4,"ngIf"],[1,"d-flex","m-auto"],["tabindex","1","draggable","true",1,"d-flex","captcha-img-wrapper","justify-content-center",3,"ngClass"],["loading","lazy","alt","captcha",1,"d-flex","w-auto",3,"src"],[1,"error-list"],["id","captchaRequiredError",3,"hidden"],[3,"hidden"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(A["\u0275\u0275elementStart"](0,"div",0),A["\u0275\u0275elementStart"](1,"div"),A["\u0275\u0275pipe"](2,"async"),A["\u0275\u0275elementStart"](3,"div",1),A["\u0275\u0275elementStart"](4,"div",2),A["\u0275\u0275text"](5),A["\u0275\u0275pipe"](6,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](7,"div",3),A["\u0275\u0275listener"]("click",(function(){return t.destroyCaptcha()})),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](8,"div",4),A["\u0275\u0275elementStart"](9,"div",5),A["\u0275\u0275listener"]("focusout",(function(e){return t.zoom=!1,e.stopPropagation()}))("click",(function(){return t.zoomCaptcha()})),A["\u0275\u0275template"](10,V,2,0,"div",6),A["\u0275\u0275pipe"](11,"async"),A["\u0275\u0275template"](12,z,2,5,"div",7),A["\u0275\u0275pipe"](13,"async"),A["\u0275\u0275elementStart"](14,"div",8),A["\u0275\u0275elementStart"](15,"button",9),A["\u0275\u0275listener"]("click",(function(e){return e.stopPropagation(),t.refreshCaptcha()})),A["\u0275\u0275pipe"](16,"async"),A["\u0275\u0275pipe"](17,"async"),A["\u0275\u0275pipe"](18,"async"),A["\u0275\u0275pipe"](19,"async"),A["\u0275\u0275pipe"](20,"translate"),A["\u0275\u0275element"](21,"i",10),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](22,"div",11),A["\u0275\u0275elementStart"](23,"div",12),A["\u0275\u0275elementStart"](24,"input",13),A["\u0275\u0275listener"]("focus",(function(){return t.zoom=!0}))("blur",(function(){return t.zoom=!1})),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](25,"div",14),A["\u0275\u0275template"](26,U,13,22,"ul",15),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](27,"div",16),A["\u0275\u0275elementStart"](28,"button",17),A["\u0275\u0275listener"]("click",(function(){return t.destroyCaptcha()})),A["\u0275\u0275text"](29," \u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438 "),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](30,"button",18),A["\u0275\u0275listener"]("click",(function(){return t.onSubmitCaptcha()})),A["\u0275\u0275pipe"](31,"async"),A["\u0275\u0275text"](32," \u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 "),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275template"](33,q,1,0,"fuib-digital-preloader",19),A["\u0275\u0275pipe"](34,"async"),A["\u0275\u0275elementEnd"]()),2&e&&(A["\u0275\u0275advance"](1),A["\u0275\u0275classProp"]("filter-blur-3",A["\u0275\u0275pipeBind1"](2,14,t.isLoading$)),A["\u0275\u0275advance"](4),A["\u0275\u0275textInterpolate"](A["\u0275\u0275pipeBind1"](6,16,"REGISTRATION_DIIA.ENTER_CODE_FROM_IMAGE")),A["\u0275\u0275advance"](5),A["\u0275\u0275property"]("ngIf",""===A["\u0275\u0275pipeBind1"](11,18,t.captchaImage$)),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](13,20,t.captchaImage$)),A["\u0275\u0275advance"](3),A["\u0275\u0275property"]("disabled",""===A["\u0275\u0275pipeBind1"](16,22,t.captchaImage$)||0===A["\u0275\u0275pipeBind1"](17,24,t.captchaAttempts$))("isDisabled",""===A["\u0275\u0275pipeBind1"](18,26,t.captchaImage$)||0===A["\u0275\u0275pipeBind1"](19,28,t.captchaAttempts$)||t.isMobile)("tooltip",A["\u0275\u0275pipeBind1"](20,30,"REGISTRATION.TOOLTIPS.REFRESH_CAPTCHA")),A["\u0275\u0275advance"](8),A["\u0275\u0275property"]("ngClass",A["\u0275\u0275pureFunction1"](36,K,t.captchaControl.invalid&&t.captchaControl.touched)),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("formControl",t.captchaControl),A["\u0275\u0275attribute"]("disabled",(null==t.captchaControl.errors?null:t.captchaControl.errors.captchaError)===t.cpwdErrorsEnum.ATTEMPT_TIMEOUT||null),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",t.captchaControl.invalid&&t.captchaControl.touched),A["\u0275\u0275advance"](4),A["\u0275\u0275property"]("disabled",""===A["\u0275\u0275pipeBind1"](31,32,t.captchaImage$)),A["\u0275\u0275advance"](3),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](34,34,t.isLoading$)))},directives:[r.t,a.l,r.q,i.DefaultValueAccessor,i.MaxLengthValidator,N.a,i.NgControlStatus,i.FormControlDirective,B.a,W.a],pipes:[r.b,F.d],styles:['[_nghost-%COMP%]{position:relative;width:100%;height:100%}@media (min-width:768px){[_nghost-%COMP%]{min-width:504px}}.dialog[_ngcontent-%COMP%]{position:relative}.input-message-container[_ngcontent-%COMP%]{transition:all .5s ease}.btn-link[_ngcontent-%COMP%]{cursor:pointer}.grey[_ngcontent-%COMP%]{color:#6d6d7a}.small[_ngcontent-%COMP%]{font-size:12px!important}.captcha[_ngcontent-%COMP%]{width:256px;height:48px;cursor:pointer;line-height:0}@media (min-width:768px){.captcha[_ngcontent-%COMP%]{width:150px;margin-right:8px!important}}.captcha-img-wrapper[_ngcontent-%COMP%]{overflow:hidden;height:100%;max-height:100%;transition:all .5s ease-in-out;width:100%}.captcha-img-wrapper.blur[_ngcontent-%COMP%]{filter:blur(4px)}.captcha-img-wrapper.zoomed[_ngcontent-%COMP%]{transform:scale(2.02);z-index:9999;border-radius:4px!important;border:1px solid #93939e;background:#f5f5fa}.captcha-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px 0 0 8px;width:100%}.captcha-control[_ngcontent-%COMP%]{transition:all .5s ease-in-out}@media (max-width:768px){.captcha-control[_ngcontent-%COMP%]{width:256px}}.captcha-zoom-trigger[_ngcontent-%COMP%]{min-width:48px;height:100%;border-radius:0;border-top-right-radius:8px;border-bottom-right-radius:8px;justify-content:center;background:#fff;align-items:center}.captcha[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-width:1px!important;border:0;border-left:1px solid #93939e;border-top-left-radius:0;border-bottom-left-radius:0}.captcha[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{cursor:default}.captcha[_ngcontent-%COMP%]   .i-search[_ngcontent-%COMP%]:before{color:#b6b6bf}.buttons-container[_ngcontent-%COMP%]{display:flex;min-height:40px;flex-wrap:wrap;justify-content:flex-end;padding:16px 24px;border-top:1px solid #e1e1e8}.buttons-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-height:40px;max-width:132px;border-radius:100px;font-family:gilroy;font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;letter-spacing:.18px;color:#4d4d5c;margin:0 5px}.buttons-container[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{border:2px solid #f91f2b;background:none}.buttons-container[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]:hover, .buttons-container[_ngcontent-%COMP%]   .btn.submit[_ngcontent-%COMP%]{background:#f91f2b;color:#fff}.buttons-container[_ngcontent-%COMP%]   .btn.submit[_ngcontent-%COMP%]:hover{background:#fc979d}.form-group[_ngcontent-%COMP%]{padding:0 24px;margin:30px 0}.title-container[_ngcontent-%COMP%]{height:64px;display:flex;align-items:center;position:relative;justify-content:space-between;border-bottom:1px solid #e1e1e8;padding:0 24px}.title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:gilroy;font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.4px;color:#4d4d5c}.button-close[_ngcontent-%COMP%]{position:relative;justify-content:center;display:flex;cursor:pointer;width:18px;height:18px;opacity:.7;transition:all .3s}.button-close[_ngcontent-%COMP%]:hover{opacity:1}.button-close[_ngcontent-%COMP%]:after, .button-close[_ngcontent-%COMP%]:before{position:absolute;content:" ";height:100%;margin:0 auto;width:2px;background:#93939e;border-radius:4px}.filter-blur-3[_ngcontent-%COMP%]{pointer-events:none}.button-close[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.button-close[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}'],changeDetection:0}),e}(),X=n("ob5s"),J=n("6KkV"),Y=n("q/mu"),Z=n("Ue6F"),ee=["loginInput"],te=["otpInput"];function ne(e,t){1&e&&A["\u0275\u0275element"](0,"app-uncompatible")}var re=function(e){return{requiredLength:e}};function ie(e,t){if(1&e&&(A["\u0275\u0275elementStart"](0,"ul",23),A["\u0275\u0275elementStart"](1,"li",24),A["\u0275\u0275text"](2),A["\u0275\u0275pipe"](3,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](4,"li",24),A["\u0275\u0275text"](5),A["\u0275\u0275pipe"](6,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"]()),2&e){var n=A["\u0275\u0275nextContext"](3);A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("hidden",!(null!=n.loginControl.errors&&n.loginControl.errors.required)),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](3,4,"VALIDATIONS.REQUIRED")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("hidden",!(null!=n.loginControl.errors&&n.loginControl.errors.minlength)),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind2"](6,6,"VALIDATIONS.REQUIRED_LENGTH_CHARACTERS",A["\u0275\u0275pureFunction1"](9,re,null==n.loginControl.errors||null==n.loginControl.errors.minlength?null:n.loginControl.errors.minlength.requiredLength))," ")}}function oe(e,t){if(1&e){var n=A["\u0275\u0275getCurrentView"]();A["\u0275\u0275elementContainerStart"](0),A["\u0275\u0275elementStart"](1,"h4",7),A["\u0275\u0275text"](2),A["\u0275\u0275pipe"](3,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](4,"div",8),A["\u0275\u0275text"](5),A["\u0275\u0275pipe"](6,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275template"](7,ne,1,0,"app-uncompatible",4),A["\u0275\u0275elementStart"](8,"form",9),A["\u0275\u0275listener"]("submit",(function(){return A["\u0275\u0275restoreView"](n),A["\u0275\u0275nextContext"](2).doLogin()})),A["\u0275\u0275elementStart"](9,"div",10),A["\u0275\u0275elementStart"](10,"label",11),A["\u0275\u0275text"](11),A["\u0275\u0275pipe"](12,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](13,"div",12),A["\u0275\u0275element"](14,"input",13,14),A["\u0275\u0275pipe"](16,"translate"),A["\u0275\u0275elementStart"](17,"div",15),A["\u0275\u0275elementStart"](18,"span",16),A["\u0275\u0275element"](19,"i",17),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](20,"div",18),A["\u0275\u0275template"](21,ie,7,11,"ul",19),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](22,"div",20),A["\u0275\u0275elementStart"](23,"button",21),A["\u0275\u0275text"](24),A["\u0275\u0275pipe"](25,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](26,"button",22),A["\u0275\u0275pipe"](27,"async"),A["\u0275\u0275text"](28),A["\u0275\u0275pipe"](29,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=A["\u0275\u0275nextContext"](2);A["\u0275\u0275advance"](2),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](3,13,"RESET_PASSWORD.ENTER_LOGIN")," "),A["\u0275\u0275advance"](3),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](6,15,"RESET_PASSWORD.TO_RESET_PASSWORD")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",!r.appCompatible),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("formGroup",r.loginForm),A["\u0275\u0275advance"](3),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](12,17,"RESET_PASSWORD.LABEL.LOGIN")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275classProp"]("is-invalid",r.loginControl.invalid&&r.loginForm.touched),A["\u0275\u0275advance"](1),A["\u0275\u0275propertyInterpolate"]("placeholder",A["\u0275\u0275pipeBind1"](16,19,"RESET_PASSWORD.PLACEHOLDER.ENTER_YOUR_LOGIN")),A["\u0275\u0275advance"](7),A["\u0275\u0275property"]("ngIf",r.loginForm.invalid&&r.loginForm.touched),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("routerLink",r.APP_URL.LOGIN),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](25,21,"RESET_PASSWORD.BUTTONS.BACK")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("disabled",A["\u0275\u0275pipeBind1"](27,23,r.isLoading$)),A["\u0275\u0275advance"](2),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](29,25,"RESET_PASSWORD.BUTTONS.NEXT")," ")}}function ae(e,t){if(1&e){var n=A["\u0275\u0275getCurrentView"]();A["\u0275\u0275elementContainerStart"](0),A["\u0275\u0275elementStart"](1,"div",25),A["\u0275\u0275elementStart"](2,"div",26),A["\u0275\u0275element"](3,"img",27),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](4,"div",28),A["\u0275\u0275text"](5),A["\u0275\u0275pipe"](6,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](7,"div",29),A["\u0275\u0275text"](8),A["\u0275\u0275pipe"](9,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](10,"button",30),A["\u0275\u0275listener"]("click",(function(){A["\u0275\u0275restoreView"](n);var e=A["\u0275\u0275nextContext"](2);return e.changePageState(e.resetPasswordPageStateEnum.LOGIN)})),A["\u0275\u0275text"](11),A["\u0275\u0275pipe"](12,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementContainerEnd"]()}2&e&&(A["\u0275\u0275advance"](5),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](6,3,"RESET_PASSWORD.CALL_MANAGER_ERROR.TITLE")," "),A["\u0275\u0275advance"](3),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](9,5,"RESET_PASSWORD.CALL_MANAGER_ERROR.DESCRIPTION")," "),A["\u0275\u0275advance"](3),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](12,7,"RESET_PASSWORD.CALL_MANAGER_ERROR.BUTTON")," "))}var se=function(e){return{attr:e}};function pe(e,t){if(1&e&&(A["\u0275\u0275elementStart"](0,"div",25),A["\u0275\u0275elementStart"](1,"div",26),A["\u0275\u0275element"](2,"img",32),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](3,"div",28),A["\u0275\u0275text"](4),A["\u0275\u0275pipe"](5,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275element"](6,"div",33),A["\u0275\u0275pipe"](7,"translate"),A["\u0275\u0275elementStart"](8,"button",34),A["\u0275\u0275text"](9),A["\u0275\u0275pipe"](10,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,r=A["\u0275\u0275nextContext"](3);A["\u0275\u0275advance"](4),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](5,4,"RESET_PASSWORD.PASSWORD_SENT.TITLE")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("innerHTML",A["\u0275\u0275pipeBind2"](7,6,"RESET_PASSWORD.PASSWORD_SENT.DESCRIPTION",A["\u0275\u0275pureFunction1"](11,se,n)),A["\u0275\u0275sanitizeHtml"]),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("routerLink",r.APP_URL.LOGIN),A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](10,9,"RESET_PASSWORD.PASSWORD_SENT.BUTTON")," ")}}function ce(e,t){if(1&e&&(A["\u0275\u0275elementContainerStart"](0),A["\u0275\u0275template"](1,pe,11,13,"div",31),A["\u0275\u0275pipe"](2,"async"),A["\u0275\u0275elementContainerEnd"]()),2&e){var n=A["\u0275\u0275nextContext"](2);A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](2,1,n.clientPhoneEnding$))}}function le(e,t){1&e&&(A["\u0275\u0275elementStart"](0,"div",8),A["\u0275\u0275text"](1),A["\u0275\u0275pipe"](2,"translate"),A["\u0275\u0275elementEnd"]()),2&e&&(A["\u0275\u0275advance"](1),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](2,1,"RESET_PASSWORD.VERIFICATION_CODE.DESCRIPTION")," "))}function de(e,t){if(1&e&&(A["\u0275\u0275elementStart"](0,"div",44),A["\u0275\u0275element"](1,"i",45),A["\u0275\u0275text"](2),A["\u0275\u0275pipe"](3,"translate"),A["\u0275\u0275pipe"](4,"async"),A["\u0275\u0275elementEnd"]()),2&e){var n=A["\u0275\u0275nextContext"](3);A["\u0275\u0275advance"](2),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind2"](3,1,"RESET_PASSWORD.VERIFICATION_CODE.WRONG_CODE",A["\u0275\u0275pureFunction1"](6,se,A["\u0275\u0275pipeBind1"](4,4,n.OTPAttempts$)))," ")}}function ue(e,t){if(1&e){var n=A["\u0275\u0275getCurrentView"]();A["\u0275\u0275elementStart"](0,"fuib-countdown",48),A["\u0275\u0275listener"]("counterTimeIsOver",(function(){return A["\u0275\u0275restoreView"](n),A["\u0275\u0275nextContext"](4).otpExpired()})),A["\u0275\u0275elementStart"](1,"span",49),A["\u0275\u0275text"](2),A["\u0275\u0275pipe"](3,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"]()}if(2&e){var r=t.ngIf;A["\u0275\u0275property"]("isStartImmediately",!0)("end",r),A["\u0275\u0275advance"](2),A["\u0275\u0275textInterpolate1"]("",A["\u0275\u0275pipeBind1"](3,3,"RESET_PASSWORD.VERIFICATION_CODE.RESEND_AFTER")," ")}}function he(e,t){if(1&e&&(A["\u0275\u0275elementStart"](0,"div",46),A["\u0275\u0275template"](1,ue,4,5,"fuib-countdown",47),A["\u0275\u0275pipe"](2,"async"),A["\u0275\u0275elementEnd"]()),2&e){var n=A["\u0275\u0275nextContext"](3);A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](2,1,n.OTPTTLDate$))}}function me(e,t){if(1&e){var n=A["\u0275\u0275getCurrentView"]();A["\u0275\u0275elementStart"](0,"div",50),A["\u0275\u0275listener"]("click",(function(){return A["\u0275\u0275restoreView"](n),A["\u0275\u0275nextContext"](3).otpResend()})),A["\u0275\u0275element"](1,"i",51),A["\u0275\u0275text"](2),A["\u0275\u0275pipe"](3,"translate"),A["\u0275\u0275elementEnd"]()}2&e&&(A["\u0275\u0275advance"](2),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](3,1,"RESET_PASSWORD.VERIFICATION_CODE.RESEND")," "))}function ge(e,t){if(1&e){var n=A["\u0275\u0275getCurrentView"]();A["\u0275\u0275elementContainerStart"](0),A["\u0275\u0275elementStart"](1,"div",35),A["\u0275\u0275elementStart"](2,"h4",7),A["\u0275\u0275text"](3),A["\u0275\u0275pipe"](4,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275template"](5,le,3,3,"div",36),A["\u0275\u0275pipe"](6,"async"),A["\u0275\u0275template"](7,de,5,8,"div",37),A["\u0275\u0275pipe"](8,"async"),A["\u0275\u0275elementStart"](9,"form",38),A["\u0275\u0275element"](10,"fuib-otp-input",39,40),A["\u0275\u0275elementEnd"](),A["\u0275\u0275template"](12,he,3,3,"div",41),A["\u0275\u0275pipe"](13,"async"),A["\u0275\u0275template"](14,me,4,3,"div",42),A["\u0275\u0275pipe"](15,"async"),A["\u0275\u0275elementStart"](16,"button",43),A["\u0275\u0275listener"]("click",(function(){return A["\u0275\u0275restoreView"](n),A["\u0275\u0275nextContext"](2).cancelCPWDFlow()})),A["\u0275\u0275text"](17),A["\u0275\u0275pipe"](18,"translate"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=A["\u0275\u0275nextContext"](2);A["\u0275\u0275advance"](3),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](4,9,"RESET_PASSWORD.VERIFICATION_CODE.TITLE")," "),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",-1===A["\u0275\u0275pipeBind1"](6,11,r.OTPAttempts$)),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](8,13,r.OTPAttempts$)>=0),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("formGroup",r.otpForm),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("otpLength",r.otpLength)("otpFormGroup",r.otpForm),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",!1===A["\u0275\u0275pipeBind1"](13,15,r.isOtpExpired$)),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](15,17,r.isOtpExpired$)),A["\u0275\u0275advance"](3),A["\u0275\u0275textInterpolate1"](" ",A["\u0275\u0275pipeBind1"](18,19,"RESET_PASSWORD.BUTTONS.BACK")," ")}}function fe(e,t){if(1&e&&(A["\u0275\u0275elementContainerStart"](0),A["\u0275\u0275template"](1,oe,30,27,"ng-container",4),A["\u0275\u0275template"](2,ae,13,9,"ng-container",4),A["\u0275\u0275template"](3,ce,3,3,"ng-container",4),A["\u0275\u0275template"](4,ge,19,21,"ng-container",4),A["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf,r=A["\u0275\u0275nextContext"]();A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("ngIf",n===r.resetPasswordPageStateEnum.LOGIN),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("ngIf",n===r.resetPasswordPageStateEnum.ERROR),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("ngIf",n===r.resetPasswordPageStateEnum.SUCCESS),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("ngIf",n===r.resetPasswordPageStateEnum.CHECK_OTP)}}function xe(e,t){1&e&&(A["\u0275\u0275elementStart"](0,"div",52),A["\u0275\u0275element"](1,"fuib-digital-preloader",53),A["\u0275\u0275elementEnd"]())}function Ce(e,t){1&e&&(A["\u0275\u0275elementStart"](0,"div",54),A["\u0275\u0275text"](1," \u0417\u0430\u0445\u0438\u0441\u0442 \u0432\u0456\u0434 \u0441\u043f\u0430\u043c\u0443 reCAPTCHA. "),A["\u0275\u0275elementStart"](2,"a",55),A["\u0275\u0275text"](3,"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275text"](4," \u0442\u0430 "),A["\u0275\u0275elementStart"](5,"a",56),A["\u0275\u0275text"](6,"\u0423\u043c\u043e\u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementEnd"]())}var be=[{path:"",component:function(){function e(e,t,n,r,i,o){this.formBuilder=e,this.sharedService=t,this.resetPasswordService=n,this.dialogService=r,this.router=i,this.compatibilityService=o,this.currentPageState$=new x.a($.LOGIN),this.clientPhoneEnding$=new x.a(""),this.isOtpExpired$=new x.a(!1),this.APP_URL=S.c,this.isLoading$=new x.a(!1),this.isCaptchaLoaded=!0,this.resetPasswordPageStateEnum=$,this.recaptchaSiteKey=l.a.recaptcha.siteKeyCPWD,this.otpLength=4,this.unsubscribeAll$=new C.a,this.isMobile=this.sharedService.isMobile,this.checkCompatibility()}return e.prototype.ngOnInit=function(){var e=this;this.OTPTTLDate$=this.resetPasswordService.OTPTTLDate$.asObservable(),this.OTPAttempts$=this.resetPasswordService.OTPAttempts$.asObservable(),this.captchaTTLDate$=this.resetPasswordService.captchaTTLDate$.asObservable(),this.lastSessionLogin$=this.resetPasswordService.lastUserLogin$.asObservable(),this.currentPageState$.pipe(Object(d.a)(this.unsubscribeAll$)).subscribe((function(){e.isLoading$.next(!1)})),this.initLoginForm(),this.initOtpForm(),this.checkPreviousSession()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.dialogRef&&this.dialogRef.close()},Object.defineProperty(e.prototype,"loginControl",{get:function(){return this.loginForm.get("login")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"otpControl",{get:function(){return this.otpForm.get("otp")},enumerable:!1,configurable:!0}),e.prototype.captchaLoadError=function(){this.isCaptchaLoaded=!1},e.prototype.changePageState=function(e){e===$.CHECK_OTP&&(this.otpControl.reset(""),this.otpControl.enable(),this.isOtpExpired$.next(!1),this.isLoading$.next(!1)),this.currentPageState$.next(e)},e.prototype.otpExpired=function(){this.otpControl.patchValue(""),this.otpControl.disable(),this.isOtpExpired$.next(!0)},e.prototype.doLogin=function(){var e=this;this.loginForm.markAsTouched(),this.loginForm.valid&&(this.loginInput.nativeElement.blur(),this.isLoading$.next(!0),this.isCaptchaLoaded&&"undefined"!=typeof grecaptcha?grecaptcha.ready((function(){return e.startResetFlow()})):this.startResetFlow())},e.prototype.otpResend=function(){var e=this;this.isLoading$.next(!0),this.resetPasswordService.resendOtp().pipe(Object(d.a)(this.unsubscribeAll$)).subscribe({next:function(){e.otpControl.reset(""),e.otpControl.enable(),e.isOtpExpired$.next(!1),e.isLoading$.next(!1),e.otpInput.focusFirstInput()},error:function(){return e.changePageState($.ERROR)}})},e.prototype.cancelCPWDFlow=function(){this.resetPasswordService.setOTPTTLDate(0),this.router.navigate([this.APP_URL.LOGIN])},e.prototype.checkOtp=function(){var e=this;this.otpControl.valid&&(this.isLoading$.next(!0),this.otpControl.disable(),this.resetPasswordService.checkOtp(this.otpControl.value).pipe(Object(d.a)(this.unsubscribeAll$)).subscribe({next:function(t){t.result===I.Ok?(e.clientPhoneEnding$.next(t.phone),e.changePageState($.SUCCESS)):t.result===I.Error&&(e.otpControl.enable(),e.otpControl.setErrors({otpError:!0}),e.isLoading$.next(!1))},error:function(t){return e.handleOtpErrors(t)}}))},e.prototype.showCaptcha=function(){var e=this;this.resetPasswordService.refreshCaptcha().pipe(Object(u.a)((function(){return e.changePageState($.ERROR),Object(b.a)("ERROR")})),Object(h.a)((function(e){return!!e})),Object(m.a)((function(){return e.dialogRef=e.dialogService.open(Q),e.isLoading$.next(!1),e.dialogRef.afterClosed()})),Object(d.a)(this.unsubscribeAll$)).subscribe((function(t){e.dialogRef=null,e.resetPasswordService.setCaptchaTTLDate(0),t===I.Ok?e.changePageState($.CHECK_OTP):t===I.Error&&e.changePageState($.ERROR)}))},e.prototype.initLoginForm=function(){this.loginForm=this.formBuilder.group({login:["",i.Validators.compose([i.Validators.required,i.Validators.minLength(1),i.Validators.maxLength(30)])]})},e.prototype.initOtpForm=function(){var e=this;this.otpForm=this.formBuilder.group({otp:["",i.Validators.compose([i.Validators.required,i.Validators.pattern("[0-9]{"+this.otpLength+"}"),i.Validators.minLength(this.otpLength),i.Validators.maxLength(this.otpLength)])]}),this.otpControl.valueChanges.pipe(Object(d.a)(this.unsubscribeAll$),Object(g.a)(),Object(h.a)((function(){return e.otpControl.valid}))).subscribe((function(){return e.checkOtp()}))},e.prototype.startResetFlow=function(){var e=this;Object(O.a)((function(){return"undefined"!=typeof grecaptcha&&e.isCaptchaLoaded?Object(E.a)(grecaptcha.execute(e.recaptchaSiteKey,{action:"CPWD"})):Object(v.a)("")})).pipe(Object(m.a)((function(t){return e.resetPasswordService.resetPasswordScore({tokenResponse:t,login:e.loginControl.value})})),Object(d.a)(this.unsubscribeAll$)).subscribe({next:function(t){t.result===I.Ok?e.changePageState($.CHECK_OTP):e.showCaptcha()},error:function(){return e.changePageState($.ERROR)}})},e.prototype.handleOtpErrors=function(e){var t=e.error;switch(t&&t.error&&t.error.code){case j.OTP_CHALLENGE_ERROR:this.resetPasswordService.setOTPAttempts(0),this.isOtpExpired$.next(!0);break;default:this.resetPasswordService.setOTPTTLDate(0),this.changePageState($.ERROR)}this.isLoading$.next(!1)},e.prototype.checkCompatibility=function(){this.appCompatible=this.compatibilityService.isCompatible()},e.prototype.checkPreviousSession=function(){var e=this;this.OTPTTLDate$.pipe(Object(f.a)(1),Object(h.a)((function(e){return(new Date).getTime()<e}))).subscribe((function(){return e.changePageState($.CHECK_OTP)})),this.OTPAttempts$.pipe(Object(f.a)(1)).subscribe((function(t){0===t&&e.otpExpired()})),this.captchaTTLDate$.pipe(Object(f.a)(1),Object(h.a)((function(e){return(new Date).getTime()<e})),Object(m.a)((function(){return e.lastSessionLogin$.pipe(Object(f.a)(1))}))).subscribe((function(t){e.loginControl.patchValue(t),e.showCaptcha()}))},e.\u0275fac=function(t){return new(t||e)(A["\u0275\u0275directiveInject"](i.FormBuilder),A["\u0275\u0275directiveInject"](P.i),A["\u0275\u0275directiveInject"](M),A["\u0275\u0275directiveInject"](P.d),A["\u0275\u0275directiveInject"](o.d),A["\u0275\u0275directiveInject"](w.a))},e.\u0275cmp=A["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-reset-password"]],viewQuery:function(e,t){var n;1&e&&(A["\u0275\u0275viewQuery"](ee,!0),A["\u0275\u0275viewQuery"](te,!0)),2&e&&(A["\u0275\u0275queryRefresh"](n=A["\u0275\u0275loadQuery"]())&&(t.loginInput=n.first),A["\u0275\u0275queryRefresh"](n=A["\u0275\u0275loadQuery"]())&&(t.otpInput=n.first))},decls:11,vars:15,consts:[[1,"under-header-gap"],[3,"fuibGoogleReCaptcha","notLoaded"],[1,"d-flex","justify-content-center","flex-column","form-holder","position-relative",3,"click"],[1,"landscape-scroll","d-flex","flex-column","align-items-center"],[4,"ngIf"],["class","preloader preloader-IE position-absolute d-flex align-items-center justify-content-center",4,"ngIf"],["class","recaptcha-info",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","mb-md-1"],[1,"reset-password__hint","d-flex","align-items-center","justify-content-center"],["novalidate","",1,"d-flex","flex-column",3,"formGroup","submit"],[1,"form-group"],["for","login",1,"d-flex","mb-0"],[1,"input-group"],["type","text","formControlName","login","id","login","maxlength","30","autocomplete","off","fuibIsFocused","",1,"form-control",3,"placeholder"],["loginInput",""],[1,"input-group-append"],[1,"input-group-text","input-group-icon"],[1,"i-user"],[1,"input-message-container"],["class","error-list",4,"ngIf"],[1,"d-flex","flex-row","mt-4"],["id","goBack","type","button",1,"btn","btn-lg","btn-outline-primary","mx-1","mb-2","d-flex","justify-content-center","flex-grow-1","flex-basis-0",3,"routerLink"],["id","doLogin","type","submit",1,"btn","btn-lg","btn-primary","mx-1","mb-2","d-flex","justify-content-center","flex-grow-1","flex-basis-0",3,"disabled"],[1,"error-list"],[3,"hidden"],[1,"d-flex","flex-column","justify-content-center","align-items-center","result-page__container","mx-auto","mt-4","pt-4"],[1,"d-flex","mb-3","mt-5","pt-4"],["src","assets/icons/icon-error-circle.svg","alt","error"],[1,"d-flex","h5","mx-auto","mb-3","result-page__title"],[1,"d-flex","mb-4","tac","result-page__message"],["type","button",1,"btn","btn-primary","w-100","result-page__button","fsz-1-1",3,"click"],["class","d-flex flex-column justify-content-center align-items-center result-page__container mx-auto mt-4 pt-4",4,"ngIf"],["src","assets/icons/icon-success-circle.svg","alt","success"],[1,"d-flex","mb-4","tac","result-page__message",3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100","result-page__button","fsz-1-1",3,"routerLink"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["class","reset-password__hint d-flex align-items-center justify-content-center",4,"ngIf"],["class","reset-password__wrong-code d-flex flex-row align-items-center justify-content-center",4,"ngIf"],["novalidate","",1,"reset-password__otp-form",3,"formGroup"],[3,"otpLength","otpFormGroup"],["otpInput",""],["class","reset-password__timer d-flex align-items-center justify-content-center",4,"ngIf"],["class","reset-password__resend-otp d-flex flex-row align-items-center",3,"click",4,"ngIf"],["type","button",1,"btn","btn-lg","btn-outline-primary","w-100","mx-1","mb-2","d-flex","justify-content-center","flex-grow-1","flex-basis-0",3,"click"],[1,"reset-password__wrong-code","d-flex","flex-row","align-items-center","justify-content-center"],[1,"i-warning1","mr-1"],[1,"reset-password__timer","d-flex","align-items-center","justify-content-center"],["id","countdown","units","Minutes | Seconds","divider",":",3,"isStartImmediately","end","counterTimeIsOver",4,"ngIf"],["id","countdown","units","Minutes | Seconds","divider",":",3,"isStartImmediately","end","counterTimeIsOver"],[1,"before-countdown"],[1,"reset-password__resend-otp","d-flex","flex-row","align-items-center",3,"click"],[1,"i-refresh","text-red","fsz-1-5","mr-2"],[1,"preloader","preloader-IE","position-absolute","d-flex","align-items-center","justify-content-center"],[1,"loading","loading-sm"],[1,"recaptcha-info"],["href","https://policies.google.com/privacy?hl=uk","target","_blank",1,"btn-link","btn-link-underlined","small"],["href","https://policies.google.com/terms?hl=uk","target","_blank",1,"btn-link","btn-link-underlined","small"]],template:function(e,t){1&e&&(A["\u0275\u0275element"](0,"div",0),A["\u0275\u0275elementStart"](1,"div",1),A["\u0275\u0275listener"]("notLoaded",(function(){return t.captchaLoadError()})),A["\u0275\u0275elementEnd"](),A["\u0275\u0275elementStart"](2,"div",2),A["\u0275\u0275listener"]("click",(function(e){return e.stopPropagation()})),A["\u0275\u0275elementStart"](3,"div",3),A["\u0275\u0275pipe"](4,"async"),A["\u0275\u0275template"](5,fe,5,4,"ng-container",4),A["\u0275\u0275pipe"](6,"async"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275template"](7,xe,2,0,"div",5),A["\u0275\u0275pipe"](8,"async"),A["\u0275\u0275elementEnd"](),A["\u0275\u0275template"](9,Ce,7,0,"div",6),A["\u0275\u0275pipe"](10,"async")),2&e&&(A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("fuibGoogleReCaptcha",t.recaptchaSiteKey),A["\u0275\u0275advance"](1),A["\u0275\u0275property"]("@collapse",void 0),A["\u0275\u0275advance"](1),A["\u0275\u0275classProp"]("filter-blur-3",A["\u0275\u0275pipeBind1"](4,7,t.isLoading$)),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](6,9,t.currentPageState$)),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](8,11,t.isLoading$)),A["\u0275\u0275advance"](2),A["\u0275\u0275property"]("ngIf",A["\u0275\u0275pipeBind1"](10,13,t.currentPageState$)===t.resetPasswordPageStateEnum.LOGIN))},directives:[X.a,r.t,i["\u0275angular_packages_forms_forms_y"],i.NgControlStatusGroup,i.FormGroupDirective,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,i.MaxLengthValidator,N.a,o.e,J.a,Y.a,Z.a,W.a],pipes:[r.b,F.d],styles:["[_nghost-%COMP%] {position:sticky;top:0;left:0;width:100%;background:#fff;min-height:100vh}[_nghost-%COMP%]  .form-holder{height:100%;display:flex;justify-content:center;transition:all .3s ease;align-items:center}[_nghost-%COMP%]  form{width:90vw;max-width:366px}[_nghost-%COMP%]  form input{font-size:16px}[_nghost-%COMP%]  form .captcha-img{width:100px;height:48px;line-height:0}[_nghost-%COMP%]  form .captcha-img img{max-height:35px}@media screen and (orientation:landscape) and (min-device-width:319px) and (max-device-width:680px){[_nghost-%COMP%]  form{height:inherit}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){[_nghost-%COMP%]  .preloader-IE{margin:-17rem 0 0 -5rem!important}}@media screen and (orientation:landscape) and (min-device-width:319px) and (max-device-width:665px){[_nghost-%COMP%]  .login-entry{position:relative;top:10%}}[_nghost-%COMP%]  .input-group-append{max-height:48px}@media screen and (orientation:landscape) and (min-device-width:319px) and (max-device-width:890px){[_nghost-%COMP%]  .input-group-append{z-index:0!important}}[_nghost-%COMP%]  preloader-sm .ld-ring:after{border-color:#93939e #93939e #93939e transparent!important}.filter-blur-3[_ngcontent-%COMP%]{pointer-events:none}.preloader[_ngcontent-%COMP%]{top:120px}.client-message[_ngcontent-%COMP%]{margin-top:16px;max-width:366px;width:90vw;font-size:8px!important}.under-header-gap[_ngcontent-%COMP%]{height:170px}.reset-password__hint[_ngcontent-%COMP%]{padding:12px 0 32px;color:#93939e;text-align:center;font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px}.reset-password__otp-form[_ngcontent-%COMP%]{width:auto;max-width:unset;padding-bottom:23px}.reset-password__timer[_ngcontent-%COMP%]{padding:0 0 20px;color:#93939e;font-size:12px;line-height:16px;letter-spacing:.25px}.reset-password__timer[_ngcontent-%COMP%]  .measurements{padding-left:0!important}.reset-password__timer[_ngcontent-%COMP%]  .measurements-number{font-size:12px;color:#93939e}.reset-password__wrong-code[_ngcontent-%COMP%]{padding:12px 0 30px;color:#f57f17;font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px}.reset-password__resend-otp[_ngcontent-%COMP%]{cursor:pointer;padding:0 0 24px;color:#4d4d5c;font-size:14px;font-weight:700;line-height:20px;letter-spacing:.18px}.result-page__container[_ngcontent-%COMP%]{max-width:456px}@media (max-width:768px){.result-page__container[_ngcontent-%COMP%]{padding:0 30px}}.result-page__title[_ngcontent-%COMP%]{line-height:32px}@media (max-width:768px){.result-page__title[_ngcontent-%COMP%]{font-size:25px}}@media (max-width:768px){.result-page__message[_ngcontent-%COMP%]{font-size:14px}}.result-page__button[_ngcontent-%COMP%]{height:56px}@media (max-width:768px){.result-page__button[_ngcontent-%COMP%]{height:40px}}.small[_ngcontent-%COMP%]{font-size:12px!important}.recaptcha-info[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:24px;font-family:gilroy;font-style:normal;font-weight:500;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#93939e;transform:translate(0)}"],data:{animation:[T.b]},changeDetection:0}),e}()}],Oe=function(){function e(){}return e.\u0275mod=A["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=A["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.h.forChild(be)],o.h]}),e}(),Ee=function(){function e(){}return e.\u0275mod=A["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=A["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:p.a,useValue:l.a.compatibility}],imports:[[r.c,s.a,i.ReactiveFormsModule,a.m.forRoot(),Oe,c.a,o.h]]}),e}()}}]);