(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"+NdQ":function(e,t,n){"use strict";n.r(t),n.d(t,"RegistrationDiiaModule",(function(){return fi}));var i=n("ofXK"),r=n("tyNb"),o=n("3Pt+"),a=n("XNiG"),s=n("1G5W"),l=n("nYR2"),c=n("BIjG"),p=n("H0VJ"),d=n("Eu4x"),u=n("s4e5"),m=n("AytR"),g=n("VHTt"),f=n("Ys8X"),h=n("V1FT"),v=n("LzQu"),I=n("gzOI"),b=n("IYfF"),S=n("x2pC"),E=n("+N/F"),O=n("FvfU"),x=n("fXoL"),_=n("TMn8"),T=n("904P"),C=n("vs+u"),A=n("SKBu"),y=n("ob5s"),R=n("6fPx"),N=n("sYmb"),P=["popupNotification"];function D(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"ul",28),x["\u0275\u0275elementStart"](1,"li",29),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"li",30),x["\u0275\u0275text"](5),x["\u0275\u0275pipe"](6,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"li",30),x["\u0275\u0275text"](8),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("hidden",!(null!=n.phoneControl.errors&&n.phoneControl.errors.required)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,6,"VALIDATIONS.REQUIRED")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.phoneControl.errors&&n.phoneControl.errors.pattern)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](6,8,"VALIDATIONS.INVALID_PHONE_FORMAT")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.phoneControl.errors&&n.phoneControl.errors.otpLimit)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](9,10,"VALIDATIONS.INVALID_OTP_LIMIT")," ")}}function M(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",31),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,n.unexpectedErrorMessage)," ")}}function w(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",32)}function k(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",33),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementStart"](3,"a",34),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementStart"](8,"a",35),x["\u0275\u0275text"](9),x["\u0275\u0275pipe"](10,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementContainer"](13,36),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](),i=x["\u0275\u0275reference"](42);x["\u0275\u0275styleProp"]("max-height","460px"),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,10,"REGISTRATION_DIIA.I_GIVE_CONSENT_START")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("href",n.B2B_PATH,x["\u0275\u0275sanitizeUrl"]),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,12,"REGISTRATION.I_GIVE_CONSENT_LINK_NOTIFICATION")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](7,14,"REGISTRATION.I_GIVE_CONSENT_END_1")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("href",n.DIGITAL_PUMB_PATH,x["\u0275\u0275sanitizeUrl"]),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](10,16,"REGISTRATION.I_GIVE_CONSENT_END_2")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,18,"REGISTRATION.I_GIVE_CONSENT_END_3")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngTemplateOutlet",i)}}function L(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div"),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"ul",37),x["\u0275\u0275elementStart"](4,"li"),x["\u0275\u0275text"](5),x["\u0275\u0275pipe"](6,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"li"),x["\u0275\u0275text"](8),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"li"),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](13),x["\u0275\u0275pipe"](14,"translate")),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](2,5,"REGISTRATION_DIIA.ABOUT_AGREEMENT")),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](6,7,"REGISTRATION_DIIA.ABOUT_CREDIT_HISTORY")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](9,9,"REGISTRATION_DIIA.ABOUT_INFO_USAGE")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](12,11,"REGISTRATION_DIIA.ABOUT_USAGE_CREDIT_HISTORY")),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](14,13,"REGISTRATION_DIIA.ABOUT_AGREE_FINAL"),"\n"))}var j=function(e){return{"filter-blur-3":e}},B=function(e){return{"is-invalid":e}},F=function(e){return{mask:e}},G=function(){function e(e,t,n,i,r,o,s,l){this.router=e,this.alert=t,this.changeDetectorRef=n,this.authService=i,this.registrationDiiaService=r,this.registrationDiiaCaptchaService=o,this.registrationDiiaTtlOtpService=s,this.dialog=l,this.phoneMask=S.cb,this.DIGITAL_PUMB_PATH=E.v,this.B2B_PATH=E.t,this.isCaptchaLoaded=!0,this.phoneEvent=v.Ae,this.siteKey=m.a.recaptcha.siteKey,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){var e=this;this.registrationDiiaCaptchaService.clearSessionStoragesBeforeStart(),this.authService.authToken.reset(),this.createAndUpdateControl(),this.phoneControl.valueChanges.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){return e.isControlInvalid()}))},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.isDialogOpen&&this.dialogRef.close()},e.prototype.showAgreementPopup=function(){var e=this;this.showPopup().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.confirm&&(e.registrationDiiaService.setPhoneData.agreement=!0,e.changeDetectorRef.detectChanges())}))},e.prototype.onSubmit=function(){this.formSubmitAttempt=!0,this.phoneControl.valid?this.startRegistration():this.isControlInvalid()},e.prototype.isControlInvalid=function(){this.controlValidState=this.phoneControl.invalid&&this.phoneControl.touched||this.phoneControl.untouched&&this.formSubmitAttempt},e.prototype.showCaptcha=function(){var e=this;this.dialogRef=this.dialog.open(c.a,{data:{phoneControl:this.phoneControl,type:I.a.fop}}),this.isDialogOpen=!0,this.changeDetectorRef.detectChanges(),this.dialogRef.afterClosed().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isDialogOpen=!1,e.isLoading=!1,e.changeDetectorRef.detectChanges()}))},e.prototype.isRecaptchaLoaded=function(){this.isCaptchaLoaded=!1},e.prototype.createAndUpdateControl=function(){this.phoneControl=new o.FormControl("",o.Validators.compose([o.Validators.required,o.Validators.pattern(S.eb)])),this.patchControl()},e.prototype.startRegistration=function(){var e=this;this.isLoading=!0,this.changeDetectorRef.detectChanges(),this.isCaptchaLoaded?grecaptcha.ready((function(){grecaptcha.execute(e.siteKey,{action:"easyentry"}).then((function(t){e.registrationDiiaService.getScore({phone_number:"+380"+e.phoneControl.value.replace("(","").replace(")","").replace("-","").replace(" ",""),action:"easyentry",recaptcha_token:t}).pipe(Object(l.a)((function(){e.isLoading=!1,e.changeDetectorRef.detectChanges()})),Object(s.a)(e.unsubscribeAll$)).subscribe((function(t){t.result?(e.registrationDiiaService.setUnexpectedErrorMessage(null),e.authService.authToken.set("_aToken",t.otp_information.auth_token),e.registrationDiiaTtlOtpService.setPhoneDataToSessionStorage("+380 "+e.phoneControl.value),e.registrationDiiaTtlOtpService.saveOtpDataToSessionStorage(t.otp_information),e.router.navigate([v.c.REGISTRATION_DIIA_CHECK_OTP])):e.showCaptcha()}),(function(t){e.handleStartRegistrationError(t)}))}))})):this.showCaptcha()},e.prototype.patchControl=function(){var e=this.registrationDiiaTtlOtpService.getPhoneDataFromSessionStorage();if(e){var t=e.slice(5);this.patchFormControl(this.phoneControl,t)}this.changeDetectorRef.detectChanges()},e.prototype.patchFormControl=function(e,t){e.patchValue(t),e.markAsTouched()},e.prototype.handleStartRegistrationError=function(e){var t=e.error;switch(this.changeDetectorRef.detectChanges(),t&&t.error&&t.error.code){case f.a.REGISTRATION_NO_ACTIVE_SESSION:this.unexpectedErrorMessage=t.error.code||g.e.ABSTRACT;break;case f.a.REGISTRATION_WRONG:case f.a.REGISTRATION_UNAUTHORIZED:case f.a.REGISTRATION_FORBIDDEN:this.unexpectedErrorMessage=t.error.code||g.e.ABSTRACT;break;case f.a.REGISTRATION_OTP_MAX_EXC_PHONE:this.phoneControl.setErrors({otpLimit:!0}),this.isControlInvalid()}this.changeDetectorRef.detectChanges()},e.prototype.showPopup=function(){return this.alert.create({templateRef:this.popupNotification})},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](h.a),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef),x["\u0275\u0275directiveInject"](b.a),x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](d.a),x["\u0275\u0275directiveInject"](u.a),x["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-set-phone"]],viewQuery:function(e,t){var n;1&e&&x["\u0275\u0275staticViewQuery"](P,!0),2&e&&x["\u0275\u0275queryRefresh"](n=x["\u0275\u0275loadQuery"]())&&(t.popupNotification=n.first)},decls:51,vars:42,consts:[[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"w-100",3,"ngClass"],[1,"form-group","pb-3"],["for","phone"],[1,"input-group","input-phone",3,"ngClass"],[1,"input-group-prepend"],[1,"input-group-text"],["type","phone","inputmode","tel","id","phone","placeholder","(00) 000-0000","fuibIsFocused","",1,"form-control",3,"formControl","textMask"],[1,"input-group-append"],[1,"input-group-text","input-group-icon"],[1,"i-phone"],[1,"input-message-container"],["class","error-list",4,"ngIf"],[1,"form-group"],[1,"flex-grow-2","align-self-center","text-center","grey"],["href","https://about.pumb.ua/info/personal_data","target","_blank",1,"btn-link","btn-link-underlined"],["href","https://about.pumb.ua/support/documents?category=Corporate&id=10023","target","_blank",1,"btn-link","btn-link-underlined"],["id","cfat","type","button",1,"btn","btn-block","btn-primary","btn-lg",3,"click"],["id","submitBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg",3,"fuibTrackEvent","click"],["class","error-message mt-4 mb-3",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],["popupNotification",""],["secondPartOfAgreement",""],[3,"fuibGoogleReCaptcha","notLoaded"],[1,"recaptcha-info"],["href","https://policies.google.com/privacy?hl=uk","target","_blank",1,"btn-link","btn-link-underlined","small"],["href","https://policies.google.com/terms?hl=uk","target","_blank",1,"btn-link","btn-link-underlined","small"],[1,"error-list"],["id","phoneRequiredError",3,"hidden"],[3,"hidden"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"],[1,"description","p2"],["target","_blank","id","linkNotification",1,"btn-link","btn-link-underlined","fsz-0-8-75","font-weight-bold",3,"href"],["target","_blank","id","linkPumbUaNotification",1,"btn-link","btn-link-underlined","fsz-0-8-75","font-weight-bold",3,"href"],[3,"ngTemplateOutlet"],[1,"pl-3"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275elementStart"](2,"div",2),x["\u0275\u0275elementStart"](3,"label",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275elementStart"](8,"span",6),x["\u0275\u0275text"](9,"+380"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](10,"input",7),x["\u0275\u0275elementStart"](11,"div",8),x["\u0275\u0275elementStart"](12,"span",9),x["\u0275\u0275element"](13,"i",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](14,"div",11),x["\u0275\u0275template"](15,D,10,12,"ul",12),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](16,"div",13),x["\u0275\u0275elementStart"](17,"div",14),x["\u0275\u0275text"](18),x["\u0275\u0275pipe"](19,"translate"),x["\u0275\u0275pipe"](20,"translate"),x["\u0275\u0275elementStart"](21,"a",15),x["\u0275\u0275text"](22),x["\u0275\u0275pipe"](23,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](24),x["\u0275\u0275pipe"](25,"translate"),x["\u0275\u0275pipe"](26,"translate"),x["\u0275\u0275elementStart"](27,"a",16),x["\u0275\u0275text"](28),x["\u0275\u0275pipe"](29,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](30),x["\u0275\u0275pipe"](31,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](32,"button",17),x["\u0275\u0275listener"]("click",(function(){return t.showCaptcha()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](33,"button",18),x["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),x["\u0275\u0275text"](34),x["\u0275\u0275pipe"](35,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](36,M,3,3,"div",19),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](37,w,1,0,"fuib-digital-preloader",20),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](38,"div",21),x["\u0275\u0275template"](39,k,14,20,"ng-template",null,22,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](41,L,15,15,"ng-template",null,23,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementStart"](43,"div",24),x["\u0275\u0275listener"]("notLoaded",(function(){return t.isRecaptchaLoaded()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](44,"div",25),x["\u0275\u0275text"](45," \u0417\u0430\u0445\u0438\u0441\u0442 \u0432\u0456\u0434 \u0441\u043f\u0430\u043c\u0443 reCAPTCHA. "),x["\u0275\u0275elementStart"](46,"a",26),x["\u0275\u0275text"](47,"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](48," \u0442\u0430 "),x["\u0275\u0275elementStart"](49,"a",27),x["\u0275\u0275text"](50,"\u0423\u043c\u043e\u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](36,j,t.isLoading)),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](5,18,"REGISTRATION.LABELS.PHONE")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](38,B,t.controlValidState)),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("formControl",t.phoneControl)("textMask",x["\u0275\u0275pureFunction1"](40,F,t.phoneMask)),x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("ngIf",t.controlValidState),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate2"](" ",x["\u0275\u0275pipeBind1"](19,20,"REGISTRATION_DIIA.AGREEMENT_TEXT_1")," ",x["\u0275\u0275pipeBind1"](20,22,"REGISTRATION_DIIA.AGREEMENT_TEXT_2")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](23,24,"REGISTRATION_DIIA.AGREEMENT_TEXT_5")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate2"](" ",x["\u0275\u0275pipeBind1"](25,26,"REGISTRATION_DIIA.DOT")," ",x["\u0275\u0275pipeBind1"](26,28,"REGISTRATION_DIIA.AGREEMENT_TEXT_6")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](29,30,"REGISTRATION_DIIA.AGREEMENT_TEXT_7")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](31,32,"REGISTRATION_DIIA.DOT")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("fuibTrackEvent",t.phoneEvent),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](35,34,"CONTINUE")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("fuibGoogleReCaptcha",t.siteKey))},directives:[i.q,o.DefaultValueAccessor,_.a,o.NgControlStatus,o.FormControlDirective,T.MaskedInputDirective,i.t,C.a,A.a,y.a,R.a,i.A],pipes:[N.d],styles:["[_nghost-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column}.input-message-container[_ngcontent-%COMP%]{transition:all .5s ease}.btn-link[_ngcontent-%COMP%]{cursor:pointer}.grey[_ngcontent-%COMP%]{color:#6d6d7a}.small[_ngcontent-%COMP%]{font-size:12px!important}#cfat[_ngcontent-%COMP%]{display:none;width:0;height:0}.recaptcha-info[_ngcontent-%COMP%]{position:fixed;bottom:40px;height:16px;font-family:gilroy;font-style:normal;font-weight:500;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#93939e}.captcha[_ngcontent-%COMP%]{width:150px;height:48px;margin-right:8px!important;cursor:pointer;line-height:0}.captcha-img-wrapper[_ngcontent-%COMP%]{overflow:hidden;height:100%;max-height:100%;transition:all .5s ease-in-out}.captcha-img-wrapper.zoomed[_ngcontent-%COMP%]{transform:scale(2.02);z-index:9999;border-radius:4px!important;border:1px solid #93939e;background:#f5f5fa}.captcha-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px;border-top-right-radius:0;border-bottom-right-radius:0;width:100%}.captcha-zoom-trigger[_ngcontent-%COMP%]{min-width:48px;height:100%;border-radius:0;border-top-right-radius:8px;border-bottom-right-radius:8px;justify-content:center;background:#fff;align-items:center}.captcha[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-width:1px!important;border:0;border-left:1px solid #93939e;border-top-left-radius:0;border-bottom-left-radius:0}.captcha[_ngcontent-%COMP%]   .i-search[_ngcontent-%COMP%]:before{color:#b6b6bf}.buttons-container[_ngcontent-%COMP%]{display:flex;min-height:40px;flex-wrap:wrap;justify-content:flex-end;padding:16px 24px;border-top:1px solid #e1e1e8;margin:0 -24px -24px}.buttons-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-height:40px;max-width:132px;border-radius:100px;font-family:gilroy;font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;letter-spacing:.18px;color:#4d4d5c;margin:0 5px}.buttons-container[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{border:2px solid #f91f2b;background:none}.buttons-container[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]:hover, .buttons-container[_ngcontent-%COMP%]   .btn.submit[_ngcontent-%COMP%]{background:#f91f2b;color:#fff}.buttons-container[_ngcontent-%COMP%]   .btn.submit[_ngcontent-%COMP%]:hover{background:#fc979d}"],changeDetection:0}),e}(),V=n("Ue6F"),U=n("PqYM"),H=n("xgIS"),$=n("VRqq"),z=n("Kqap"),q=n("GJmQ"),Q=n("eIep"),K=n("zEaP"),Y=n("cjba"),W=n("lk3K"),X=n("BQQG"),Z=n("fbam"),J=n("XFIF"),ee=n("zKXI"),te=n("ZF+8"),ne=n("oW1M");function ie(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"fuib-countdown",16),x["\u0275\u0275listener"]("counterTimeIsOver",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](2).handleTimeIsOver()})),x["\u0275\u0275elementStart"](1,"span",17),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"span",18),x["\u0275\u0275text"](5," )"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){var i=x["\u0275\u0275nextContext"](2);x["\u0275\u0275property"]("endMilliseconds",i.smsCountdown),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"]("( ",x["\u0275\u0275pipeBind1"](3,2,"REGISTRATION.LABELS.TIME_LEFT")," ")}}function re(e,t){if(1&e&&x["\u0275\u0275template"](0,ie,6,4,"fuib-countdown",15),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("ngIf",n.smsCountdown)}}function oe(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",27),x["\u0275\u0275elementStart"](1,"button",28),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](2).onResendOtpToClient()})),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275element"](3,"i",29),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("tooltip",x["\u0275\u0275pipeBind1"](2,1,"REGISTRATION.TOOLTIPS.RESEND_OTP")))}var ae=function(){return{number:4}},se=function(e){return{attemptsLeft:e}};function le(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"ul",30),x["\u0275\u0275elementStart"](1,"li",31),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"li",32),x["\u0275\u0275text"](5),x["\u0275\u0275pipe"](6,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"li",33),x["\u0275\u0275text"](8),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("hidden",!(null!=n.otpControl.errors&&n.otpControl.errors.required)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,6,"VALIDATIONS.REQUIRED")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.otpControl.errors&&n.otpControl.errors.pattern)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind2"](6,8,"VALIDATIONS.CODE_SHOULD_CONSIST_DIGITS",x["\u0275\u0275pureFunction0"](14,ae))," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.otpControl.errors&&n.otpControl.errors.otpError)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind2"](9,11,null==n.otpControl.errors?null:n.otpControl.errors.otpError,x["\u0275\u0275pureFunction1"](15,se,n.otpAttemptsLeft))," ")}}var ce=function(e){return{"is-invalid":e}};function pe(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",19),x["\u0275\u0275elementStart"](1,"label",20),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementContainer"](4,21),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"div",22),x["\u0275\u0275element"](6,"input",23),x["\u0275\u0275template"](7,oe,4,3,"div",24),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",25),x["\u0275\u0275template"](9,le,10,17,"ul",26),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](),i=x["\u0275\u0275reference"](1);x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"]("",x["\u0275\u0275pipeBind1"](3,5,"REGISTRATION.LABELS.OTP")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngTemplateOutlet",i),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](7,ce,n.isControlInvalid(n.otpControl))),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",n.isResendOtpBtnAvailable),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",n.isControlInvalid(n.otpControl))}}function de(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",34),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](2,1,n.errorMessage))}}function ue(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"button",35),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().onResendOtpToClient()})),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()}2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,"REGISTRATION.BUTTONS.RESEND_OTP")," "))}function me(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"button",36),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().onSubmit()})),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()}2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,"CONTINUE")," "))}function ge(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",37),x["\u0275\u0275text"](1),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",n.unexpectedErrorMessage," ")}}function fe(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",38)}var he=function(e){return{"filter-blur-3":e}},ve=function(){function e(e,t,n,i,r,o,s,l,c,p,d,u){var m;this.formBuilder=e,this.router=t,this.changeDetectorRef=n,this.registrationDiiaService=i,this.sessionService=r,this.popupService=o,this.authService=s,this.registrationDiiaTtlOtpService=l,this.googleTagManagerService=c,this.queryParamsService=p,this.fpService=d,this.window=u,this.shakeAnimationState=J.a.still,this.unsubscribeAll$=new a.a,this.phoneNumber=this.registrationDiiaTtlOtpService.getPhoneDataFromSessionStorage(),this.otpAttemptsLeft=null!==(m=this.registrationDiiaTtlOtpService.getRetrySmsAttempsCountFromSessionStorage())&&void 0!==m?m:0,this.repeatRegistrationAttemptsLeft=this.registrationDiiaTtlOtpService.getReloadAttempsCountToSessionStorage()}return Object.defineProperty(e.prototype,"otpControl",{get:function(){return this.otpForm.controls.otp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNextStepAvailable",{get:function(){return 0!==this.otpAttemptsLeft&&!this.timeIsOver&&!this.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isResendOtpBtnAvailable",{get:function(){return 0!==this.repeatRegistrationAttemptsLeft&&(void 0!==this.otpAttemptsLeft||this.timeIsOver)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.createForm(),this.subscribeToBrowserEvents(),this.subscribeToSmsRemainingTime(),this.registrationDiiaTtlOtpService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.registrationDiiaTtlOtpService.saveTtlDateBeforeDestroy(),this.registrationDiiaTtlOtpService.destroyTtls()},e.prototype.onSubmit=function(){this.formSubmitAttempt=!0,this.otpForm.valid&&this.sendOtp()},e.prototype.onResendOtpToClient=function(){var e=this;this.isLoading=!0;var t={auth_token:this.authService.authToken.get("_aToken"),phone_number:"+"+this.phoneNumber.replace(/\D+/g,"")};this.registrationDiiaService.repeatRegistration(t).pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.resetForm(),e.otpAttemptsLeft=null,e.repeatRegistrationAttemptsLeft=t.attempts_count,e.timeIsOver=!1,e.registrationDiiaTtlOtpService.destroyTtls(),e.registrationDiiaTtlOtpService.saveOtpDataToSessionStorage(t),e.registrationDiiaTtlOtpService.checkTimerTtl(),e.countdownComponent&&e.countdownComponent.restartCounter(),e.isLoading=!1,e.changeDetectorRef.detectChanges()}),(function(t){e.handleSendOtpError(t.error)}))},e.prototype.onChangePhoneNumber=function(){this.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])},e.prototype.isControlInvalid=function(e){return e.invalid&&e.touched||e.untouched&&this.formSubmitAttempt},e.prototype.handleTimeIsOver=function(){this.isLoading||(this.resetForm(),this.registrationDiiaTtlOtpService.getReloadAttempsCountToSessionStorage()?(this.timeIsOver=!0,this.errorMessage=g.e.REGISTRATION_OTP_TIME_OUT):this.endOtpAttemptsErrorHandler(),this.changeDetectorRef.detectChanges())},e.prototype.applyShakeAnimationForAgreement=function(){var e=this;Object(U.a)(0,3e3).pipe(Object(z.a)((function(e){return--e}),4),Object(q.a)((function(t){return e.changeDetectorRef.detectChanges(),e.shakeAnimationState=J.a.shaking,e.changeDetectorRef.detectChanges(),t>=0})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(){return e.shakeAnimationState=J.a.still}))},e.prototype.createForm=function(){this.otpForm=this.formBuilder.group({otp:["",o.Validators.compose([o.Validators.required,o.Validators.pattern(/\d{4}/)])]})},e.prototype.sendOtp=function(){var e=this;this.isLoading=!0;var t={auth_token:this.authService.authToken.get("_aToken"),otp:this.otpControl.value,ref_link:this.queryParamsService.getFullPath(),fp:this.fpService.fingerPrint,hardware_id:null};this.registrationDiiaService.checkDigitalEntryOtp(t).pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.registrationDiiaService.isCabinetCreated=!0,e.authService.authToken.set("_accessToken",t.access_token),e.authService.authToken.set("_refreshToken",t.refresh_token),e.getNextPage(t.session_ttl)}),(function(t){e.resetForm(),e.handleSendOtpError(t.error)}))},e.prototype.getNextPage=function(e){var t=this;this.registrationDiiaService.getCuid().pipe(Object(Q.a)((function(e){return t.googleTagManagerService.logEvent(W.Re,X.a.click),t.googleTagManagerService.logCuid(W.jb,e.cuid),t.registrationDiiaService.getNextPage()})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(n){t.registrationDiiaTtlOtpService.clearOtpParamsFromSessionStorages(),t.sessionService.setTtlToSessionStorage(e),t.sessionService.saveTtlDateBeforeDestroy(),t.router.navigate([E.j[n.user_registration_step]])}),(function(){t.handleAbstractError()}))},e.prototype.resetForm=function(){this.otpForm.reset(),this.errorMessage=null,this.unexpectedErrorMessage=null,this.formSubmitAttempt=!1},e.prototype.subscribeToSmsRemainingTime=function(){var e=this;this.registrationDiiaTtlOtpService.smsRemainingTimeSubscription$.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t>E.A?(e.smsCountdown=1e3*t,e.changeDetectorRef.detectChanges()):e.registrationDiiaTtlOtpService.getRetrySmsAttempsCountFromSessionStorage()?e.handleTimeIsOver():(e.endSmsAttemptsErrorHandler(),e.changeDetectorRef.detectChanges())}))},e.prototype.handleSendOtpError=function(e){if(e&&e.error&&e.error.code)switch(e.error.code){case f.a.REGISTRATION_INVALID_OTP:this.countAttemptsLeftOtp(e);break;case f.a.REGISTRATION_OTP_MAX_EXC:this.errorMessage=e.error.code||g.e.ABSTRACT,this.repeatRegistrationAttemptsLeft=0,this.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE]);break;case f.a.REGISTRATION_NO_ATT_LOGIN:case f.a.REGISTRATION_AUTH_SESSION_EXP:this.unexpectedErrorMessage=e.error.code||g.e.ABSTRACT,this.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}this.isLoading=!1,this.changeDetectorRef.detectChanges()},e.prototype.countAttemptsLeftOtp=function(e){if(e.error.code===f.a.REGISTRATION_INVALID_OTP){this.otpAttemptsLeft=e.attempts_left,this.registrationDiiaTtlOtpService.setRetrySmsAttempsCountToSessionStorage(e.attempts_left);var t=0===this.otpAttemptsLeft&&0!==this.repeatRegistrationAttemptsLeft,n=0===this.otpAttemptsLeft&&0===this.repeatRegistrationAttemptsLeft;0!==this.otpAttemptsLeft?(this.otpControl.setErrors({otpError:g.e.REGISTRATION_OTP_INVALID}),this.otpControl.markAsTouched()):n?this.endOtpAttemptsErrorHandler():t&&this.endSmsAttemptsErrorHandler()}else this.unexpectedErrorMessage=e.error.code||g.e.ABSTRACT;this.isLoading=!1,this.changeDetectorRef.detectChanges()},e.prototype.handleAbstractError=function(){this.errorMessage=g.e.ABSTRACT,this.isLoading=!1,this.changeDetectorRef.detectChanges()},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.registrationDiiaTtlOtpService.saveTtlDateBeforeDestroy()}))},e.prototype.endOtpAttemptsErrorHandler=function(){this.errorMessage=g.e.INVALID_OTP_LIMIT,this.registrationDiiaTtlOtpService.clearOtpParamsFromSessionStorages(),this.registrationDiiaTtlOtpService.destroyTtls(),this.authService.authToken.reset(),this.applyShakeAnimationForAgreement()},e.prototype.endSmsAttemptsErrorHandler=function(){this.errorMessage=g.e.REGISTRATION_OTP_MAX_COUNT,this.registrationDiiaTtlOtpService.stopSmsTtlTimer(),this.registrationDiiaTtlOtpService.removeUnnecessarySessionStorages([K.b.OTP_SMS])},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](o.FormBuilder),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef),x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](h.a),x["\u0275\u0275directiveInject"](b.a),x["\u0275\u0275directiveInject"](u.a),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](ee.a),x["\u0275\u0275directiveInject"](te.e),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-check-otp"]],viewQuery:function(e,t){var n;1&e&&x["\u0275\u0275viewQuery"](V.a,!0),2&e&&x["\u0275\u0275queryRefresh"](n=x["\u0275\u0275loadQuery"]())&&(t.countdownComponent=n.first)},decls:22,vars:18,consts:[["countdownTemplate",""],[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"w-100",3,"formGroup","ngClass"],[1,"form-group","border-bottom","border-gray-2","pb-2","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],["id","phoneStr",1,"font-weight-bold","text-nowrap"],["id","changePhoneBtn","type","button",1,"btn","btn-hidden","btn-text-with-icon",3,"click"],[1,"i-edit"],["class","form-group",4,"ngIf"],["class","info-message mb-3",4,"ngIf"],["id","resendOtpBtn","type","button","class","btn btn-block btn-outline-primary btn-lg mt-2 mt-md-4",3,"click",4,"ngIf"],["id","submitBtn","type","button","class","btn btn-block btn-primary btn-lg mt-2 mt-md-4",3,"click",4,"ngIf"],["class","error-message mt-4 mb-3",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],["id","countdown","units","Minutes | Seconds","divider",":",3,"endMilliseconds","counterTimeIsOver",4,"ngIf"],["id","countdown","units","Minutes | Seconds","divider",":",3,"endMilliseconds","counterTimeIsOver"],[1,"before-countdown"],[1,"after-countdown"],[1,"form-group"],["for","otp"],[3,"ngTemplateOutlet"],[1,"input-group",3,"ngClass"],["type","text","formControlName","otp","id","otp","maxlength","4","fuibIsFocused","",1,"form-control"],["class","input-group-append",4,"ngIf"],[1,"input-message-container"],["class","error-list",4,"ngIf"],[1,"input-group-append"],["id","resendOtpIconBtn","type","button","container","body",1,"btn","input-group-text","input-group-icon",3,"tooltip","click"],[1,"i-refresh"],[1,"error-list"],["id","otpRequiredError",3,"hidden"],[3,"hidden"],["id","otpWrongError",3,"hidden"],[1,"info-message","mb-3"],["id","resendOtpBtn","type","button",1,"btn","btn-block","btn-outline-primary","btn-lg","mt-2","mt-md-4",3,"click"],["id","submitBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-2","mt-md-4",3,"click"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275template"](0,re,1,1,"ng-template",null,0,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementStart"](2,"div",1),x["\u0275\u0275elementStart"](3,"div",2),x["\u0275\u0275elementStart"](4,"div",3),x["\u0275\u0275elementStart"](5,"label"),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",4),x["\u0275\u0275elementStart"](9,"div",5),x["\u0275\u0275text"](10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"button",6),x["\u0275\u0275listener"]("click",(function(){return t.onChangePhoneNumber()})),x["\u0275\u0275text"](12),x["\u0275\u0275pipe"](13,"translate"),x["\u0275\u0275element"](14,"i",7),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](15,pe,10,9,"div",8),x["\u0275\u0275template"](16,de,3,3,"div",9),x["\u0275\u0275template"](17,ue,3,3,"button",10),x["\u0275\u0275template"](18,me,3,3,"button",11),x["\u0275\u0275template"](19,ge,2,1,"div",12),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](20,fe,1,0,"fuib-digital-preloader",13),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](21,"div",14)),2&e&&(x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("formGroup",t.otpForm)("ngClass",x["\u0275\u0275pureFunction1"](16,he,t.isLoading)),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](7,12,"REGISTRATION.LABELS.PHONE")),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",t.phoneNumber," "),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("@shake",t.shakeAnimationState),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](13,14,"REGISTRATION.BUTTONS.CHANGE")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngIf",t.isNextStepAvailable),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.errorMessage),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!t.isNextStepAvailable&&t.isResendOtpBtnAvailable),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isNextStepAvailable),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[o.NgControlStatusGroup,o.FormGroupDirective,i.q,i.t,A.a,V.a,i.A,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,o.MaxLengthValidator,_.a,ne.l,R.a],pipes:[N.d],styles:[""],data:{animation:[J.b]},changeDetection:0}),e}(),Ie=n("quSY"),be=n("w6yA");function Se(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",8),x["\u0275\u0275element"](1,"h1",9),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275element"](3,"div",10),x["\u0275\u0275pipe"](4,"translate"),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](2,2,n.wizardStepTitle),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](4,4,n.wizardStepSubTitle),x["\u0275\u0275sanitizeHtml"])}}function Ee(e,t){if(1&e&&(x["\u0275\u0275element"](0,"div",11),x["\u0275\u0275pipe"](1,"translate")),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("innerText",x["\u0275\u0275pipeBind1"](1,1,n.unexpectedErrorMessage))}}var Oe=function(e){return{"max-width":e}},xe=function(){function e(e,t,n,i,r){this.registrationDiiaService=e,this.sharedService=t,this.router=n,this.route=i,this.sessionStorageDataService=r,this.wizardStepTitle="REGISTRATION.FORM_TITLE",this.wizardStepSubTitle="REGISTRATION_DIIA.FORM_SUBTITLE",this.subscriptions=new Ie.a,this.steps=Object.keys(E.F).filter((function(e){return!isNaN(Number(e))})).length}return e.prototype.ngOnInit=function(){var e=this;this.setParamsByUrl(this.router.url),this.subscriptions.add(this.router.events.subscribe((function(t){t instanceof r.b&&e.setParamsByUrl(t.urlAfterRedirects)}))),this.subscriptions.add(this.registrationDiiaService.updateWizzardTitle$.subscribe((function(t){return e.wizardStepTitle=t}))),this.subscriptions.add(this.registrationDiiaService.onUnexpectedErrorMessage.subscribe((function(t){e.unexpectedErrorMessage=t})))},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.sessionStorageDataService.clearAll(),this.sharedService.disableProgressLine()},e.prototype.setParamsByUrl=function(e){var t=this.normalizeUrl(e);this.wizardStepTitle=E.H[t],this.wizardStepSubTitle=E.G[t],this.isRejectedPage=t===v.c.REGISTRATION_DIIA_REJECTED,this.isSucceededOrRejectedPage=this.isRejectedPage||t===v.c.REGISTRATION_DIIA_SUCCEEDED||t===v.c.REGISTRATION_DIIA_REPEAT||t===v.c.REGISTRATION_DIIA_FINISH||t===v.c.REGISTRATION_DIIA_ALMOST_DONE||t===v.c.REGISTRATION_DIIA_FOP_ERROR||t===v.c.REGISTRATION_DIIA_TAX_ERROR||t===v.c.REGISTRATION_DIIA_OCCUPIED_TERRITORIES_ERROR||t===v.c.REGISTRATION_DIIA_DOCUMENT_SHARING_ERROR||t===v.c.REGISTRATION_DIIA_APPLICATION_ERROR||t===v.c.REGISTRATION_DIIA_EXPIRED_DOCUMENTS_ERROR||t===v.c.REGISTRATION_DIIA_OUTDATED_ACTIVITIES_ERROR||t.includes(v.c.REGISTRATION_DIIA_VERIFICATION_EMAIL_RESULT),this.isSucceededOrRejectedPage?this.sharedService.disableProgressLine():this.sharedService.emitProgressLine({totalSteps:this.steps,currentStep:this.route.firstChild.snapshot.data.routeIndex})},e.prototype.onActivateRoute=function(){this.routeIndex=this.route.firstChild.snapshot.data.routeIndex},e.prototype.normalizeUrl=function(e){return e.includes("?")?this.router.url.slice(0,this.router.url.indexOf("?")):e},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](te.i),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](r.a),x["\u0275\u0275directiveInject"](be.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-registration-diia"]],decls:8,vars:7,consts:[[1,"container","position-relative","pb-4"],[1,"form-wrap","mx-auto",3,"ngStyle"],[1,"form-wrap-inner"],["class","text-center mb-4",4,"ngIf"],[1,"position-relative","pb-2","h-custom"],[1,"outlet-wrap"],[3,"activate"],["class","d-flex error-message mt-4 mb-3",3,"innerText",4,"ngIf"],[1,"text-center","mb-4"],[1,"h4","non-responsive","mb-3",3,"innerHTML"],[3,"innerHTML"],[1,"d-flex","error-message","mt-4","mb-3",3,"innerText"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"section",1),x["\u0275\u0275elementStart"](2,"div",2),x["\u0275\u0275template"](3,Se,5,6,"div",3),x["\u0275\u0275elementStart"](4,"div",4),x["\u0275\u0275elementStart"](5,"div",5),x["\u0275\u0275elementStart"](6,"router-outlet",6),x["\u0275\u0275listener"]("activate",(function(){return t.onActivateRoute()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](7,Ee,2,3,"div",7),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275classProp"]("centered",t.isSucceededOrRejectedPage),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngStyle",x["\u0275\u0275pureFunction1"](5,Oe,t.isRejectedPage?"600px":"460px")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",!t.isSucceededOrRejectedPage),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage))},directives:[i.w,i.t,r.i],pipes:[N.d],styles:["[_nghost-%COMP%] {display:flex;flex-direction:column;margin-top:70px;min-height:calc(100vh - 118px)}[_nghost-%COMP%]  section, [_nghost-%COMP%]  section .form-wrap-inner{height:100%}[_nghost-%COMP%]  section .form-wrap-inner .h-custom{height:90%}[_nghost-%COMP%]  section .form-wrap-inner .h-custom .outlet-wrap{height:100%}[_nghost-%COMP%]  h1{transition:all .3s ease;font-size:34px;font-weight:700;line-height:36px;letter-spacing:.25px}section.form-wrap[_ngcontent-%COMP%]{max-width:460px!important}.container[_ngcontent-%COMP%]{margin-top:50px}.container.centered[_ngcontent-%COMP%]{margin:auto}"]}),e}(),_e=n("z6cu"),Te=function(){function e(e,t){this.registrationDiiaService=e,this.authService=t}return e.prototype.getIntervalData=function(){var e=this;return Object(U.a)(0,3e3).pipe(Object(Q.a)((function(){return e.registrationDiiaService.getNextPage()})))},e.prototype.simulateBackendError=function(e,t){var n={status:e,statusText:t};return Object(_e.a)(n)},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275inject"](O.a),x["\u0275\u0275inject"](b.a))},e.\u0275prov=x["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ce=n("0hV+");function Ae(e,t){if(1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275element"](1,"qrcode",15),x["\u0275\u0275elementContainerEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](3);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("qrdata",n.qrImage)("width",168)("errorCorrectionLevel","H")}}function ye(e,t){1&e&&x["\u0275\u0275element"](0,"img",16)}function Re(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",17),x["\u0275\u0275elementContainer"](1,18),x["\u0275\u0275elementEnd"]()),2&e){x["\u0275\u0275nextContext"](3);var n=x["\u0275\u0275reference"](4);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Ne(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"button",19),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](3).generateNewQR()})),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()}2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,"REGISTRATION_DIIA.QR.GENERATE_NEW_QR")," "))}function Pe(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",10),x["\u0275\u0275template"](1,Ae,2,3,"ng-container",11),x["\u0275\u0275template"](2,ye,1,0,"ng-template",null,12,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](4,Re,2,1,"div",13),x["\u0275\u0275template"](5,Ne,3,3,"button",14),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275reference"](3),i=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",i.qrImage&&!i.timeIsOver)("ngIfElse",n),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngIf",i.qrImage&&!i.timeIsOver),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",i.timeIsOver)}}var De=function(e){return{"filter-blur-3":e}};function Me(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",4),x["\u0275\u0275elementStart"](1,"div",5),x["\u0275\u0275elementStart"](2,"div",6),x["\u0275\u0275elementStart"](3,"span",7),x["\u0275\u0275text"](4,"1."),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"span",8),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",6),x["\u0275\u0275elementStart"](9,"span",7),x["\u0275\u0275text"](10,"2."),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"span",8),x["\u0275\u0275text"](12),x["\u0275\u0275pipe"](13,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](14,"div",6),x["\u0275\u0275elementStart"](15,"span",7),x["\u0275\u0275text"](16,"3."),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](17,"span",8),x["\u0275\u0275text"](18),x["\u0275\u0275pipe"](19,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](20,Pe,6,4,"div",9),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](11,De,n.isLoading)),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](7,5,"REGISTRATION_COMPANY.QR_COMPANY_SHARE.STEP1")),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](13,7,"REGISTRATION_COMPANY.QR_COMPANY_SHARE.STEP2")),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](19,9,"REGISTRATION_COMPANY.QR_COMPANY_SHARE.STEP3")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",!n.isLoading)}}function we(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",20)}function ke(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"fuib-countdown",21),x["\u0275\u0275listener"]("counterTimeIsOver",(function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().timeIsOver=e})),x["\u0275\u0275elementEnd"]()}if(2&e){var i=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("endMilliseconds",i.countdownQR)}}var Le=function(){function e(e,t,n,i,r,o,s){this.registrationDiiaService=e,this.sessionService=t,this.router=n,this.googleTagManagerService=i,this.popupService=r,this.intervalCheckService=o,this.window=s,this.isLoading=!0,this.isGoBack=null,this.timeIsOver=!1,this.unsubscribeAll$=new a.a,this.isGoBack=!1,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.validateCurrentPage(),this.sessionService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.clearPersistKey(),this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer()},e.prototype.validateCurrentPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){var t=e.sessionService.getQrFirstLoadExistStatusFromSessionStorage();t||e.googleTagManagerService.logEvent(W.ee,X.a.afterLoadPage),e.getQRLink(t),e.subscribeToIntervalChecker()}))},e.prototype.subscribeToIntervalChecker=function(){var e=this;this.intervalCheckService.getIntervalData().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.stepsLogic(t.user_registration_step)}),(function(t){e.prepareErrorCase(t)}))},e.prototype.getNewQRLink=function(){var e=this;this.timeIsOver=!0,this.registrationDiiaService.getNewSharingDeeplink().pipe(Object(l.a)((function(){return e.isLoading=!1})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.qrImage=t.deeplink,e.countdownQR=e.getMilliseconds(t.deeplink_ttl),e.sessionService.setQrTtlToSessionStorage(t.deeplink_ttl),e.sessionService.setQrFirstLoadExistStatusToSessionStorage(!0),e.timeIsOver=!1}))},e.prototype.getQRLink=function(e){e?this.getCurrentSharingDeeplink():this.getNewQRLink()},e.prototype.getQrTll=function(){return this.sessionService.getQrTtlFromSessionStorage()},e.prototype.getCurrentSharingDeeplink=function(){var e=this;this.registrationDiiaService.getCurrentSharingDeeplink().pipe(Object(l.a)((function(){return e.isLoading=!1})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.qrImage=t.deeplink,e.getQrTll()-t.deeplink_ttl>=E.D?e.timeIsOver=!0:(e.countdownQR=e.getMilliseconds(t.deeplink_ttl),e.timeIsOver=!1)}))},e.prototype.stepsLogic=function(e){e!==E.l&&this.router.navigate([E.j[e]])},e.prototype.prepareErrorCase=function(e){switch(e.status){case 401:case 404:this.isUnauthorized=!0,this.popupService.createAndCallPopup(v.c.REGISTRATION_DIIA_SET_PHONE,"REGISTRATION_DIIA.CAPTCHA_SESSION_EXPIRED");break;case 403:this.isLoading=!1,this.timeIsOver=!0;break;case 500:this.router.navigate([v.c.REGISTRATION_DIIA_REJECTED])}},e.prototype.generateNewQR=function(){this.isLoading=!0,this.getNewQRLink()},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){return e.sessionService.saveTtlDateBeforeDestroy()})),Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.prototype.clearPersistKey=function(){this.sessionService.removeUnnecessarySessionStorages([K.c.QR_TTL,K.c.QR_IS_FIRST_LOAD])},e.prototype.getMilliseconds=function(e){return 1e3*(e-E.C)},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](h.a),x["\u0275\u0275directiveInject"](Te),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-scan-qr"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","position-relative","justify-content-between","w-100"],["class","d-flex",3,"ngClass",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["countdownTemplate",""],[1,"d-flex",3,"ngClass"],[1,"d-flex","flex-column","pr-1"],[1,"d-flex"],[1,"sharing-step-number"],[1,"sharing-step"],["class","d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-column"],[4,"ngIf","ngIfElse"],["defaultQRRef",""],["class","d-flex btn scan-qr__timer ml-4",4,"ngIf"],["type","button","class","btn btn-primary ml-4 mt-4 btn-regenerate-qr",3,"click",4,"ngIf"],[1,"ml-4",3,"qrdata","width","errorCorrectionLevel"],["loading","lazy","src","./assets/images/disabled-qr.webp","alt","QR image disabled",1,"d-flex","ml-4"],[1,"d-flex","btn","scan-qr__timer","ml-4"],[3,"ngTemplateOutlet"],["type","button",1,"btn","btn-primary","ml-4","mt-4","btn-regenerate-qr",3,"click"],[1,"loading","loading-centered","loading-sm"],["units","Minutes | Seconds","divider",":",3,"endMilliseconds","counterTimeIsOver"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275template"](1,Me,21,13,"div",1),x["\u0275\u0275template"](2,we,1,0,"fuib-digital-preloader",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](3,ke,1,1,"ng-template",null,3,x["\u0275\u0275templateRefExtractor"])),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!t.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.t,i.q,Ce.a,i.A,R.a,V.a],pipes:[N.d],styles:["[_nghost-%COMP%] {min-height:200px;display:flex}[_nghost-%COMP%]  canvas{position:relative;top:5px;transform:scale(1.14)}[_nghost-%COMP%]  img{max-width:168px;min-height:168px}[_nghost-%COMP%]  .scan-qr__info{font-size:.875rem;color:#93939e;padding-right:15px}[_nghost-%COMP%]  .scan-qr__timer{height:40px;background:transparent;cursor:progress}[_nghost-%COMP%]  .scan-qr__timer .countdown:after, [_nghost-%COMP%]  .scan-qr__timer fuib-countdown .measurements-number{font-weight:700;color:#f91f2b}.btn-regenerate-qr[_ngcontent-%COMP%]{min-width:168px;font-size:.875rem}.icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:3.5rem}.sharing-step[_ngcontent-%COMP%], .sharing-step-number[_ngcontent-%COMP%]{font-size:14px;font-style:normal;font-weight:500;line-height:20px;letter-spacing:.25px}.sharing-step[_ngcontent-%COMP%]{margin-left:6px;margin-bottom:12px}"]}),e}(),je=n("mrSG"),Be=n("Ql4B"),Fe=n("r/VZ"),Ge=n("lJxs"),Ve=n("+ANS"),Ue=n("anwY"),He=n("2ZMG"),$e=n("AORK"),ze=n("7ZXF"),qe=n("DHTX"),Qe=n("utf1"),Ke=["incomeContainerRef"],Ye=["revenueRef"],We=["maximumIncomeRef"];function Xe(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",5),x["\u0275\u0275elementStart"](1,"div",45),x["\u0275\u0275elementStart"](2,"ul",46),x["\u0275\u0275elementStart"](3,"li",47),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,1,"VALIDATIONS.REQUIRED_AT_LEAST_ONE")," "))}var Ze=function(){return["/registration/set-phone"]};function Je(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",51),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementStart"](3,"a",52),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementStart"](8,"a",53),x["\u0275\u0275text"](9),x["\u0275\u0275pipe"](10,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,6,"REGISTRATION_DIIA.NOTIFICATION_ERROR.MAX_VALUE")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](16,Ze)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,8,"REGISTRATION_DIIA.NOTIFICATION_ERROR.VIDEOVERIFICATION")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](7,10,"REGISTRATION_DIIA.NOTIFICATION_ERROR.GO_TO")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](10,12,"REGISTRATION_DIIA.NOTIFICATION_ERROR.BANK")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,14,"REGISTRATION_DIIA.NOTIFICATION_ERROR.OPEN_ACCOUNT")," "))}function et(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",48),x["\u0275\u0275elementStart"](1,"ul",46),x["\u0275\u0275elementStart"](2,"li",49),x["\u0275\u0275text"](3),x["\u0275\u0275pipe"](4,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"li",49),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](8,Je,13,17,"div",50),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!n.anketaForm.controls.revenue.errors.required),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](4,5,"VALIDATIONS.REQUIRED")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.anketaForm.controls.revenue.errors&&n.anketaForm.controls.revenue.errors.minValue)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](7,7,"VALIDATIONS.MIN_VALUE_ERROR")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",null==n.anketaForm.controls.revenue.errors?null:n.anketaForm.controls.revenue.errors.maxValue)}}function tt(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"ul",46),x["\u0275\u0275elementStart"](1,"li"),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,1,"VALIDATIONS.REQUIRED")," "))}function nt(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",54),x["\u0275\u0275element"](1,"i",55),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,1,"REGISTRATION_DIIA.ANKETA.MAXIMUM_INCOMES_INFO")," "))}function it(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",48),x["\u0275\u0275elementStart"](1,"div",51),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementStart"](4,"a",52),x["\u0275\u0275text"](5),x["\u0275\u0275pipe"](6,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](7),x["\u0275\u0275pipe"](8,"translate"),x["\u0275\u0275elementStart"](9,"a",53),x["\u0275\u0275text"](10),x["\u0275\u0275pipe"](11,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](12),x["\u0275\u0275pipe"](13,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,6,"REGISTRATION_DIIA.NOTIFICATION_ERROR.MAX_SUM")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](16,Ze)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](6,8,"REGISTRATION_DIIA.NOTIFICATION_ERROR.VIDEOVERIFICATION")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](8,10,"REGISTRATION_DIIA.NOTIFICATION_ERROR.GO_TO")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](11,12,"REGISTRATION_DIIA.NOTIFICATION_ERROR.BANK")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](13,14,"REGISTRATION_DIIA.NOTIFICATION_ERROR.OPEN_ACCOUNT")," "))}function rt(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"button",61),x["\u0275\u0275listener"]("click",(function(){x["\u0275\u0275restoreView"](n);var e=x["\u0275\u0275nextContext"]().index;return x["\u0275\u0275nextContext"](2).removeAccount(e)})),x["\u0275\u0275element"](1,"i",62),x["\u0275\u0275elementEnd"]()}}function ot(e,t){if(1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275elementStart"](1,"fuib-iban-input",59),x["\u0275\u0275template"](2,rt,2,0,"button",60),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("control",n)("service",i.registrationDiiaService),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",i.outerAccounts.controls.length>1)}}function at(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"button",63),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](2).addAccount()})),x["\u0275\u0275element"](1,"img",64),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"]()}2&e&&(x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,1,"REGISTRATION_DIIA.ANKETA.ADD_MORE_ACCOUNTS")," "))}function st(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div"),x["\u0275\u0275elementContainerStart"](1,56),x["\u0275\u0275template"](2,ot,3,3,"ng-container",57),x["\u0275\u0275elementContainerEnd"](),x["\u0275\u0275template"](3,at,4,3,"button",58),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formArrayName","outerAccounts"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngForOf",n.outerAccounts.controls),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",n.canAddAccount)}}function lt(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",5),x["\u0275\u0275elementStart"](1,"ul",46),x["\u0275\u0275elementStart"](2,"li",65),x["\u0275\u0275text"](3),x["\u0275\u0275pipe"](4,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](4,1,"VALIDATIONS.REQUIRED")))}function ct(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",66),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,n.unexpectedErrorMessage)," ")}}function pt(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",67)}var dt=function(e){return{"filter-blur-3":e}},ut=function(e,t){return{"is-invalid":e,disabled:t}},mt=function(){function e(e,t,n,i,r,o,s,l){this.formBuilder=e,this.router=t,this.registrationDiiaService=n,this.sessionService=i,this.googleTagManagerService=r,this.sharedService=o,this.helpersCompanyService=s,this.window=l,this.isGoBack=null,this.showCheckboxError=!1,this.maximumIncomes=[],this.subscriptions=new Ie.a,this.unsubscribAll$=new a.a,this.isLoading=!0,this.isGoBack=!1,this.openAdditionalForAnketa=!1,this.subscribeToBrowserEvents()}return Object.defineProperty(e.prototype,"maximumIncomeControl",{get:function(){return this.anketaForm.controls.maximumIncome},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.createAnketaForm(),this.getSurveyFormData(),this.getMaximumIncomes(),this.sessionService.checkTimerTtl(),this.incomesChangesWatcher(),this.additionalChangesWatcher(),this.financialStatementsNotSubmittedWatcher(),this.revenueWatcher(),this.maximumIncomeWatcher()},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer(),this.unsubscribAll$.next(),this.unsubscribAll$.complete()},Object.defineProperty(e.prototype,"selectedIncomes",{get:function(){var e,t,n=this.anketaForm.get("incomes").value,i=[];try{for(var r=Object(je.j)(Object.entries(n)),o=r.next();!o.done;o=r.next()){var a=Object(je.g)(o.value,2);a[1]&&i.push(Fe.b[a[0]])}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerAccounts",{get:function(){return this.anketaForm.controls.outerAccounts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAddAccount",{get:function(){return this.outerAccounts.length<=4},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"surveyPayload",{get:function(){var e,t,n,i,r=new g.j;return r.is_fatca=!this.anketaForm.get("citizenUSA").value,r.is_pep=!this.anketaForm.get("citizenUSA").value,r.is_have_licenses=!this.anketaForm.get("hasNoLicenses").value,r.revenue=null!==(e=this.anketaForm.get("revenue").value)&&void 0!==e?e:1,r.maximum_income=null!==(n=null===(t=this.anketaForm.get("maximumIncome").value)||void 0===t?void 0:t.id)&&void 0!==n?n:null,r.financial_statements_not_submitted=this.anketaForm.get("financialStatementsNotSubmitted").value,r.source_money=this.selectedIncomes,r.outer_accounts=null===(i=this.anketaForm.get("outerAccounts"))||void 0===i?void 0:i.value.map((function(e){return("UA"+e).replace(/\s/g,"")})),r},enumerable:!1,configurable:!0}),e.prototype.onSubmitAnketa=function(){this.anketaForm.valid&&this.selectedIncomes.length?this.publishSurveyForm():(this.anketaForm.markAllAsTouched(),this.showCheckboxError=this.incomesCheckboxesGroupIsRequired(),this.scrollToError())},e.prototype.toggleChange=function(){this.anketaForm.get("isAccounts").value?this.addAccount():this.resetAccounts()},e.prototype.addAccount=function(){if(this.canAddAccount){var e=this.formBuilder.control("",[o.Validators.required,Object(Ve.a)()]);this.outerAccounts.push(e)}},e.prototype.removeAccount=function(e){this.outerAccounts.removeAt(e)},e.prototype.resetAccounts=function(){this.outerAccounts.clear()},e.prototype.publishSurveyForm=function(){var e,t,n=this;this.isPublishing=!0;var i=new Fe.c;i.revenue=null!==(e=this.helpersCompanyService.stringToNumber(this.surveyPayload.revenue))&&void 0!==e?e:1,i.maximum_income=null!==(t=this.helpersCompanyService.stringToNumber(this.surveyPayload.maximum_income))&&void 0!==t?t:null,i.financial_statements_not_submitted=this.surveyPayload.financial_statements_not_submitted,i.source_money=this.surveyPayload.source_money,i.is_fatca=this.surveyPayload.is_fatca,i.is_have_licenses=this.surveyPayload.is_have_licenses,i.is_pep=this.surveyPayload.is_pep,i.outer_accounts=this.surveyPayload.outer_accounts.length>0?this.surveyPayload.outer_accounts:null,this.registrationDiiaService.setAnketaProfile(i).subscribe({next:function(){n.getNextPage()},error:function(e){var t,i,r,o;475===(null==e?void 0:e.status)&&"ERROR:BUSINESS:034"===(null===(i=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error)||void 0===i?void 0:i.code)&&n.anketaForm.get("revenue").setErrors({maxValue:!0}),475===(null==e?void 0:e.status)&&"ERROR:BUSINESS:036"===(null===(o=null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.error)||void 0===o?void 0:o.code)&&n.sharedService.emitCustomAlert("ERROR:BUSINESS:036"),n.isPublishing=!1}})},e.prototype.navigateToSigning=function(){var e=this;this.registrationDiiaService.setAnketaProfile(this.surveyPayload).subscribe((function(){e.getNextPage()}),(function(t){e.unexpectedErrorMessage=t.error.code,console.warn(t)}))},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().subscribe((function(t){e.router.navigate([E.j[t.user_registration_step]]),e.isPublishing=!1}),(function(e){console.warn(e)}))},e.prototype.incomesCheckboxesGroupIsRequired=function(){var e=this.anketaForm.get("incomes.averageMonthlyIncome"),t=e.value,n=this.anketaForm.get("incomes.financialAssistance"),i=n.value,r=this.anketaForm.get("incomes.saleOrAssignmentMonetaryClaim"),o=r.value,a=this.anketaForm.get("incomes.fromSales"),s=a.value,l=this.anketaForm.get("incomes.formOfALoan");return!(t||i||o||s||l.value)&&(e.touched||n.touched||r.touched||a.touched||l.touched)},e.prototype.replaceDotWithComma=function(e,t,n){this.helpersCompanyService.replaceDotWithComma(e,t,n)},e.prototype.revenueWatcher=function(){var e=this;this.anketaForm.get("revenue").valueChanges.pipe(Object(s.a)(this.unsubscribAll$)).subscribe((function(t){var n=e.validateAndFormatInput(t);n!==t&&e.anketaForm.get("revenue").setValue(n,{emitEvent:!1})}))},e.prototype.maximumIncomeWatcher=function(){var e=this;this.anketaForm.get("maximumIncome").valueChanges.pipe(Object(s.a)(this.unsubscribAll$)).subscribe((function(t){e.maximumIncomeControl.setErrors(t.caption&&!(null==t?void 0:t.id)?{limit:!0}:null)}))},e.prototype.validateAndFormatInput=function(e){var t=null==e?void 0:e.replace(/\s/g,"");","!==t&&"-,"!==t||(t=","===t?"0,":"-0,");var n=null==t?void 0:t.match(/^-?\d*\,?\d{0,2}/),i=null==(t=n?n[0]:"")?void 0:t.split(",");return i[0].length>3&&(i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g," ")),i.join(",")},e.prototype.getMaximumIncomes=function(){var e=this;this.registrationDiiaService.getMaximumIncomes().pipe(Object(Ge.a)((function(e){return e.maximum_incomes.map((function(e){var t;return{caption:e.name,id:null===(t=e.value)||void 0===t?void 0:t.toString()}}))})),Object(s.a)(this.unsubscribAll$)).subscribe((function(t){return e.maximumIncomes=t}))},e.prototype.getSurveyFormData=function(){var e=this;this.registrationDiiaService.getAnketaProfile().pipe(Object(s.a)(this.unsubscribAll$)).subscribe((function(t){e.googleTagManagerService.logEvent(W.we,X.a.afterLoadPage),e.prefillAnketaForm(t),e.isLoading=!1}),(function(){e.googleTagManagerService.logEvent(W.we,X.a.afterLoadPage),e.isLoading=!1}))},e.prototype.prefillAnketaForm=function(e){this.anketaForm.get("hasNoLicenses").setValue(e.is_have_licenses),this.anketaForm.get("revenue").setValue(e.revenue?this.helpersCompanyService.numberToString(Number(e.revenue)):null),this.anketaForm.get("financialStatementsNotSubmitted").setValue(!!e.financial_statements_not_submitted&&e.financial_statements_not_submitted),this.anketaForm.get("citizenUSA").setValue(!!e.is_fatca||null),this.anketaForm.get("additional").setValue(!(!e.is_fatca||e.is_have_licenses)||null),e.source_money&&e.source_money.length&&this.setDefaultIncomesSelected(e.source_money)},e.prototype.setDefaultIncomesSelected=function(e){var t=this;e.forEach((function(e){t.anketaForm.get("incomes."+Fe.a[e]).setValue(!0)}))},e.prototype.createAnketaForm=function(){this.anketaForm=this.formBuilder.group({hasNoLicenses:[null],incomes:this.createIncomeGroup(),revenue:[null,[o.Validators.required,Object(He.a)(1),Object(Ue.a)(E.w)]],maximumIncome:[null,[o.Validators.required]],citizenUSA:[null],additional:[null,o.Validators.compose([o.Validators.requiredTrue])],outerAccounts:this.formBuilder.array([]),isAccounts:[!1],financialStatementsNotSubmitted:[!1]})},e.prototype.createIncomeGroup=function(){return this.formBuilder.group({averageMonthlyIncome:[],financialAssistance:[],saleOrAssignmentMonetaryClaim:[],fromSales:[],formOfALoan:[]})},e.prototype.subscribeToBrowserEvents=function(){var e=this;this.subscriptions.add(Object(H.a)(this.window,"beforeunload").subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()}))),this.subscriptions.add(Object(H.a)(this.window,"popstate").subscribe((function(){e.isGoBack=!0})))},e.prototype.incomesChangesWatcher=function(){var e=this;this.anketaForm.get("incomes").valueChanges.pipe(Object(s.a)(this.unsubscribAll$)).subscribe((function(t){var n,i,r=[];try{for(var o=Object(je.j)(Object.entries(t)),a=o.next();!a.done;a=o.next()){var s=Object(je.g)(a.value,2);s[1]&&r.push(Fe.b[s[0]])}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.showCheckboxError=0===r.length}))},e.prototype.additionalChangesWatcher=function(){var e=this;this.anketaForm.get("additional").valueChanges.pipe(Object(s.a)(this.unsubscribAll$)).subscribe((function(t){e.anketaForm.get("hasNoLicenses").setValue(t),e.anketaForm.get("citizenUSA").setValue(t)}))},e.prototype.financialStatementsNotSubmittedWatcher=function(){var e=this;this.anketaForm.get("financialStatementsNotSubmitted").valueChanges.pipe(Object(s.a)(this.unsubscribAll$)).subscribe((function(t){t?(e.anketaForm.get("revenue").setValue(null),e.anketaForm.get("revenue").disable()):e.anketaForm.get("revenue").enable()}))},e.prototype.scrollToError=function(){var e,t;this.incomesCheckboxesGroupIsRequired()?this.incomeContainerRef.nativeElement.scrollIntoView({behavior:"smooth",block:"center"}):(null===(e=this.anketaForm.get("revenue"))||void 0===e?void 0:e.invalid)?this.revenueRef.nativeElement.scrollIntoView({behavior:"smooth",block:"center"}):(null===(t=this.anketaForm.get("maximumIncome"))||void 0===t?void 0:t.invalid)&&this.maximumIncomeRef.nativeElement.scrollIntoView({behavior:"smooth",block:"center"})},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](o.FormBuilder),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](te.i),x["\u0275\u0275directiveInject"]($e.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-main-form"]],viewQuery:function(e,t){var n;1&e&&(x["\u0275\u0275viewQuery"](Ke,!0),x["\u0275\u0275viewQuery"](Ye,!0),x["\u0275\u0275viewQuery"](We,!0)),2&e&&(x["\u0275\u0275queryRefresh"](n=x["\u0275\u0275loadQuery"]())&&(t.incomeContainerRef=n.first),x["\u0275\u0275queryRefresh"](n=x["\u0275\u0275loadQuery"]())&&(t.revenueRef=n.first),x["\u0275\u0275queryRefresh"](n=x["\u0275\u0275loadQuery"]())&&(t.maximumIncomeRef=n.first))},decls:116,vars:93,consts:[[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"w-100",3,"formGroup","ngClass","ngSubmit"],[1,"subtitle"],["id","incomesContainer","formGroupName","incomes",1,"form-group"],["incomeContainerRef",""],[1,"d-flex"],["for","averageMonthlyIncome",1,"d-flex","mt-3"],["type","checkbox","id","averageMonthlyIncome","formControlName","averageMonthlyIncome",1,"mr-3"],[1,"flex-grow-2","align-self-center"],["for","financialAssistance",1,"d-flex","mt-3"],["type","checkbox","id","financialAssistance","formControlName","financialAssistance",1,"mr-3"],["for","fromSales",1,"d-flex","mt-3"],["type","checkbox","id","fromSales","formControlName","fromSales",1,"mr-3"],["for","saleOrAssignmentMonetaryClaim",1,"d-flex","mt-3"],["type","checkbox","id","saleOrAssignmentMonetaryClaim","formControlName","saleOrAssignmentMonetaryClaim",1,"mr-3"],["for","formOfALoan",1,"d-flex","my-3"],["type","checkbox","id","formOfALoan","formControlName","formOfALoan",1,"mr-3"],["class","d-flex",4,"ngIf"],[1,"subtitle-description"],[1,"form-group"],["revenueRef",""],[1,"input-group",3,"ngClass"],["type","revenue","inputmode","tel","formControlName","revenue","id","revenue","placeholder","0,00","fuibIsFocused","",1,"form-control",3,"keydown"],["class","input-message-container error",4,"ngIf"],[1,"form-group","checkbox-container"],["id","financialStatementsNotSubmitted","type","checkbox","formControlName","financialStatementsNotSubmitted"],["for","financialStatementsNotSubmitted",1,"checkbox","color-grey-60"],["maximumIncomeRef",""],["placeholder","0","errorBorderSize","large","afterPlaceholder","\u0433\u0440\u043d",3,"formControlName","caption","items","invalid"],["class","error-list",4,"ngIf"],["class","notification",4,"ngIf"],[1,"subtitle","mb-3"],[1,"toggle",3,"formControlName","caption","change"],[4,"ngIf"],[1,"form-group","d-flex","flex-column"],[1,"mt-3","grey"],["target","_blank","href","https://apim.pumb.ua/api/assets/pumb/85b11c29-4d46-48fc-8562-cedf5713395c/inshe-politichno-znachushi-publichni-osobi-chleni-sim-yi-pov-yazani-osobi.pdf",1,"underline"],["target","_blank","href","https://apim.pumb.ua/api/assets/pumb/20c4816b-d304-4f22-a08d-39fb814c8301/inshe-podatkova-rezidentnists-ssha.pdf",1,"underline"],["for","additional",1,"d-flex","position-relative","mb-2","align-items-center","approve"],["type","checkbox","id","additional","name","additional","formControlName","additional",1,"mr-3"],[1,"not-confirm"],["id","submitAnketaBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-1",3,"disabled","click"],["class","error-message mt-4 mb-3",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],[1,"input-message-container"],[1,"error-list"],["id","annualIncomeRequiredError",1,"mb-3"],[1,"input-message-container","error"],[3,"hidden"],["class","error-message-container",4,"ngIf"],[1,"error-message-container"],["target","_blank",1,"error-anchor",3,"routerLink"],["href","https://about.pumb.ua/map#138","target","_blank",1,"error-anchor"],[1,"notification"],["container","body",1,"i-info"],[3,"formArrayName"],[4,"ngFor","ngForOf"],["class","add-more-button","type","button",3,"click",4,"ngIf"],[3,"control","service"],["class","btn btn-action btn-action--mini btn-trash",3,"click",4,"ngIf"],[1,"btn","btn-action","btn-action--mini","btn-trash",3,"click"],[1,"i-trash"],["type","button",1,"add-more-button",3,"click"],["width","24","height","24","src","/assets/svg/plus_red.svg","alt","plus",1,"plus-icon"],["id","citizenUSARequiredError"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmitAnketa()})),x["\u0275\u0275elementStart"](2,"div",2),x["\u0275\u0275text"](3),x["\u0275\u0275pipe"](4,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"div",3,4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275elementStart"](8,"label",6),x["\u0275\u0275element"](9,"input",7),x["\u0275\u0275elementStart"](10,"div",8),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"div",5),x["\u0275\u0275elementStart"](14,"label",9),x["\u0275\u0275element"](15,"input",10),x["\u0275\u0275elementStart"](16,"div",8),x["\u0275\u0275text"](17),x["\u0275\u0275pipe"](18,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](19,"div",5),x["\u0275\u0275elementStart"](20,"label",11),x["\u0275\u0275element"](21,"input",12),x["\u0275\u0275elementStart"](22,"div",8),x["\u0275\u0275text"](23),x["\u0275\u0275pipe"](24,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](25,"div",5),x["\u0275\u0275elementStart"](26,"label",13),x["\u0275\u0275element"](27,"input",14),x["\u0275\u0275elementStart"](28,"div",8),x["\u0275\u0275text"](29),x["\u0275\u0275pipe"](30,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](31,"div",5),x["\u0275\u0275elementStart"](32,"label",15),x["\u0275\u0275element"](33,"input",16),x["\u0275\u0275elementStart"](34,"div",8),x["\u0275\u0275text"](35),x["\u0275\u0275pipe"](36,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](37,Xe,6,3,"div",17),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](38,"hr"),x["\u0275\u0275elementStart"](39,"div",2),x["\u0275\u0275text"](40),x["\u0275\u0275pipe"](41,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](42,"div",18),x["\u0275\u0275text"](43),x["\u0275\u0275pipe"](44,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](45,"div",19,20),x["\u0275\u0275elementStart"](47,"div",21),x["\u0275\u0275elementStart"](48,"input",22),x["\u0275\u0275listener"]("keydown",(function(e){return t.replaceDotWithComma(e,t.anketaForm,"revenue")})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](49,et,9,9,"div",23),x["\u0275\u0275elementStart"](50,"div",24),x["\u0275\u0275element"](51,"input",25),x["\u0275\u0275elementStart"](52,"label",26),x["\u0275\u0275text"](53),x["\u0275\u0275pipe"](54,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](55,"hr"),x["\u0275\u0275elementStart"](56,"div",2),x["\u0275\u0275text"](57),x["\u0275\u0275pipe"](58,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](59,"div",null,27),x["\u0275\u0275element"](61,"fuib-drop-down",28),x["\u0275\u0275template"](62,tt,4,3,"ul",29),x["\u0275\u0275template"](63,nt,4,3,"div",30),x["\u0275\u0275template"](64,it,14,17,"div",23),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](65,"hr"),x["\u0275\u0275elementStart"](66,"div",31),x["\u0275\u0275text"](67),x["\u0275\u0275pipe"](68,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](69,"fuib-toggle",32),x["\u0275\u0275listener"]("change",(function(){return t.toggleChange()})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](70,st,4,3,"div",33),x["\u0275\u0275element"](71,"hr"),x["\u0275\u0275elementStart"](72,"div",2),x["\u0275\u0275text"](73),x["\u0275\u0275pipe"](74,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](75,"div",19),x["\u0275\u0275elementStart"](76,"div",34),x["\u0275\u0275elementStart"](77,"ul"),x["\u0275\u0275elementStart"](78,"li",35),x["\u0275\u0275text"](79),x["\u0275\u0275pipe"](80,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](81,"li",35),x["\u0275\u0275text"](82),x["\u0275\u0275pipe"](83,"translate"),x["\u0275\u0275elementStart"](84,"a",36),x["\u0275\u0275text"](85),x["\u0275\u0275pipe"](86,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](87),x["\u0275\u0275pipe"](88,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](89,"li",35),x["\u0275\u0275text"](90),x["\u0275\u0275pipe"](91,"translate"),x["\u0275\u0275elementStart"](92,"a",37),x["\u0275\u0275text"](93),x["\u0275\u0275pipe"](94,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](95),x["\u0275\u0275pipe"](96,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](97,"li",35),x["\u0275\u0275text"](98),x["\u0275\u0275pipe"](99,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](100,"label",38),x["\u0275\u0275element"](101,"input",39),x["\u0275\u0275elementStart"](102,"div",8),x["\u0275\u0275elementStart"](103,"span"),x["\u0275\u0275text"](104),x["\u0275\u0275pipe"](105,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](106,lt,5,3,"div",17),x["\u0275\u0275elementStart"](107,"div",40),x["\u0275\u0275text"](108),x["\u0275\u0275pipe"](109,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](110,"button",41),x["\u0275\u0275listener"]("click",(function(){return t.onSubmitAnketa()})),x["\u0275\u0275text"](111),x["\u0275\u0275pipe"](112,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](113,ct,3,3,"div",42),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](114,pt,1,0,"fuib-digital-preloader",43),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](115,"div",44)),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formGroup",t.anketaForm)("ngClass",x["\u0275\u0275pureFunction1"](88,dt,t.isLoading)),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](4,42,"REGISTRATION_DIIA.ANKETA.INCOME_ORIGIN")),x["\u0275\u0275advance"](8),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,44,"REGISTRATION_DIIA.ANKETA.INCOME_MONTHLY")," "),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](18,46,"REGISTRATION_DIIA.ANKETA.FINANCIAL_ASSISTANCE")," "),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](24,48,"REGISTRATION_DIIA.ANKETA.MONETARY_CLAIM")," "),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](30,50,"REGISTRATION_DIIA.ANKETA.FROM_SALES")," "),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](36,52,"REGISTRATION_DIIA.ANKETA.FORM_OF_LOAN")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.showCheckboxError),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](41,54,"REGISTRATION_DIIA.ANKETA.ANNUAL_INCOMES")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](44,56,"REGISTRATION_DIIA.ANKETA.ANNUAL_INCOMES_VALUE")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction2"](90,ut,t.anketaForm.controls.revenue.invalid&&t.anketaForm.controls.revenue.touched,t.anketaForm.controls.revenue.disabled)),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.anketaForm.controls.revenue.invalid&&t.anketaForm.controls.revenue.touched),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](54,58,"REGISTRATION_DIIA.ANKETA.FINANCIAL_STATEMENTS_NOT_SUBMITTED")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](58,60,"REGISTRATION_DIIA.ANKETA.MAXIMUM_INCOMES")),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("formControlName","maximumIncome")("caption","REGISTRATION_DIIA.ANKETA.MAXIMUM_INCOMES_DESCRIPTION")("items",t.maximumIncomes)("invalid",t.anketaForm.controls.maximumIncome.invalid&&t.anketaForm.controls.maximumIncome.touched),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",(null==t.anketaForm.controls.maximumIncome.errors?null:t.anketaForm.controls.maximumIncome.errors.required)&&t.anketaForm.controls.maximumIncome.touched),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",!(null!=t.anketaForm.controls.maximumIncome.errors&&t.anketaForm.controls.maximumIncome.errors.limit)),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",(null==t.anketaForm.controls.maximumIncome.errors?null:t.anketaForm.controls.maximumIncome.errors.limit)&&t.anketaForm.controls.maximumIncome.touched),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](68,62,"REGISTRATION_DIIA.ANKETA.ACCOUNTS")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("formControlName","isAccounts")("caption","REGISTRATION_DIIA.ANKETA.HAD_ACCOUNTS_IN_OTHER_BANKS"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.anketaForm.get("isAccounts").value),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](74,64,"REGISTRATION_DIIA.ANKETA.ADDITIONAL")),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](80,66,"REGISTRATION_DIIA.ANKETA.LICENSES_RULES")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](83,68,"REGISTRATION_DIIA.ANKETA.NOT_USA_CITIZEN_1")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](86,70,"REGISTRATION_DIIA.ANKETA.NOT_USA_CITIZEN_2")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](88,72,"REGISTRATION_DIIA.ANKETA.NOT_USA_CITIZEN_3")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](91,74,"REGISTRATION_DIIA.ANKETA.NOT_USA_CITIZEN_4")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](94,76,"REGISTRATION_DIIA.ANKETA.NOT_USA_CITIZEN_5")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](96,78,"REGISTRATION_DIIA.ANKETA.NOT_USA_CITIZEN_6")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](99,80,"REGISTRATION_DIIA.ANKETA.NO_RELATIONS_WITH_RUSSIA")," "),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](105,82,"REGISTRATION_DIIA.ANKETA.CONFIRM_THIS_INFORMATION")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.anketaForm.controls.additional.invalid&&t.anketaForm.controls.additional.touched),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](109,84,"REGISTRATION_DIIA.ANKETA.NOT_CONFIRM")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("disabled",t.isPublishing),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](112,86,"CONTINUE")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[o.NgControlStatusGroup,o.FormGroupDirective,i.q,o.FormGroupName,o.CheckboxControlValueAccessor,o.NgControlStatus,o.FormControlName,i.t,o.DefaultValueAccessor,_.a,ze.a,qe.a,A.a,r.g,o.FormArrayName,i.s,Qe.a,R.a],pipes:[N.d],styles:['@charset "UTF-8";[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{transition:all .3s ease;color:#6d6d7a}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus-visible:before, [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus-visible:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover:before{border-color:#93939e}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#4d4d5c}[_nghost-%COMP%]   .form-check-label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:absolute;transform:translateY(-50%);top:50%;margin-top:0}.notification[_ngcontent-%COMP%]{background:var(--surface-neutral-tint,#f5f5fa);padding:16px;border-radius:8px;margin-top:24px;display:flex;gap:8px}.notification[_ngcontent-%COMP%]   .i-info[_ngcontent-%COMP%]{margin-top:5px}.add-more-button[_ngcontent-%COMP%]{border:none;background:transparent;transition:background .3s;padding:10px 20px;margin-left:-20px;border-radius:50px}.add-more-button[_ngcontent-%COMP%]:focus{outline:none}.add-more-button[_ngcontent-%COMP%]:hover{background:#f5f5fa}.btn-trash[_ngcontent-%COMP%]{position:absolute;right:-64px;display:flex;align-items:center;height:100%;justify-content:flex-end;opacity:.6;transition:opacity .3s}.btn-trash[_ngcontent-%COMP%]:hover{opacity:1}.plus-icon[_ngcontent-%COMP%]{margin-right:10px}.subtitle[_ngcontent-%COMP%]{font-family:gilroy;font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.4px;color:#4d4d5c}.subtitle-description[_ngcontent-%COMP%]{font-size:14px;font-style:normal;font-weight:500;line-height:20px;letter-spacing:.25px;margin-top:4px;margin-bottom:16px}ul[_ngcontent-%COMP%]{padding-left:20px}ul[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{color:#6d6d7a}.approve[_ngcontent-%COMP%]{background:#f5f5fa;border-radius:8px;padding:12px 14px;cursor:pointer}.not-confirm[_ngcontent-%COMP%]{font-size:12px;line-height:16px;letter-spacing:.25px;color:#6d6d7a}.underline[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:3px;cursor:pointer;transition:all .3s;color:#4d4d5c}.underline[_ngcontent-%COMP%]:hover{color:#f91f2b}.error-list[_ngcontent-%COMP%]{padding-left:0}.error-message-container[_ngcontent-%COMP%]{border-radius:8px;background:#ffeddd;padding:16px 22px 16px 36px;color:#f57f17;font-size:14px;font-style:normal;font-weight:500;line-height:20px;margin:16px 0}.error-message-container[_ngcontent-%COMP%]:before{content:"\ue940";font-family:project-icons;font-size:.75rem;margin-right:.5rem;display:inline-block;left:16px;position:absolute}.error-anchor[_ngcontent-%COMP%]{color:#f57f17;text-decoration:underline;text-underline-position:under;transition:all .3s}.error-anchor[_ngcontent-%COMP%]:hover{color:#f91f2b}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}.checkbox[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:24px;letter-spacing:.25px;margin-left:12px;cursor:pointer}.input-message-container.error[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]{position:relative}.input-group.readonly[_ngcontent-%COMP%]:hover{box-shadow:none}.input-group[_ngcontent-%COMP%]:after{content:"\u0433\u0440\u043d";width:24px;height:24px;position:absolute;font-size:16px;font-style:normal;font-weight:500;line-height:24px;letter-spacing:.25px;color:#b6b6bf;right:16px;top:12px;z-index:99}#maximumIncome[_ngcontent-%COMP%], #revenue[_ngcontent-%COMP%]{padding-right:50px}'],data:{animation:[Be.c]}}),e}(),gt=n("Wa42"),ft=n("LRne"),ht=n("MQ7l"),vt=n("B4QM"),It=n("8TXo");function bt(e,t){if(1&e&&x["\u0275\u0275elementContainer"](0,14),2&e){x["\u0275\u0275nextContext"](2);var n=x["\u0275\u0275reference"](11);x["\u0275\u0275property"]("ngTemplateOutlet",n)}}function St(e,t){if(1&e&&x["\u0275\u0275elementContainer"](0,14),2&e){x["\u0275\u0275nextContext"](2);var n=x["\u0275\u0275reference"](13);x["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Et(e,t){if(1&e&&x["\u0275\u0275elementContainer"](0,14),2&e){x["\u0275\u0275nextContext"](2);var n=x["\u0275\u0275reference"](9);x["\u0275\u0275property"]("ngTemplateOutlet",n)}}var Ot=function(e){return{"text-grey-40":e}};function xt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"li",9),x["\u0275\u0275elementContainerStart"](1,10),x["\u0275\u0275template"](2,bt,1,1,"ng-container",11),x["\u0275\u0275template"](3,St,1,1,"ng-container",11),x["\u0275\u0275template"](4,Et,1,1,"ng-container",12),x["\u0275\u0275elementContainerEnd"](),x["\u0275\u0275elementStart"](5,"span",13),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngSwitch",null==n?null:n.loader),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngSwitchCase","DONE"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngSwitchCase","IN_PROGRESS"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("id","progressStep_"+i)("ngClass",x["\u0275\u0275pureFunction1"](8,Ot,"PENDING"===n.loader)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](7,6,n.locale))}}function _t(e,t){1&e&&(x["\u0275\u0275namespaceSVG"](),x["\u0275\u0275elementStart"](0,"svg",15),x["\u0275\u0275element"](1,"path",16),x["\u0275\u0275elementEnd"]())}function Tt(e,t){1&e&&(x["\u0275\u0275namespaceSVG"](),x["\u0275\u0275elementStart"](0,"svg",17),x["\u0275\u0275element"](1,"path",18),x["\u0275\u0275elementEnd"]())}function Ct(e,t){1&e&&(x["\u0275\u0275namespaceSVG"](),x["\u0275\u0275elementStart"](0,"svg",19),x["\u0275\u0275element"](1,"path",20),x["\u0275\u0275elementEnd"]())}function At(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",21)}var yt=function(e){return{"filter-blur-3":e}},Rt=function(){function e(e,t,n,i,r,o){this.registrationDiiaService=e,this.sessionService=t,this.router=n,this.googleTagManagerService=i,this.intervalCheckService=r,this.window=o,this.progresses=Object(ft.a)(E.M),this.isGoBack=null,this.isCuidUpdated=!1,this.unsubscribeAll$=new a.a,this.intervalSubscription=new Ie.a,this.preconditionsAreDone=!1,this.isGoBack=!1,this.isLoading=!0,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.getNextPage(),this.sessionService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.intervalSubscription.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.isLoading=!1,e.isCuidUpdated||t.user_registration_step!==E.f&&t.user_registration_step!==E.m?e.subscribeToIntervalChecker():e.getCuidAndUpdateGtm()}),(function(t){e.prepareErrorCase(t)}))},e.prototype.subscribeToIntervalChecker=function(){var e=this;this.intervalSubscription=this.intervalCheckService.getIntervalData().subscribe((function(t){e.stepsLogic(t.user_registration_step)}),(function(t){e.prepareErrorCase(t)}))},e.prototype.prepareErrorCase=function(e){switch(e.status){case 401:this.isUnauthorized=!0,this.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}},e.prototype.mapPreconditions=function(e){E.M.forEach((function(t){return t.loader=e[t.mapper]}))},e.prototype.stepsLogic=function(e){switch(e){case E.f:this.getPreconditions();break;case E.m:this.finishLastPreconditionAndNavigateTo(e);break;default:this.router.navigate([E.j[e]])}},e.prototype.getPreconditions=function(){var e=this;this.registrationDiiaService.getPreconditions().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){Object(It.c)(t,vt.a.DONE)?e.finishLastPreconditionAndNavigateTo(E.m):e.mapPreconditions(t)}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()})),Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.prototype.finishLastPreconditionAndNavigateTo=function(e){var t=this,n=new ht.a;n.bank_system_search_performing=vt.a.DONE,n.data_and_documents_saving=vt.a.DONE,n.open_source_data_receiving=vt.a.DONE;var i=Object(U.a)(2e3);this.mapPreconditions(n),i.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){t.router.navigate([E.j[e]])}))},e.prototype.getCuidAndUpdateGtm=function(){var e=this;this.registrationDiiaService.getCuid().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.isCuidUpdated=!0,e.googleTagManagerService.logEvent(W.Zd,X.a.afterLoadPage),e.googleTagManagerService.logCuid(W.kb,t.cuid),e.subscribeToIntervalChecker()}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Te),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-verification"]],decls:15,vars:10,consts:[[1,"w-100",3,"ngClass"],[1,"d-flex","text-grey-50","mb-4","py-2","fsz-0-8-75","justify-content-center"],[1,"d-flex","flex-column"],[1,"pl-4"],["class","mb-2",4,"ngFor","ngForOf"],["defaultPreloader",""],["done",""],["in_progress",""],["class","loading loading-centered loading-sm",4,"ngIf"],[1,"mb-2"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],[1,"d-inline-flex","ml-2",3,"id","ngClass"],[3,"ngTemplateOutlet"],["width","24","id","defaultProgressIcon","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"svg-default"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 11.0748 19.8433 10.1882 19.5559 9.3642C19.374 8.84273 19.6493 8.27254 20.1708 8.09065C20.6923 7.90876 21.2624 8.18404 21.4443 8.70551C21.8046 9.73842 22 10.8475 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.675 2 15.2565 2.41259 16.6456 3.14254C17.1345 3.39944 17.3226 4.00403 17.0657 4.49293C16.8088 4.98183 16.2042 5.1699 15.7153 4.913C14.6062 4.3302 13.3431 4 12 4Z","fill","#D0D0D9"],["width","24","height","24","id","doneProgressIcon","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M9.80915 17.9817C9.62004 17.9451 9.43946 17.8536 9.29301 17.7071L3.63616 12.0503C3.24563 11.6597 3.24563 11.0266 3.63615 10.636C4.02668 10.2455 4.65984 10.2455 5.05037 10.636L10.0001 15.5858L19.1925 6.3934C19.5831 6.00288 20.2162 6.00288 20.6067 6.3934C20.9973 6.78393 20.9973 7.41709 20.6067 7.80762L10.7073 17.7071C10.5841 17.8303 10.4367 17.9146 10.2805 17.9601C10.1271 18.0047 9.96524 18.0119 9.80915 17.9817Z","fill","#66BB6A"],["width","24","id","inProgressIcon","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"svg-searching"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 11.0748 19.8433 10.1882 19.5559 9.3642C19.374 8.84273 19.6493 8.27254 20.1708 8.09065C20.6923 7.90876 21.2624 8.18404 21.4443 8.70551C21.8046 9.73842 22 10.8475 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.675 2 15.2565 2.41259 16.6456 3.14254C17.1345 3.39944 17.3226 4.00403 17.0657 4.49293C16.8088 4.98183 16.2042 5.1699 15.7153 4.913C14.6062 4.3302 13.3431 4 12 4Z","fill","#F91F2B"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"div",2),x["\u0275\u0275elementStart"](5,"ul",3),x["\u0275\u0275template"](6,xt,8,10,"li",4),x["\u0275\u0275pipe"](7,"async"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](8,_t,2,0,"ng-template",null,5,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](10,Tt,2,0,"ng-template",null,6,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](12,Ct,2,0,"ng-template",null,7,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](14,At,1,0,"fuib-digital-preloader",8)),2&e&&(x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](8,yt,t.isLoading)),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,4,"REGISTRATION_DIIA.VERIFICATION.IT_MAY_TAKE_A_WHILE")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngForOf",x["\u0275\u0275pipeBind1"](7,6,t.progresses)),x["\u0275\u0275advance"](8),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.q,i.s,i.t,i.x,i.y,i.z,i.A,R.a],pipes:[N.d,i.b],styles:["[_nghost-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all 100000000s ease;margin-bottom:3px}[_nghost-%COMP%]   button[type=submit][_ngcontent-%COMP%]{max-width:460px}.svg-default[_ngcontent-%COMP%], .svg-searching[_ngcontent-%COMP%]{animation:loading-spinner 1s linear infinite}@keyframes loading-spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),e}();function Nt(e,t){if(1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275element"](1,"qrcode",18),x["\u0275\u0275elementContainerEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](4);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("qrdata",n.qrImage)("width",168)("errorCorrectionLevel","H")}}function Pt(e,t){1&e&&x["\u0275\u0275element"](0,"img",19)}function Dt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",20),x["\u0275\u0275elementContainer"](1,21),x["\u0275\u0275elementEnd"]()),2&e){x["\u0275\u0275nextContext"](4);var n=x["\u0275\u0275reference"](2);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Mt(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"button",22),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"](4).generateNewQR()})),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()}2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,"REGISTRATION_DIIA.QR.GENERATE_NEW_QR")," "))}function wt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",13),x["\u0275\u0275template"](1,Nt,2,3,"ng-container",14),x["\u0275\u0275template"](2,Pt,1,0,"ng-template",null,15,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](4,Dt,2,1,"div",16),x["\u0275\u0275template"](5,Mt,3,3,"button",17),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275reference"](3),i=x["\u0275\u0275nextContext"](3);x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",i.qrImage&&!i.timeIsOver&&!i.isCurrentErrorPage&&!i.isCurrentVerificationErrorPage)("ngIfElse",n),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngIf",i.qrImage&&!i.timeIsOver&&!i.isCurrentErrorPage&&!i.isCurrentVerificationErrorPage),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",i.timeIsOver||i.isCurrentErrorPage||i.isCurrentVerificationErrorPage)}}var kt=function(e){return{"filter-blur-3":e}};function Lt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",7),x["\u0275\u0275elementStart"](1,"div",8),x["\u0275\u0275elementStart"](2,"div",9),x["\u0275\u0275elementStart"](3,"span",10),x["\u0275\u0275text"](4,"1."),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"span",11),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",9),x["\u0275\u0275elementStart"](9,"span",10),x["\u0275\u0275text"](10,"2."),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"span",11),x["\u0275\u0275text"](12),x["\u0275\u0275pipe"](13,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](14,"div",9),x["\u0275\u0275elementStart"](15,"span",10),x["\u0275\u0275text"](16,"3."),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](17,"span",11),x["\u0275\u0275text"](18),x["\u0275\u0275pipe"](19,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](20,wt,6,4,"div",12),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](2);x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](11,kt,n.isLoading)),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](7,5,"REGISTRATION_COMPANY.QR_COMPANY_SHARE.STEP1")),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](13,7,"REGISTRATION_COMPANY.QR_COMPANY_SHARE.STEP2")),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](19,9,"REGISTRATION_COMPANY.QR_COMPANY_SHARE.STEP3")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",!n.isLoading)}}function jt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",23),x["\u0275\u0275elementStart"](1,"ul",24),x["\u0275\u0275element"](2,"li",25),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"](2);x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](3,1,n.currentErrorPageLocale),x["\u0275\u0275sanitizeHtml"])}}function Bt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",3),x["\u0275\u0275elementStart"](1,"div",4),x["\u0275\u0275template"](2,Lt,21,13,"div",5),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](3,jt,4,3,"div",6),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",!n.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",n.isCurrentErrorPage||n.isCurrentVerificationErrorPage)}}function Ft(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"fuib-countdown",26),x["\u0275\u0275listener"]("counterTimeIsOver",(function(e){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().timeIsOver=e})),x["\u0275\u0275elementEnd"]()}if(2&e){var i=x["\u0275\u0275nextContext"]();x["\u0275\u0275property"]("endMilliseconds",i.countdownQR)}}function Gt(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",27)}var Vt=function(){function e(e,t,n,i,r,o,s){this.registrationDiiaService=e,this.sessionService=t,this.router=n,this.popupService=i,this.googleTagManagerService=r,this.intervalCheckService=o,this.window=s,this.isLoading=!0,this.timeIsOver=!1,this.currentErrorPageLocale=null,this.isFirstLoad=!0,this.unsubscribeAll$=new a.a,this.isGoBack=!1,this.isExpiredSession=!1,this.isCurrentErrorPage=!1,this.isCurrentVerificationErrorPage=!1,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.validateCurrentPage(),this.sessionService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.clearPersistKey(),this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer()},e.prototype.validateCurrentPage=function(){var e=this;this.intervalCheckService.getIntervalData().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.stepsLogic(t.user_registration_step)}),(function(t){e.prepareErrorCase(t)}))},e.prototype.stepsLogic=function(e){switch(this.isCurrentErrorPage=e===E.c,this.isCurrentVerificationErrorPage=e===E.e,e){case E.c:case E.e:this.googleTagManagerService.logEvent(W.de,X.a.error),this.prepareErrorTranslation(),this.isFirstLoad&&(this.isFirstLoad=!1),this.isLoading=!1;break;case E.d:if(this.isFirstLoad){this.isFirstLoad=!1;var t=this.sessionService.getQrFirstLoadExistStatusFromSessionStorage();t||this.googleTagManagerService.logEvent(W.ge,X.a.afterLoadPage),this.getQRLink(t)}break;default:this.router.navigate([E.j[e]])}},e.prototype.prepareErrorCase=function(e){switch(e.status){case 401:case 404:this.popupService.createAndCallPopup(v.c.REGISTRATION_DIIA_SET_PHONE,"ERROR:APP:001");break;case 500:this.router.navigate([v.c.REGISTRATION_DIIA_REJECTED])}},e.prototype.getQRLink=function(e){e?this.getCurrentSigningDeeplink():this.getNewQRLink(),this.prepareErrorTranslation()},e.prototype.getQrTll=function(){return this.sessionService.getQrTtlFromSessionStorage()},e.prototype.getCurrentSigningDeeplink=function(){var e=this;this.registrationDiiaService.getCurrentSigningDeeplink().pipe(Object(l.a)((function(){return e.isLoading=!1})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){var n=e.isCurrentErrorPage||e.isCurrentVerificationErrorPage;e.qrImage=n?null:t.deeplink,e.getQrTll()-t.deeplink_ttl>=E.D?e.timeIsOver=!0:(e.countdownQR=e.getMilliseconds(t.deeplink_ttl),e.timeIsOver=n)}),(function(){e.isLoading=!1}))},e.prototype.getNewQRLink=function(){var e=this;this.timeIsOver=!0,this.registrationDiiaService.getNewSigningDeeplink().pipe(Object(l.a)((function(){return e.isLoading=!1})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){var n=e.isCurrentErrorPage||e.isCurrentVerificationErrorPage;e.qrImage=n?null:t.deeplink,e.countdownQR=e.getMilliseconds(t.deeplink_ttl),e.sessionService.setQrTtlToSessionStorage(t.deeplink_ttl),e.sessionService.setQrFirstLoadExistStatusToSessionStorage(!0),e.timeIsOver=n}))},e.prototype.generateNewQR=function(){this.isCurrentErrorPage=!1,this.isCurrentVerificationErrorPage=!1,this.isLoading=!0,this.getNewQRLink()},e.prototype.prepareErrorTranslation=function(){var e="REGISTRATION_DIIA.APPLICATION_SIGNING";this.currentErrorPageLocale=null,this.isCurrentErrorPage?this.currentErrorPageLocale=e+".NOT_RECOGNIZED_KEY":this.isCurrentVerificationErrorPage&&(this.currentErrorPageLocale=e+".KEP_VALIDATION_ERROR")},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){return e.sessionService.saveTtlDateBeforeDestroy()})),Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.prototype.clearPersistKey=function(){this.sessionService.removeUnnecessarySessionStorages([K.c.QR_TTL,K.c.QR_IS_FIRST_LOAD])},e.prototype.getMilliseconds=function(e){return 1e3*(e-E.C)},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](h.a),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Te),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-application-signing"]],decls:5,vars:2,consts:[["class","d-flex flex-column app-signing-container",4,"ngIf","ngIfElse"],["countdownTemplate",""],["preloaderRef",""],[1,"d-flex","flex-column","app-signing-container"],[1,"d-flex","position-relative","justify-content-between","w-100","mb-4"],["class","d-flex",3,"ngClass",4,"ngIf"],["class","d-flex input-message-container",4,"ngIf"],[1,"d-flex",3,"ngClass"],[1,"d-flex","flex-column","steps"],[1,"d-flex","step"],[1,"sharing-step-number"],[1,"sharing-step"],["class","d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-column"],[4,"ngIf","ngIfElse"],["defaultQRRef",""],["class","d-flex btn scan-qr__timer ml-4",4,"ngIf"],["type","button","class","btn btn-primary ml-4 mt-4 btn-regenerate-qr",3,"click",4,"ngIf"],[1,"ml-4",3,"qrdata","width","errorCorrectionLevel"],["loading","lazy","src","./assets/images/disabled-qr.webp","alt","QR image disabled",1,"d-flex","ml-4"],[1,"d-flex","btn","scan-qr__timer","ml-4"],[3,"ngTemplateOutlet"],["type","button",1,"btn","btn-primary","ml-4","mt-4","btn-regenerate-qr",3,"click"],[1,"d-flex","input-message-container"],[1,"error-list"],[3,"innerHTML"],["units","Minutes | Seconds","divider",":",3,"endMilliseconds","counterTimeIsOver"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){if(1&e&&(x["\u0275\u0275template"](0,Bt,4,2,"div",0),x["\u0275\u0275template"](1,Ft,1,1,"ng-template",null,1,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](3,Gt,1,0,"ng-template",null,2,x["\u0275\u0275templateRefExtractor"])),2&e){var n=x["\u0275\u0275reference"](4);x["\u0275\u0275property"]("ngIf",!t.isLoading)("ngIfElse",n)}},directives:[i.t,i.q,Ce.a,i.A,V.a,R.a],pipes:[N.d],styles:["[_nghost-%COMP%] {min-height:200px;display:flex}[_nghost-%COMP%]  canvas{position:relative;top:5px;transform:scale(1.14)}[_nghost-%COMP%]  img{max-width:168px;min-height:168px}[_nghost-%COMP%]  .scan-qr__info{font-size:.875rem;color:#93939e;padding-right:10px}[_nghost-%COMP%]  .scan-qr__timer{height:40px;background:transparent;cursor:progress}[_nghost-%COMP%]  .scan-qr__timer .countdown:after, [_nghost-%COMP%]  .scan-qr__timer fuib-countdown .measurements-number{font-weight:700;color:#f91f2b}.btn-regenerate-qr[_ngcontent-%COMP%]{min-width:168px;font-size:.875rem}.app-signing-container[_ngcontent-%COMP%]{max-width:460px}.icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:3.5rem}.steps[_ngcontent-%COMP%]{max-width:260px;gap:12px;font-size:14px;line-height:20px}.step[_ngcontent-%COMP%]{gap:6px}"]}),e}(),Ut=n("C53X");function Ht(e,t){if(1&e&&x["\u0275\u0275elementContainer"](0,15),2&e){x["\u0275\u0275nextContext"](2);var n=x["\u0275\u0275reference"](11);x["\u0275\u0275property"]("ngTemplateOutlet",n)}}function $t(e,t){if(1&e&&x["\u0275\u0275elementContainer"](0,15),2&e){x["\u0275\u0275nextContext"](2);var n=x["\u0275\u0275reference"](13);x["\u0275\u0275property"]("ngTemplateOutlet",n)}}function zt(e,t){if(1&e&&x["\u0275\u0275elementContainer"](0,15),2&e){x["\u0275\u0275nextContext"](2);var n=x["\u0275\u0275reference"](9);x["\u0275\u0275property"]("ngTemplateOutlet",n)}}var qt=function(e){return{"text-grey-40":e}};function Qt(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"li",10),x["\u0275\u0275elementContainerStart"](1,11),x["\u0275\u0275template"](2,Ht,1,1,"ng-container",12),x["\u0275\u0275template"](3,$t,1,1,"ng-container",12),x["\u0275\u0275template"](4,zt,1,1,"ng-container",13),x["\u0275\u0275elementContainerEnd"](),x["\u0275\u0275elementStart"](5,"span",14),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngSwitch",null==n?null:n.loader),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngSwitchCase","DONE"),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngSwitchCase","IN_PROGRESS"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("id","progressStep_"+i)("ngClass",x["\u0275\u0275pureFunction1"](8,qt,"PENDING"===n.loader)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](7,6,n.locale))}}function Kt(e,t){1&e&&(x["\u0275\u0275namespaceSVG"](),x["\u0275\u0275elementStart"](0,"svg",16),x["\u0275\u0275element"](1,"path",17),x["\u0275\u0275elementEnd"]())}function Yt(e,t){1&e&&(x["\u0275\u0275namespaceSVG"](),x["\u0275\u0275elementStart"](0,"svg",18),x["\u0275\u0275element"](1,"path",19),x["\u0275\u0275elementEnd"]())}function Wt(e,t){1&e&&(x["\u0275\u0275namespaceSVG"](),x["\u0275\u0275elementStart"](0,"svg",20),x["\u0275\u0275element"](1,"path",21),x["\u0275\u0275elementEnd"]())}function Xt(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",22)}var Zt=function(e){return{"filter-blur-3":e}},Jt=function(){function e(e,t,n,i,r,o){this.registrationDiiaService=e,this.router=t,this.sessionService=n,this.googleTagManagerService=i,this.intervalCheckService=r,this.window=o,this.progresses=Object(ft.a)(E.J),this.isGoBack=null,this.isEventLogged=!1,this.unsubscribeAll$=new a.a,this.intervalSubscription=new Ie.a,this.preconditionsAreDone=!1,this.isGoBack=!1,this.isLoading=!0,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.getNextPage(),this.sessionService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.intervalSubscription.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.isLoading=!1,e.isEventLogged||t.user_registration_step!==E.h&&t.user_registration_step!==E.q||(e.googleTagManagerService.logEvent(W.hb,X.a.afterLoadPage),e.isEventLogged=!0),e.subscribeToIntervalChecker()}),(function(t){e.prepareErrorCase(t)}))},e.prototype.subscribeToIntervalChecker=function(){var e=this;this.intervalSubscription=this.intervalCheckService.getIntervalData().subscribe((function(t){e.stepsLogic(t.user_registration_step)}),(function(t){e.prepareErrorCase(t)}))},e.prototype.prepareErrorCase=function(e){switch(e.status){case 401:this.isUnauthorized=!0,this.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}},e.prototype.mapSignedPreconditions=function(e){E.J.forEach((function(t){return t.loader=e[t.mapper]}))},e.prototype.getClientRegistration=function(){var e=this;this.registrationDiiaService.getSigningClientsRegistrationsProgresses().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){Object(It.c)(t,vt.a.DONE)?e.finishLastPreconditionAndNavigateTo(E.q):e.mapSignedPreconditions(t)}),(function(t){403===t.status&&e.getNextPage()}))},e.prototype.stepsLogic=function(e){switch(e){case E.h:this.getClientRegistration();break;case E.q:this.finishLastPreconditionAndNavigateTo(e);break;default:this.router.navigate([E.j[e]])}},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()})),Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.prototype.finishLastPreconditionAndNavigateTo=function(e){var t=this,n=new Ut.a;n.account_creating=vt.a.DONE,n.bank_systems_sync_performing=vt.a.DONE,n.user_creating=vt.a.DONE;var i=Object(U.a)(2e3);this.mapSignedPreconditions(n),i.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){t.sessionService.stopTtlTimer(),t.sessionService.clearSessionParamsFromSessionStorage(),t.router.navigate([E.j[e]])}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Te),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-application-signed"]],decls:18,vars:13,consts:[[1,"w-100",3,"ngClass"],[1,"d-flex","text-grey-50","mb-4","py-2","fsz-0-8-75","justify-content-center"],[1,"d-flex","flex-column"],[1,"pl-4"],["class","mb-2",4,"ngFor","ngForOf"],["defaultPreloader",""],["done",""],["in_progress",""],[1,"bg-grey-10","p2","p-3","pl-4","pr-5","my-2","rounded","border-left-red"],["class","loading loading-centered loading-sm",4,"ngIf"],[1,"mb-2"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],[1,"d-inline-flex","ml-2",3,"id","ngClass"],[3,"ngTemplateOutlet"],["width","24","id","defaultProgressIcon","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"svg-default"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 11.0748 19.8433 10.1882 19.5559 9.3642C19.374 8.84273 19.6493 8.27254 20.1708 8.09065C20.6923 7.90876 21.2624 8.18404 21.4443 8.70551C21.8046 9.73842 22 10.8475 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.675 2 15.2565 2.41259 16.6456 3.14254C17.1345 3.39944 17.3226 4.00403 17.0657 4.49293C16.8088 4.98183 16.2042 5.1699 15.7153 4.913C14.6062 4.3302 13.3431 4 12 4Z","fill","#D0D0D9"],["width","24","height","24","id","doneProgressIcon","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M9.80915 17.9817C9.62004 17.9451 9.43946 17.8536 9.29301 17.7071L3.63616 12.0503C3.24563 11.6597 3.24563 11.0266 3.63615 10.636C4.02668 10.2455 4.65984 10.2455 5.05037 10.636L10.0001 15.5858L19.1925 6.3934C19.5831 6.00288 20.2162 6.00288 20.6067 6.3934C20.9973 6.78393 20.9973 7.41709 20.6067 7.80762L10.7073 17.7071C10.5841 17.8303 10.4367 17.9146 10.2805 17.9601C10.1271 18.0047 9.96524 18.0119 9.80915 17.9817Z","fill","#66BB6A"],["width","24","id","inProgressIcon","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"svg-searching"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 11.0748 19.8433 10.1882 19.5559 9.3642C19.374 8.84273 19.6493 8.27254 20.1708 8.09065C20.6923 7.90876 21.2624 8.18404 21.4443 8.70551C21.8046 9.73842 22 10.8475 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.675 2 15.2565 2.41259 16.6456 3.14254C17.1345 3.39944 17.3226 4.00403 17.0657 4.49293C16.8088 4.98183 16.2042 5.1699 15.7153 4.913C14.6062 4.3302 13.3431 4 12 4Z","fill","#C51522"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"div",2),x["\u0275\u0275elementStart"](5,"ul",3),x["\u0275\u0275template"](6,Qt,8,10,"li",4),x["\u0275\u0275pipe"](7,"async"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](8,Kt,2,0,"ng-template",null,5,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](10,Yt,2,0,"ng-template",null,6,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275template"](12,Wt,2,0,"ng-template",null,7,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](14,"div",8),x["\u0275\u0275text"](15),x["\u0275\u0275pipe"](16,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](17,Xt,1,0,"fuib-digital-preloader",9)),2&e&&(x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](11,Zt,t.isLoading)),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"]("",x["\u0275\u0275pipeBind1"](3,5,"REGISTRATION_DIIA.VERIFICATION.IT_MAY_TAKE_A_WHILE")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("ngForOf",x["\u0275\u0275pipeBind1"](7,7,t.progresses)),x["\u0275\u0275advance"](9),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](16,9,"REGISTRATION_DIIA.APPLICATION_SIGNED.AFTER_CALLOUT")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.q,i.s,i.t,i.x,i.y,i.z,i.A,R.a],pipes:[N.d,i.b],styles:["[_nghost-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:3px}[_nghost-%COMP%]   button[type=submit][_ngcontent-%COMP%]{max-width:460px}.svg-default[_ngcontent-%COMP%], .svg-searching[_ngcontent-%COMP%]{animation:loading-spinner 1s linear infinite}@keyframes loading-spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),e}(),en=n("diFX"),tn=function(){function e(e,t,n){this.registrationDiiaTtlOtpService=e,this.router=t,this.authService=n}return e.prototype.canActivate=function(){var e=this.registrationDiiaTtlOtpService.getPhoneDataFromSessionStorage(),t=this.authService.authToken.get("_aToken");return!(!e||!t)||this.router.createUrlTree([v.c.REGISTRATION_DIIA_SET_PHONE])},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275inject"](u.a),x["\u0275\u0275inject"](r.d),x["\u0275\u0275inject"](b.a))},e.\u0275prov=x["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),nn=function(){return["/login"]},rn=function(){function e(e,t,n,i){this._registrationDiiaService=e,this._router=t,this._googleTagManagerService=n,this.window=i,this.isGoBack=!1,this._unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this._subscribeToBrowserEvents(),this._getNextPage()},e.prototype.ngOnDestroy=function(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()},e.prototype._getNextPage=function(){var e=this;this._registrationDiiaService.getNextPage().pipe(Object(s.a)(this._unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.g&&e._router.navigate([E.j[t.user_registration_step]]),e._googleTagManagerService.logEvent(W.db,X.a.afterLoadPage)}),(function(t){e._router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype._subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this._unsubscribeAll$)).subscribe((function(t){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-registration-succeeded"]],decls:11,vars:11,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-success-circle.svg","alt","Icon Registration Succeeded"],[1,"d-flex","h5","mx-auto","content-title"],[1,"d-flex","content-explanation","tac",3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](6,"div",4),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementStart"](8,"button",5),x["\u0275\u0275text"](9),x["\u0275\u0275pipe"](10,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,4,"REGISTRATION_DIIA.U_ARE_CLIENT")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](7,6,"REGISTRATION_DIIA.USE_LOGIN"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](10,nn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](10,8,"BUTTONS.SIGN_IN")," "))},directives:[r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:2.25rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.125rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-bottom:2.125rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px}"]}),e}(),on=function(){return["/registration-choose"]},an=function(){function e(e,t,n,i){this._registrationDiiaService=e,this._router=t,this._googleTagManagerService=n,this.window=i,this.isGoBack=!1,this._unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this._subscribeToBrowserEvents(),this._getNextPage()},e.prototype.ngOnDestroy=function(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()},e.prototype._getNextPage=function(){var e=this;this._registrationDiiaService.getNextPage().pipe(Object(s.a)(this._unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.I&&t.user_registration_step!==E.s&&e._router.navigate([E.j[t.user_registration_step]]),e._googleTagManagerService.logEvent(W.ie,X.a.afterLoadPage)}),(function(t){e._router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype._subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this._unsubscribeAll$)).subscribe((function(t){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-registration-rejected"]],decls:13,vars:11,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon Registration Rejected"],[1,"d-flex","h5","mx-auto","content-title"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"button",7),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](5,4,"REGISTRATION_DIIA.MI_SCUSI")),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,6,"REGISTRATION_DIIA.DEPRECATED"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](10,on)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,8,"SELECTED")," "))},directives:[r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:2.25rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.125rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-bottom:2.125rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px}"]}),e}(),sn=n("JIr8"),ln=n("EY2u"),cn=n("+Yyd");function pn(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",3),x["\u0275\u0275elementStart"](1,"div",4),x["\u0275\u0275elementStart"](2,"div",5),x["\u0275\u0275elementStart"](3,"ul",6),x["\u0275\u0275elementStart"](4,"li",7),x["\u0275\u0275elementStart"](5,"strong"),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](8),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275element"](10,"br"),x["\u0275\u0275text"](11),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](12,"li",7),x["\u0275\u0275elementStart"](13,"strong"),x["\u0275\u0275text"](14),x["\u0275\u0275pipe"](15,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](16),x["\u0275\u0275pipe"](17,"translate"),x["\u0275\u0275element"](18,"br"),x["\u0275\u0275text"](19),x["\u0275\u0275pipe"](20,"phone"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](21,"li",8),x["\u0275\u0275pipe"](22,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](23,"div",9),x["\u0275\u0275elementStart"](24,"div",10),x["\u0275\u0275elementStart"](25,"a",11),x["\u0275\u0275element"](26,"img",12),x["\u0275\u0275elementStart"](27,"span",13),x["\u0275\u0275text"](28),x["\u0275\u0275pipe"](29,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](30,"button",14),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().onSubmit()})),x["\u0275\u0275text"](31),x["\u0275\u0275pipe"](32,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){var i=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](7,11,"REGISTRATION_DIIA.TARIFFS.OPEN")),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](9,13,"REGISTRATION_DIIA.TARIFFS.ACCOUNT_FOR")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",null==i.tariffsInfo?null:i.tariffsInfo.full_name," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](15,15,"REGISTRATION_DIIA.TARIFFS.CONNECT")),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](17,17,"REGISTRATION_DIIA.TARIFFS.SMS_BANKING_TO")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind2"](20,19,null==i.tariffsInfo?null:i.tariffsInfo.phone_number,i.ukrainianPhoneNumberMask)," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](22,22,"REGISTRATION_DIIA.TARIFFS.INTERNET_BANKING"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("download","\u0432\u0441\u0435Digital"),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](29,24,"REGISTRATION_DIIA.TARIFFS.CONDITIONS")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("disabled",i.isPublishAgreements),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](32,26,"CONTINUE")," ")}}function dn(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",15)}var un=function(){function e(e,t,n,i,r){this.router=e,this.sessionService=t,this.registrationDiiaService=n,this.googleTagManagerService=i,this.window=r,this.ukrainianPhoneNumberMask=S.db,this.isLoading=!0,this.subscriptions=new Ie.a,this.isGoBack=!1,this.isPublishAgreements=!1,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.getTariffsInfo(),this.sessionService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer()},e.prototype.onSubmit=function(){this.isPublishAgreements=!0,this.publishTariffsAgreements()},e.prototype.publishTariffsAgreements=function(){var e=this;this.registrationDiiaService.setTariffs().pipe(Object(l.a)((function(){return e.getNextPage()}))).subscribe()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(l.a)((function(){return e.isPublishAgreements=!1}))).subscribe((function(t){t.user_registration_step&&e.router.navigate([E.j[t.user_registration_step]])}))},e.prototype.getTariffsInfo=function(){var e=this;this.registrationDiiaService.getTariffsInfo().pipe(Object(sn.a)((function(){return e.getNextPage(),ln.a})),Object(l.a)((function(){e.isLoading=!1}))).subscribe((function(t){e.googleTagManagerService.logEvent(W.xe,X.a.afterLoadPage),e.tariffsInfo=t}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;this.subscriptions.add(Object(H.a)(this.window,"beforeunload").subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()}))),this.subscriptions.add(Object(H.a)(this.window,"popstate").subscribe((function(){e.isGoBack=!0})))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-form-tariffs"]],decls:3,vars:2,consts:[["class","position-relative d-flex flex-column align-items-center justify-content-center",4,"ngIf"],["class","d-flex loading loading-centered loading-sm mt-4",4,"ngIf"],["fuibFacebookPixel",""],[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","flex-column"],[1,"row","mx-1","mb-3","ul-checked"],[1,"col-12","mx-0","px-0","mb-0"],[1,"mb-2"],[1,"mb-2",3,"innerHTML"],[1,"row","mx-1","mb-4","d-flex","flex-column","p-4","px-5","download-wrapper"],[1,"d-inline-flex","download-with-icon","align-items-center"],["href","https://apim.pumb.ua/api/assets/pumb/3236e9fb-26fa-406f-9630-57620170669a/other-leaflet-digital.pdf","target","_blank",1,"d-flex","btn-link","btn-link-underlined_with-icon","align-items-center",3,"download"],["src","/assets/icons/conditions_icon.webp","alt","",1,"condition-icon"],[1,"d-flex","underline-near"],["type","button","id","submitFinalBtn",1,"btn","btn-primary","btn-lg","btn-block","mx-auto",3,"disabled","click"],[1,"d-flex","loading","loading-centered","loading-sm","mt-4"]],template:function(e,t){1&e&&(x["\u0275\u0275template"](0,pn,33,28,"div",0),x["\u0275\u0275template"](1,dn,1,0,"fuib-digital-preloader",1),x["\u0275\u0275element"](2,"div",2)),2&e&&(x["\u0275\u0275property"]("ngIf",!t.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.t,A.a,R.a],pipes:[N.d,cn.a],styles:["[_nghost-%COMP%]{min-height:200px}[_nghost-%COMP%]   .download-wrapper[_ngcontent-%COMP%]{border:1px solid #e1e1e8;border-radius:6px;transition:all .3s}[_nghost-%COMP%]   .download-wrapper[_ngcontent-%COMP%]:hover{border:1px solid #d0d0d9;box-shadow:0 4px 12px #f5f5fa}[_nghost-%COMP%]   .condition-icon[_ngcontent-%COMP%]{width:32px;margin-right:1rem}[_nghost-%COMP%]   .ul-checked[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:2.5rem}"]}),e}(),mn=function(){return["/registration-choose"]},gn=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-registration-repeat"]],decls:13,vars:11,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper","mb-4"],["loading","lazy","src","./assets/icons/icon-exclamation-circle.svg","alt","Icon Exclamation Repeat"],[1,"d-flex","h5","mx-auto","content-title","mb-4"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],["type","submit",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"button",7),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,4,"REGISTRATION_DIIA.SIMPLE_ERROR")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,6,"REGISTRATION_DIIA.SOMETHING_WENT_WRONG"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](10,mn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,8,"REPEAT")," "))},directives:[r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .btn[type=submit][_ngcontent-%COMP%]{max-width:460px;height:56px}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:2.25rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.125rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-bottom:2.125rem}"]}),e}(),fn=n("6P5z"),hn=function(){function e(e,t,n,i){this._registrationDiiaService=e,this._router=t,this._googleTagManagerService=n,this.window=i,this.isGoBack=!1,this._unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this._subscribeToBrowserEvents(),this._getNextPage()},e.prototype.ngOnDestroy=function(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()},e.prototype._getNextPage=function(){var e=this;this._registrationDiiaService.getNextPage().pipe(Object(s.a)(this._unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.i&&e._router.navigate([E.j[t.user_registration_step]]),e._googleTagManagerService.logEvent(W.gb,X.a.afterLoadPage)}),(function(t){e._router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype._subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this._unsubscribeAll$)).subscribe((function(t){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-almost-done"]],decls:30,vars:15,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper","mb-4"],["loading","lazy","src","./assets/icons/icon-red-circle.svg","alt","Icon Registration Almost Done"],[1,"d-flex","h5","mx-auto","content-title","mb-4"],[1,"detailed",3,"innerHTML"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","tac","call-to-holder"],[1,"d-flex","justify-content-between","align-items-center","phones-container"],[1,"d-flex","align-items-center"],[1,"d-flex","img-container"],["href","tel:0800501275",1,"btn-link","btn-link-underlined_with-icon","font-weight-bold"],["loading","lazy","src","./assets/icons/icon-phone.svg","alt","Icon Phone",1,"mr-1"],[1,"d-flex","flex-column"],[1,"phone-title"],["href","tel:0800501275",1,"btn-link","btn-link-underlined_with-icon","text-left","font-weight-bold"],["href","tel:+380442909311",1,"btn-link","btn-link-underlined_with-icon","font-weight-bold","text-left"],[1,"d-flex","align-self-end","text-left","color-grey-50","call-time",3,"innerHTML"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](6,"span",4),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementStart"](8,"div",5),x["\u0275\u0275elementStart"](9,"div",6),x["\u0275\u0275elementStart"](10,"div",7),x["\u0275\u0275elementStart"](11,"div",8),x["\u0275\u0275elementStart"](12,"div",9),x["\u0275\u0275elementStart"](13,"a",10),x["\u0275\u0275element"](14,"img",11),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](15,"div",12),x["\u0275\u0275elementStart"](16,"div",13),x["\u0275\u0275text"](17),x["\u0275\u0275pipe"](18,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](19,"a",14),x["\u0275\u0275text"](20," 0 800 501 275 "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](21,"div",12),x["\u0275\u0275elementStart"](22,"div",12),x["\u0275\u0275elementStart"](23,"div",13),x["\u0275\u0275text"](24),x["\u0275\u0275pipe"](25,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](26,"a",15),x["\u0275\u0275text"](27," +38 044 290 93 11 "),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](28,"div",16),x["\u0275\u0275pipe"](29,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,5,"REGISTRATION_DIIA.ALMOST_DONE.DONE_PROCESS")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](7,7,"REGISTRATION_DIIA.ALMOST_DONE.CALL_DETAILED"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](11),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](18,9,"REGISTRATION_DIIA.ALMOST_DONE.CALL_FREE_IN_UKRAINE")),x["\u0275\u0275advance"](7),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](25,11,"REGISTRATION_DIIA.ALMOST_DONE.CALL_INTERNATIONAL")),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](29,13,"REGISTRATION_DIIA.ALMOST_DONE.CALL_TO_TIME"),x["\u0275\u0275sanitizeHtml"]))},pipes:[N.d],styles:["[_nghost-%COMP%]{height:100%;display:flex}.content-title[_ngcontent-%COMP%]{color:#4d4d5c;text-align:center;font-size:24px;font-weight:700;line-height:32px;letter-spacing:.35px}.phone-title[_ngcontent-%COMP%]{font-size:12px;line-height:16px;color:#93939e}.tac[_ngcontent-%COMP%]{width:441px;padding:16px 24px}.call-time[_ngcontent-%COMP%]{justify-content:center;padding-top:8px;font-size:12px}.img-container[_ngcontent-%COMP%]{align-items:center}.call-to-holder[_ngcontent-%COMP%]{background:#f5f5fa;border-radius:1rem;position:relative}.detailed[_ngcontent-%COMP%]{color:#6d6d7a;text-align:center;line-height:24px;letter-spacing:.25px;margin-bottom:32px}.img-container[_ngcontent-%COMP%]{position:relative;margin-right:16px}"]}),e}(),vn=n("Xznm"),In=function(e){return{requiredLength:e}};function bn(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"ul",10),x["\u0275\u0275elementStart"](1,"li",11),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](4,"li",11),x["\u0275\u0275text"](5),x["\u0275\u0275pipe"](6,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](7,"li",11),x["\u0275\u0275text"](8),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"li",12),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("hidden",!(null!=n.emailControl.errors&&n.emailControl.errors.required)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](3,8,"VALIDATIONS.REQUIRED")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.emailControl.errors&&n.emailControl.errors.email)||(null==n.emailControl.errors?null:n.emailControl.errors.required)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](6,10,"REGISTRATION_DIIA.ANKETA.EMAIL_INVALID")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.emailControl.errors&&n.emailControl.errors.pattern)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](9,12,"VALIDATIONS.RESTRICTED_EMAIL")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("hidden",!(null!=n.emailControl.errors&&n.emailControl.errors.maxlength)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind2"](12,14,"VALIDATIONS.EMAIL_MAX_LENGTH_CHARACTERS",x["\u0275\u0275pureFunction1"](17,In,n.availableEmailMaxLength))," ")}}var Sn=function(e){return{"is-invalid":e}},En=function(){function e(e){this.formBuilder=e,this.email="",this.emailSubmit=new x.EventEmitter,this.availableEmailMaxLength=E.n,this.createEmailForm()}return e.prototype.ngOnChanges=function(e){e.email&&this.emailControl.setValue(this.email)},e.prototype.onSubmitForm=function(){this.emailForm.valid?this.emailSubmit.emit(this.emailForm.value):this.emailForm.markAllAsTouched()},Object.defineProperty(e.prototype,"emailControl",{get:function(){return this.emailForm.controls.email_address},enumerable:!1,configurable:!0}),e.prototype.isControlInvalid=function(e){return e.invalid&&e.touched},e.prototype.createEmailForm=function(){this.emailForm=this.formBuilder.group({email_address:["",[o.Validators.compose([o.Validators.required,o.Validators.maxLength(E.n),o.Validators.pattern(v.Ud),vn.e])]]})},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](o.FormBuilder))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-set-email"]],inputs:{email:"email"},outputs:{emailSubmit:"emailSubmit"},features:[x["\u0275\u0275NgOnChangesFeature"]],decls:16,vars:14,consts:[[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"w-100",3,"formGroup","ngSubmit"],[1,"email-info"],[1,"form-group","pb-1"],["for","email",1,"d-inline-flex","position-relative"],[1,"input-group","input-phone",3,"ngClass"],["id","email","type","email","autocomplete","off","formControlName","email_address","placeholder","my.email@example.com","fuibIsFocused","",1,"form-control","pl-3"],[1,"input-message-container"],["class","error-list",4,"ngIf"],["id","submitFormBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-1",3,"click"],[1,"error-list"],[3,"hidden"],["id","lessLengthRequiredError",3,"hidden"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmitForm()})),x["\u0275\u0275elementStart"](2,"div",2),x["\u0275\u0275text"](3),x["\u0275\u0275pipe"](4,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"div",3),x["\u0275\u0275elementStart"](6,"label",4),x["\u0275\u0275text"](7),x["\u0275\u0275pipe"](8,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](9,"div",5),x["\u0275\u0275element"](10,"input",6),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"div",7),x["\u0275\u0275template"](12,bn,13,19,"ul",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"button",9),x["\u0275\u0275listener"]("click",(function(){return t.onSubmitForm()})),x["\u0275\u0275text"](14),x["\u0275\u0275pipe"](15,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formGroup",t.emailForm),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](4,6,"REGISTRATION_DIIA.EMAIL.INFO")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"]("",x["\u0275\u0275pipeBind1"](8,8,"REGISTRATION_DIIA.EMAIL.FIELDNAME")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](12,Sn,t.isControlInvalid(t.emailControl))),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngIf",t.isControlInvalid(t.emailControl)),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](15,10,"CONTINUE")," "))},directives:[o.NgControlStatusGroup,o.FormGroupDirective,i.q,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,_.a,i.t],pipes:[N.d],styles:[".email-info[_ngcontent-%COMP%]{margin-bottom:16px;letter-spacing:.25px;color:#4d4d5c;text-align:center}"],changeDetection:0}),e}();function On(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",3)}var xn=function(e){return{"filter-blur-3":e}},_n=function(){function e(e,t,n,i,r,o){this.registrationDiiaService=e,this.router=t,this.sessionService=n,this.cd=i,this.googleTagManagerService=r,this.window=o,this.isGoBack=!1,this.isLoading=!0,this.email="",this.intervalSubscription=new Ie.a,this.unsubscribeAll=new a.a,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.getNextPage(),this.sessionService.checkTimerTtl()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll.next(),this.unsubscribeAll.complete(),this.intervalSubscription.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer()},e.prototype.submitForm=function(e){var t=this;this.isLoading=!0,this.registrationDiiaService.setEmail(e).pipe(Object(s.a)(this.unsubscribeAll)).subscribe({next:function(e){e.updated&&(t.googleTagManagerService.logEvent(W.oe,X.a.click),t.router.navigate([E.j[E.K]]))},error:function(e){t.isLoading=!1,console.error(e),t.cd.detectChanges()}})},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll)).subscribe((function(t){t.user_registration_step===E.m?e.getEmailInfo():e.router.navigate([E.j[t.user_registration_step]])}),(function(t){e.isLoading=!1,console.error(t),e.cd.detectChanges()}))},e.prototype.getEmailInfo=function(){var e=this;this.registrationDiiaService.getEmailInfo().pipe(Object(s.a)(this.unsubscribeAll)).subscribe((function(t){t.email_address&&(e.email=t.email_address),e.registrationDiiaService.updateWizzardTitle("REGISTRATION_DIIA.EMAIL.TITLE"),e.isLoading=!1,e.cd.detectChanges()}),(function(t){e.isLoading=!1,console.error(t),e.cd.detectChanges()}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll)).subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()})),Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-email-registration"]],decls:3,vars:5,consts:[[3,"ngClass"],[3,"email","emailSubmit"],["class","loading loading-centered loading-sm",4,"ngIf"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"fuib-set-email",1),x["\u0275\u0275listener"]("emailSubmit",(function(e){return t.submitForm(e)})),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](2,On,1,0,"fuib-digital-preloader",2)),2&e&&(x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](3,xn,t.isLoading)),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("email",t.email),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.q,En,i.t,R.a],styles:[""],changeDetection:0}),e}(),Tn=function(){return["/home"]},Cn=function(){function e(e,t,n,i){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.window=i,this.isGoBack=!1,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.L&&e.router.navigate([E.j[t.user_registration_step]]),e.googleTagManagerService.logEvent(W.Se,X.a.afterLoadPage)}),(function(){e.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-tax-service-error"]],decls:13,vars:11,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon Registration Rejected"],[1,"d-flex","h5","mx-auto","content-title","text-center"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"button",7),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,4,"REGISTRATION_DIIA.TAX_SERVICE_FOP_ERROR")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,6,"REGISTRATION_DIIA.FOP_NOT_FOUND"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](10,Tn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,8,"UNDERSTOOD")," "))},directives:[r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:2.25rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.125rem;padding:0 20%}[_nghost-%COMP%]   .tac[_ngcontent-%COMP%]{padding:0 5%}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-bottom:2.125rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px}"]}),e}(),An=n("ntcD"),yn=function(){return["/home"]},Rn=function(){function e(e,t,n,i){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.window=i,this.markets=g.i,this.isGoBack=!1,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.x&&e.router.navigate([E.j[t.user_registration_step]]),e.googleTagManagerService.logEvent(W.Oe,X.a.afterLoadPage)}),(function(){e.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-fop-error"]],decls:24,vars:18,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon FOP Error"],[1,"d-flex","h5","mx-auto","content-title","text-center"],[1,"d-flex","content-explanation","p15"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],[1,"d-flex","content-explanation"],[1,"d-flex","flex-grow-2","align-self-center","align-items-center","tac"],[3,"markets"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"div",7),x["\u0275\u0275elementStart"](11,"div",8),x["\u0275\u0275element"](12,"hr"),x["\u0275\u0275text"](13),x["\u0275\u0275pipe"](14,"translate"),x["\u0275\u0275element"](15,"hr"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](16,"div",7),x["\u0275\u0275elementStart"](17,"div",5),x["\u0275\u0275element"](18,"span",6),x["\u0275\u0275pipe"](19,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](20,"fuib-mobile-market-links",9),x["\u0275\u0275elementStart"](21,"button",10),x["\u0275\u0275text"](22),x["\u0275\u0275pipe"](23,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,7,"REGISTRATION_DIIA.FOP_ERROR")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,9,"REGISTRATION_DIIA.FOP_NOT_INFO"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](5),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](14,11,"REGISTRATION_DIIA.BUT")," "),x["\u0275\u0275advance"](5),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](19,13,"REGISTRATION_DIIA.FOP_INSTALL_APP"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("markets",t.markets),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](17,yn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](23,15,"TO_MAIN")," "))},directives:[An.a,r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:2.25rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.125rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{width:159px;margin:0 8px}[_nghost-%COMP%]   .p15[_ngcontent-%COMP%]{padding:0 15%}[_nghost-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   fuib-mobile-market-links[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),e}(),Nn=function(){return["/registration-diia/scan-qr"]},Pn=function(){function e(e,t,n,i){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.window=i,this.isGoBack=!1,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.k&&e.router.navigate([E.j[t.user_registration_step]]),e.googleTagManagerService.logEvent(v.Od,v.ce.error)}),(function(){e.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-document-sharing-error"]],decls:13,vars:11,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon Registration Rejected"],[1,"d-flex","h5","mx-auto","content-title"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"button",7),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,4,"REGISTRATION_COMPANY.ERRORS.DOCUMENTS_SHARING_ERROR_TITLE")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,6,"REGISTRATION_COMPANY.ERRORS.DOCUMENTS_SHARING_ERROR_SUBTITLE"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](10,Nn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,8,"REGISTRATION_DIIA.REPEAT_PRECONDITION")," "))},directives:[r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:2.25rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.125rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-bottom:2.125rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px;font-size:16px}.tac[_ngcontent-%COMP%]{color:#6d6d7a}.link[_ngcontent-%COMP%]{color:#4d4d5c;text-decoration:underline;text-underline-position:under}.link[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),e}(),Dn=function(){return["/login"]},Mn=function(){function e(e,t,n,i){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.window=i,this.markets=g.a,this.isGoBack=!1,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.q&&e.router.navigate([E.j[t.user_registration_step]]),e.googleTagManagerService.logEvent(v.cb,v.ce.afterLoadPage)}),(function(){e.router.navigate([v.c.REGISTRATION_COMPANY_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-finish"]],decls:20,vars:15,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-success-circle.svg","alt","Icon FOP Error"],[1,"d-flex","h5","mx-auto","content-title","text-center"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"],[1,"d-flex","flex-grow-2","align-self-center","align-items-center","tac","grey"],[3,"markets"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"button",7),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"div",4),x["\u0275\u0275elementStart"](14,"div",8),x["\u0275\u0275element"](15,"hr"),x["\u0275\u0275text"](16),x["\u0275\u0275pipe"](17,"translate"),x["\u0275\u0275element"](18,"hr"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](19,"fuib-mobile-market-links",9),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,6,"REGISTRATION_DIIA.TAX_OPENED")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,8,"REGISTRATION_DIIA.TAX_INFO"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](14,Dn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,10,"BUTTONS.SIGN_IN")," "),x["\u0275\u0275advance"](5),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](17,12,"REGISTRATION_DIIA.OR")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("markets",t.markets))},directives:[r.e,An.a],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin:1rem 0}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px;font-size:16px}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{width:159px;margin:0 8px}[_nghost-%COMP%]   .p15[_ngcontent-%COMP%]{padding:0 15%}[_nghost-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .grey[_ngcontent-%COMP%]{color:#93939e}.tac[_ngcontent-%COMP%]{color:#6d6d7a}"]}),e}(),wn=function(){return["/registration/set-phone"]},kn=function(){function e(e,t,n,i){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.window=i,this.isGoBack=!1,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.y&&e.router.navigate([E.j[t.user_registration_step]]),e.googleTagManagerService.logEvent(W.he,X.a.afterLoadPage)}),(function(){e.router.navigate([v.c.REGISTRATION_COMPANY_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-occupied-territories-error"]],decls:24,vars:20,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon FOP Error"],[1,"d-flex","h5","mx-auto","content-title","text-center"],[1,"d-flex"],[1,"flex-grow-2","align-self-center","tac"],[3,"innerHTML"],[1,"d-flex","content-explanation"],[1,"d-flex","flex-column","justify-content-start","align-items-start","py-3","px-4","call-to-holder"],[1,"header-description"],["href","https://about.pumb.ua/map","target","_blank",1,"btn-link-underlined","btn-link"],["type","button",1,"btn","btn-primary","w-100",3,"routerLink"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"div",7),x["\u0275\u0275elementStart"](11,"div",5),x["\u0275\u0275elementStart"](12,"div",8),x["\u0275\u0275elementStart"](13,"div",9),x["\u0275\u0275element"](14,"span",6),x["\u0275\u0275pipe"](15,"translate"),x["\u0275\u0275elementStart"](16,"a",10),x["\u0275\u0275text"](17),x["\u0275\u0275pipe"](18,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](19,"span",6),x["\u0275\u0275pipe"](20,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](21,"button",11),x["\u0275\u0275text"](22),x["\u0275\u0275pipe"](23,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,7,"REGISTRATION_DIIA.OCUPIED_TERRITORIES_ERROR")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,9,"REGISTRATION_DIIA.OCUPIED_TERRITORIES_DETAILS_ERROR"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](6),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](15,11,"REGISTRATION_DIIA.OCUPIED_TERRITORIES_NEXT_ACTIONS1"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](18,13,"REGISTRATION_DIIA.IN_BANK")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](20,15,"REGISTRATION_DIIA.OCUPIED_TERRITORIES_NEXT_ACTIONS2"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](19,wn)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](23,17,"REGISTRATION_DIIA.OPEN_WITH_MANAGER")," "))},directives:[r.e],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem}[_nghost-%COMP%]   .content-explanation[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{width:159px;margin:0 8px}[_nghost-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   fuib-mobile-market-links[_ngcontent-%COMP%]{margin-bottom:1rem}.call-to-holder[_ngcontent-%COMP%]{background:#f5f5fa;border-radius:.5rem;position:relative;border-left:8px solid #f91f2b;font-size:.9rem;text-align:left}.header-description[_ngcontent-%COMP%]{color:#6d6d7a;font-size:14px}.btn-link[_ngcontent-%COMP%]{font-size:14px}.tac[_ngcontent-%COMP%]{color:#6d6d7a;text-align:center;font-size:16px;font-style:normal;line-height:24px;letter-spacing:.25px}"]}),e}(),Ln=function(){function e(e,t,n,i,r){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.sessionService=i,this.window=r,this.isGoBack=!1,this.trackClickEvent=v.Pd,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.sessionService.removeUnnecessarySessionStorages([v.Be.IS_FIRST_LOAD])},e.prototype.resetRegistration=function(){var e=this;this.registrationDiiaService.resetRegistrations().pipe(Object(Q.a)((function(t){return t.updated?e.registrationDiiaService.getNextPage():ln.a})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.router.navigate([E.j[t.user_registration_step]])}))},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.r&&e.router.navigate([E.j[t.user_registration_step]]),e.sessionService.getFirstLoadExistStatusFromSessionStorage()||(e.googleTagManagerService.logEvent(v.Qd,v.ce.afterLoadPage),e.sessionService.setFirstLoadExistStatusToSessionStorage(!0))}),(function(){e.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](Y.a),x["\u0275\u0275directiveInject"](te.h),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-application-error"]],decls:13,vars:10,consts:[[1,"d-flex","flex-column","m-auto","justify-content-center","align-items-center"],[1,"d-flex","icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon Registration Rejected"],[1,"d-flex","h5","mx-auto","content-title"],[1,"d-flex","content-explanation"],[1,"flex-grow-2","align-self-center","description"],[3,"innerHTML"],["type","button",1,"btn","btn-primary","w-100",3,"fuibTrackEvent","click"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275elementStart"](7,"div",5),x["\u0275\u0275element"](8,"span",6),x["\u0275\u0275pipe"](9,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](10,"button",7),x["\u0275\u0275listener"]("click",(function(){return t.resetRegistration()})),x["\u0275\u0275text"](11),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,4,"REGISTRATION_COMPANY.ERRORS.APPLICATION_ERROR")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](9,6,"REGISTRATION_COMPANY.ERRORS.APPLICATION_ERROR_DESCRIPTION"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fuibTrackEvent",t.trackClickEvent),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](12,8,"REGISTRATION_DIIA.REPEAT_PRECONDITION")," "))},directives:[C.a],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}.content-title[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}.content-explanation[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.btn[_ngcontent-%COMP%]{max-width:460px;height:56px;font-size:16px}.description[_ngcontent-%COMP%]{color:#6d6d7a}.link[_ngcontent-%COMP%]{color:#4d4d5c;text-decoration:underline;text-underline-position:under}.link[_ngcontent-%COMP%]:hover{text-decoration:none}"],changeDetection:0}),e}();function jn(e,t){1&e&&(x["\u0275\u0275elementContainerStart"](0),x["\u0275\u0275elementStart"](1,"span"),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementContainerEnd"]()),2&e&&(x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](3,1,"REGISTRATION_DIIA.TARIFFS.HELP_ABOUT")))}function Bn(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"span"),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](2,1,"REGISTRATION_COMPANY.APP_INFO.ACCESSION")))}function Fn(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",9),x["\u0275\u0275listener"]("click",(function(){x["\u0275\u0275restoreView"](n);var e=t.$implicit;return x["\u0275\u0275nextContext"](2).openPdfInNewTab(e.content)})),x["\u0275\u0275element"](1,"img",10),x["\u0275\u0275template"](2,jn,4,3,"ng-container",11),x["\u0275\u0275template"](3,Bn,3,3,"ng-template",null,12,x["\u0275\u0275templateRefExtractor"]),x["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=x["\u0275\u0275reference"](4);x["\u0275\u0275classProp"]("last","customer_statement"===i.file_type),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf","deposit_guarantee_cert"===i.file_type)("ngIfElse",r)}}function Gn(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"div",2),x["\u0275\u0275elementStart"](1,"div",3),x["\u0275\u0275template"](2,Fn,5,4,"div",4),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",5),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementStart"](6,"strong",6),x["\u0275\u0275text"](7),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",7),x["\u0275\u0275text"](9),x["\u0275\u0275pipe"](10,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](11,"button",8),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().submit()})),x["\u0275\u0275text"](12),x["\u0275\u0275pipe"](13,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()}if(2&e){var i=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngForOf",i.clientDiiaSharingData.files),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,5,"REGISTRATION_DIIA.APPLICATION_SIGNING.SENDING_TO")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"]("\xa0",null==i.clientDiiaSharingData?null:i.clientDiiaSharingData.email_address,""),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](10,7,"REGISTRATION_DIIA.APPLICATION_INFO.NOTIFICATION")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](13,9,"REGISTRATION_COMPANY.APP_INFO.SIGN")," ")}}function Vn(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",13)}var Un=function(){function e(e,t,n,i,r){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.sessionService=i,this.window=r,this.isGoBack=!1,this.isLoading=!0,this.clientDiiaSharingData=null,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.sessionService.removeUnnecessarySessionStorages([v.Be.IS_FIRST_LOAD])},e.prototype.openPdfInNewTab=function(e){for(var t=atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);var o=new Blob([i],{type:"application/pdf"}),a=document.createElement("a");a.href=window.URL.createObjectURL(o),a.target="_blank",a.click()},e.prototype.submit=function(){var e=this;this.isLoading=!0,this.registrationDiiaService.setApplicationInfoDocumentSignature().pipe(Object(Q.a)((function(){return e.registrationDiiaService.getNextPage()})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.b&&e.router.navigate([E.j[t.user_registration_step]])}))},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(Q.a)((function(t){return t.user_registration_step!==E.b&&e.router.navigate([E.j[t.user_registration_step]]),e.sessionService.getFirstLoadExistStatusFromSessionStorage()||(e.googleTagManagerService.logEvent(v.Rd,v.ce.afterLoadPage),e.sessionService.setFirstLoadExistStatusToSessionStorage(!0)),e.registrationDiiaService.getDownloadPath()})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.clientDiiaSharingData=t,e.isLoading=!1}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](te.f),x["\u0275\u0275directiveInject"](te.h),x["\u0275\u0275directiveInject"](te.j))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-application-info"]],decls:2,vars:2,consts:[["class","app-info",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],[1,"app-info"],[1,"docs"],["class","docs-external-link-container",3,"last","click",4,"ngFor","ngForOf"],[1,"send-email"],[1,"text-bold"],[1,"notification"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[1,"docs-external-link-container",3,"click"],["width","32","height","32","src","/assets/icons/external-link.webp","alt","external-link",1,"external-link-icon"],[4,"ngIf","ngIfElse"],["accession",""],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275template"](0,Gn,14,11,"div",0),x["\u0275\u0275template"](1,Vn,1,0,"fuib-digital-preloader",1)),2&e&&(x["\u0275\u0275property"]("ngIf",!t.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.t,i.s,R.a],pipes:[N.d],styles:['.app-info[_ngcontent-%COMP%]{gap:16px}.app-info[_ngcontent-%COMP%], .docs[_ngcontent-%COMP%]{display:flex;flex-direction:column}.docs[_ngcontent-%COMP%]{width:100%;gap:8px}.docs-external-link-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #e1e1e8;width:100%;height:80px;padding:24px 32px;gap:10px;border-radius:6px;font-weight:500;cursor:pointer;transition:all .3s}.docs-external-link-container.last[_ngcontent-%COMP%]{order:10}.docs-external-link-container[_ngcontent-%COMP%]:hover{border:1px solid #d0d0d9;box-shadow:0 4px 12px #f5f5fa}.notification[_ngcontent-%COMP%]{border-radius:8px;background:#f5f5fa;padding:16px 24px;overflow:hidden;margin-bottom:8px;color:#4d4d5c;font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px;position:relative}.notification[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:6px;background:#f91f2b}button[_ngcontent-%COMP%]{min-height:56px}']}),e}(),Hn=function(){return["/home"]},$n=function(){function e(e,t,n,i,r){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.sessionService=i,this.window=r,this.isGoBack=!1,this.trackClickEvent=v.Md,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.sessionService.removeUnnecessarySessionStorages([v.Be.IS_FIRST_LOAD])},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.user_registration_step!==E.p&&e.router.navigate([E.j[t.user_registration_step]]),e.sessionService.getFirstLoadExistStatusFromSessionStorage()||(e.googleTagManagerService.logEvent(v.Nd,v.ce.afterLoadPage),e.sessionService.setFirstLoadExistStatusToSessionStorage(!0))}),(function(){e.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](te.f),x["\u0275\u0275directiveInject"](te.h),x["\u0275\u0275directiveInject"](te.j))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-expired-documents-error"]],decls:11,vars:12,consts:[[1,"content"],[1,"icon-wrapper"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon Registration Rejected"],[1,"content-title"],[1,"content-explanation",3,"innerHTML"],["type","button",1,"btn","btn-primary",3,"routerLink","fuibTrackEvent"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275element"](2,"img",2),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](3,"div",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275element"](6,"div",4),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementStart"](8,"button",5),x["\u0275\u0275text"](9),x["\u0275\u0275pipe"](10,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,5,"REGISTRATION_DIIA.EXPIRED_DOCUMENTS_ERROR")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("innerHTML",x["\u0275\u0275pipeBind1"](7,7,"REGISTRATION_DIIA.EXPIRED_DOCUMENTS_ERROR_DESCRIPTION"),x["\u0275\u0275sanitizeHtml"]),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](11,Hn))("fuibTrackEvent",t.trackClickEvent),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](10,9,"UNDERSTOOD")," "))},directives:[r.e,C.a],pipes:[N.d],styles:[".content[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;gap:16px;color:#4d4d5c}.content-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:32px}.content-explanation[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:20px}.btn[_ngcontent-%COMP%]{width:100%;margin-top:8px;height:56px}"]}),e}();function zn(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",11),x["\u0275\u0275elementStart"](1,"div",12),x["\u0275\u0275elementStart"](2,"strong"),x["\u0275\u0275text"](3),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](4),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](n.code),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function qn(e,t){if(1&e&&(x["\u0275\u0275elementStart"](0,"div",2),x["\u0275\u0275element"](1,"img",3),x["\u0275\u0275elementStart"](2,"div",4),x["\u0275\u0275text"](3),x["\u0275\u0275pipe"](4,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](5,"div",5),x["\u0275\u0275text"](6),x["\u0275\u0275pipe"](7,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",6),x["\u0275\u0275elementStart"](9,"div",7),x["\u0275\u0275text"](10),x["\u0275\u0275pipe"](11,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](12,zn,5,2,"div",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"a",9),x["\u0275\u0275elementStart"](14,"button",10),x["\u0275\u0275text"](15),x["\u0275\u0275pipe"](16,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e){var n=x["\u0275\u0275nextContext"]();x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](4,6,"REGISTRATION_DIIA.OUTDATED_ACTIVITIES.TITLE")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](7,8,"REGISTRATION_DIIA.OUTDATED_ACTIVITIES.SUBTITLE")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275textInterpolate1"]("",x["\u0275\u0275pipeBind1"](11,10,"REGISTRATION_DIIA.OUTDATED_ACTIVITIES.TITLE"),":"),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngForOf",n.outdatedActivities),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("fuibTrackEvent",n.trackClickEvent),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](16,12,"REGISTRATION_DIIA.OUTDATED_ACTIVITIES.ACTUALIZE")," ")}}function Qn(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",13)}var Kn=function(){function e(e,t,n,i,r,o){this.registrationDiiaService=e,this.router=t,this.googleTagManagerService=n,this.sessionService=i,this.cdr=r,this.window=o,this.isGoBack=!1,this.trackClickEvent=v.fc,this.isLoading=!0,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents(),this.getNextPage()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.sessionService.removeUnnecessarySessionStorages([v.Be.IS_FIRST_LOAD])},e.prototype.getNextPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(Q.a)((function(t){return t.user_registration_step!==E.B&&e.router.navigate([E.j[t.user_registration_step]]),e.sessionService.getFirstLoadExistStatusFromSessionStorage()||(e.googleTagManagerService.logEvent(v.gc,v.ce.afterLoadPage),e.sessionService.setFirstLoadExistStatusToSessionStorage(!0)),e.registrationDiiaService.outdatedActivities()})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t&&(e.outdatedActivities=t.activities,e.isLoading=!1,e.cdr.detectChanges())}),(function(){e.router.navigate([v.c.REGISTRATION_DIIA_SET_PHONE])}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"](te.f),x["\u0275\u0275directiveInject"](te.h),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef),x["\u0275\u0275directiveInject"](te.j))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-outdated-activities"]],decls:2,vars:2,consts:[["class","content",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],[1,"content"],["loading","lazy","src","assets/icons/icon-error-circle.svg","alt","Icon Registration Rejected"],[1,"content-title"],[1,"content-description"],[1,"activities-container"],[1,"content-list-title"],["class","content-list",4,"ngFor","ngForOf"],["href","https://diia.gov.ua/services/zminennya-danih-fop",1,"diia-button"],["type","button",1,"btn","btn-primary","w-100",3,"fuibTrackEvent"],[1,"content-list"],[1,"content-list-name"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275template"](0,qn,17,14,"div",0),x["\u0275\u0275template"](1,Qn,1,0,"fuib-digital-preloader",1)),2&e&&(x["\u0275\u0275property"]("ngIf",!t.isLoading),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.t,i.s,C.a,R.a],pipes:[N.d],styles:["[_nghost-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .activities-container[_ngcontent-%COMP%]{width:100%;margin:8px 0;gap:8px;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .content-list-title[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#6d6d7a;margin-bottom:8px}[_nghost-%COMP%]   .content-list[_ngcontent-%COMP%]{width:100%;min-height:56px;border-radius:8px;background:#f5f5fa;display:flex;align-items:center;padding:16px;justify-content:space-between;transition:background .3s;position:relative}[_nghost-%COMP%]   .content-list.name[_ngcontent-%COMP%]{color:#4d4d5c;font-size:16px;font-weight:500;line-height:24px;letter-spacing:.25px;position:relative;word-break:break-word}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-width:460px;height:56px;font-size:16px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center}.content-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:32px}.content-description[_ngcontent-%COMP%]{color:#6d6d7a;text-align:center}.diia-button[_ngcontent-%COMP%]{width:100%}.loading-centered[_ngcontent-%COMP%]{top:200px!important}"],changeDetection:0}),e}(),Yn=n("pLZG"),Wn=n("l+2V"),Xn=n("qU6Z"),Zn=n("AUvf");function Jn(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"img",26),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().eraseItem("index")})),x["\u0275\u0275elementEnd"]()}}function ei(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",27),x["\u0275\u0275elementStart"](1,"span"),x["\u0275\u0275text"](2),x["\u0275\u0275pipe"](3,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](3,1,"VALIDATIONS.OCCUPIED_TERRITORY")))}function ti(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"img",26),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().eraseItem("house")})),x["\u0275\u0275elementEnd"]()}}function ni(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"li"),x["\u0275\u0275text"](1),x["\u0275\u0275pipe"](2,"translate"),x["\u0275\u0275elementEnd"]()),2&e&&(x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](2,1,"VALIDATIONS.REQUIRED")," "))}function ii(e,t){if(1&e){var n=x["\u0275\u0275getCurrentView"]();x["\u0275\u0275elementStart"](0,"img",26),x["\u0275\u0275listener"]("click",(function(){return x["\u0275\u0275restoreView"](n),x["\u0275\u0275nextContext"]().eraseItem("apartment")})),x["\u0275\u0275elementEnd"]()}}function ri(e,t){1&e&&x["\u0275\u0275element"](0,"fuib-digital-preloader",28)}var oi=function(e){return{"filter-blur-3":e}},ai=function(e){return{mask:e}},si=function(e){return{"is-invalid no-icon":e}},li=function(){return["/registration/set-phone"]},ci=function(){function e(e,t,n,i,r,s,l){this.fb=e,this.registrationDiiaService=t,this.cdr=n,this.router=i,this.sessionService=r,this.googleTagManagerService=s,this.window=l,this.isGoBack=!1,this.lastValidHouseValue="",this.lastValidApartmentValue="",this.mask=Object(Wn.createNumberMask)({integerLimit:5,prefix:"",allowDecimal:!1,thousandsSeparatorSymbol:"",allowLeadingZeroes:!0}),this.isLoading=!0,this.isKoatuuLoading=!1,this.trackEvent=v.re,this.unsubscribeAll$=new a.a,this.subscribeToBrowserEvents(),this.formCompany=this.fb.group({id:"",country:{value:"\u0423\u043a\u0440\u0430\u0457\u043d\u0430",disabled:!0},index:"",state:this.fb.group({id:["",o.Validators.required],value:[{value:"",disabled:!0},o.Validators.required]}),settlement:this.fb.group({id:["",o.Validators.required],value:[{value:"",disabled:!0},o.Validators.required],type:[{value:"",disabled:!0},o.Validators.required],koatuu:[{value:"",disabled:!0}],additional:[{value:"",disabled:!0}],additionalId:[{value:"",disabled:!0}]}),street:this.fb.group({id:["",o.Validators.required],value:[{value:"",disabled:!0},o.Validators.required],type:[{value:"",disabled:!0}]}),house:["",o.Validators.required],apartment:""}),this.formCompany.setValidators(o.Validators.required)}return Object.defineProperty(e.prototype,"house",{get:function(){return this.formCompany.get("house")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apartment",{get:function(){return this.formCompany.get("apartment")},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.checkValidPage(),this.sessionService.checkTimerTtl(v.c.REGISTRATION_DIIA_SET_PHONE)},e.prototype.ngOnDestroy=function(){this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer(),this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.checkValidPage=function(){var e=this;this.registrationDiiaService.getNextPage().pipe(Object(Q.a)((function(t){if(t.user_registration_step===E.E)return e.sessionService.getFirstLoadExistStatusFromSessionStorage()||(e.googleTagManagerService.logEvent(v.se,v.ce.afterLoadPage),e.sessionService.setFirstLoadExistStatusToSessionStorage(!0)),e.registrationDiiaService.getRegions();e.router.navigate([E.j[t.user_registration_step]])})),Object(l.a)((function(){e.isLoading=!1,e.cdr.markForCheck()})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){e.formCompany.get("state").enable(),e.states=t.regions.map((function(e){return{id:e.id,value:e.name}})),e.addressActivationLogic(),e.houseValueChanges(),e.apartmentValueChanges(),e.cdr.markForCheck()}))},e.prototype.updateData=function(){this.formSubmitAttempt=!0,this.formCompany.valid?this.saveHeadAddress():(this.formCompany.markAllAsTouched(),Object(It.j)(this.formCompany),this.formCompany.updateValueAndValidity(),this.cdr.markForCheck())},e.prototype.saveHeadAddress=function(){var e,t,n=this;this.isLoading=!0,this.cdr.detectChanges();var i={country:"804",postal_code:(null===(e=this.formCompany.get("index").value)||void 0===e?void 0:e.length)?this.formCompany.get("index").value:null,state_id:this.formCompany.get("state").value.id,state:this.formCompany.get("state").value.value,region:this.formCompany.get("settlement").value.additional,region_id:this.formCompany.get("settlement").value.additionalId,town_id:this.formCompany.get("settlement").value.id,town_type:this.formCompany.get("settlement").value.type,town:this.formCompany.get("settlement").value.value,street_id:this.formCompany.get("street").value.id,street_type:this.formCompany.get("street").value.type,street:this.formCompany.get("street").value.value,house_number:this.formCompany.get("house").value,flat_number:(null===(t=this.formCompany.get("apartment").value)||void 0===t?void 0:t.length)?this.formCompany.get("apartment").value:null};this.registrationDiiaService.saveHeadAddress(i).pipe(Object(s.a)(this.unsubscribeAll$)).subscribe({next:function(e){e.updated?setTimeout((function(){n.router.navigate([v.c.REGISTRATION_DIIA_PRECONDITIONS])}),1e3):(n.isLoading=!1,n.cdr.detectChanges())},error:function(){n.isLoading=!1,n.cdr.detectChanges()}})},e.prototype.eraseItem=function(e){this.formCompany.get(e).setValue("")},e.prototype.houseValueChanges=function(){var e=this;this.house.valueChanges.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){S.L.test(t)?e.lastValidHouseValue=t:e.house.setValue(e.lastValidHouseValue,{emitEvent:!1})}))},e.prototype.apartmentValueChanges=function(){var e=this;this.apartment.valueChanges.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){E.a.test(t)?e.lastValidApartmentValue=t:e.apartment.setValue(e.lastValidApartmentValue,{emitEvent:!1})}))},e.prototype.addressActivationLogic=function(){var e=this;this.formCompany.get("state").valueChanges.pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.id?e.formCompany.get("settlement").enable():(e.formCompany.get("settlement").reset(),e.formCompany.get("settlement").disable(),e.formCompany.get("street").reset(),e.formCompany.get("street").disable())})),this.formCompany.get("settlement.koatuu").valueChanges.pipe(Object(Yn.a)((function(t){return t&&!e.isKoatuuLoading})),Object(Q.a)((function(t){return e.isKoatuuLoading=!0,e.registrationDiiaService.getOccupiedTerritories(t)})),Object(s.a)(this.unsubscribeAll$)).subscribe((function(t){t.occupied_territory?(e.formCompany.get("settlement").setErrors({occupiedTerritories:!0}),e.formCompany.get("street").reset(),e.formCompany.get("street").disable()):e.formCompany.get("street").enable(),e.isKoatuuLoading=!1}))},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(H.a)(this.window,"beforeunload").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()})),Object(H.a)(this.window,"popstate").pipe(Object(s.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(x["\u0275\u0275directiveInject"](o.FormBuilder),x["\u0275\u0275directiveInject"](O.a),x["\u0275\u0275directiveInject"](x.ChangeDetectorRef),x["\u0275\u0275directiveInject"](r.d),x["\u0275\u0275directiveInject"]($.a),x["\u0275\u0275directiveInject"](te.f),x["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=x["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-head-address"]],decls:60,vars:72,consts:[[1,"head-container",3,"ngClass"],[1,"form",3,"formGroup"],[1,"input-control"],["for","country",1,"disabled-label"],[1,"input-container"],["id","country","formControlName","country","type","text",1,"form-control"],["for","index"],["id","index","formControlName","index","type","text",1,"form-control",3,"textMask","placeholder"],["class","close-icon","width","24","height","24","src","/assets/icons/close-icon.webp","alt","close icon",3,"click",4,"ngIf"],["caption","REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.REGION","placeholder","REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.REGION_PLACEHOLDER",3,"items","form"],["caption","REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.SETTLEMENT","placeholder","REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.STREET_PLACEHOLDER",3,"apiEndpoint","mapper","parentId","form"],["class","orange-card info",4,"ngIf"],["caption","REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.STREET","placeholder","REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.STREET_PLACEHOLDER",3,"apiEndpoint","mapper","parentId","form"],["for","house"],["id","house","formControlName","house","type","text",1,"form-control",3,"ngClass","placeholder"],[1,"input-message-container"],[1,"error-list"],[4,"ngIf"],["for","apartment"],["id","apartment","formControlName","apartment","type","text",1,"form-control",3,"placeholder"],[1,"address-info"],["href","https://about.pumb.ua/map","target","_blank",1,"btn-link","btn-link-underlined"],["target","_blank",1,"btn-link","btn-link-underlined",3,"routerLink"],[1,"button-container"],[1,"btn","btn-primary","next-button",3,"fuibTrackEvent","disabled","click"],["class","loading loading-centered loading-sm",4,"ngIf"],["width","24","height","24","src","/assets/icons/close-icon.webp","alt","close icon",1,"close-icon",3,"click"],[1,"orange-card","info"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(x["\u0275\u0275elementStart"](0,"div",0),x["\u0275\u0275elementStart"](1,"div",1),x["\u0275\u0275elementStart"](2,"div",2),x["\u0275\u0275elementStart"](3,"label",3),x["\u0275\u0275text"](4),x["\u0275\u0275pipe"](5,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](6,"div",4),x["\u0275\u0275element"](7,"input",5),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](8,"div",2),x["\u0275\u0275elementStart"](9,"label",6),x["\u0275\u0275text"](10),x["\u0275\u0275pipe"](11,"translate"),x["\u0275\u0275pipe"](12,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](13,"div",4),x["\u0275\u0275element"](14,"input",7),x["\u0275\u0275pipe"](15,"translate"),x["\u0275\u0275template"](16,Jn,1,0,"img",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](17,"div",2),x["\u0275\u0275element"](18,"fuib-drop-down-search",9),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](19,"div",2),x["\u0275\u0275element"](20,"fuib-drop-down-server-search",10),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](21,ei,4,3,"div",11),x["\u0275\u0275elementStart"](22,"div",2),x["\u0275\u0275element"](23,"fuib-drop-down-server-search",12),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](24,"div",2),x["\u0275\u0275elementStart"](25,"label",13),x["\u0275\u0275text"](26),x["\u0275\u0275pipe"](27,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](28,"div",4),x["\u0275\u0275element"](29,"input",14),x["\u0275\u0275pipe"](30,"translate"),x["\u0275\u0275template"](31,ti,1,0,"img",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](32,"div",15),x["\u0275\u0275elementStart"](33,"ul",16),x["\u0275\u0275template"](34,ni,3,3,"li",17),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](35,"div",2),x["\u0275\u0275elementStart"](36,"label",18),x["\u0275\u0275text"](37),x["\u0275\u0275pipe"](38,"translate"),x["\u0275\u0275pipe"](39,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](40,"div",4),x["\u0275\u0275element"](41,"input",19),x["\u0275\u0275pipe"](42,"translate"),x["\u0275\u0275template"](43,ii,1,0,"img",8),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](44,"div",20),x["\u0275\u0275text"](45),x["\u0275\u0275pipe"](46,"translate"),x["\u0275\u0275elementStart"](47,"a",21),x["\u0275\u0275text"](48),x["\u0275\u0275pipe"](49,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275text"](50),x["\u0275\u0275pipe"](51,"translate"),x["\u0275\u0275elementStart"](52,"a",22),x["\u0275\u0275text"](53),x["\u0275\u0275pipe"](54,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementStart"](55,"div",23),x["\u0275\u0275elementStart"](56,"button",24),x["\u0275\u0275listener"]("click",(function(){return t.updateData()})),x["\u0275\u0275text"](57),x["\u0275\u0275pipe"](58,"translate"),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275elementEnd"](),x["\u0275\u0275template"](59,ri,1,0,"fuib-digital-preloader",25)),2&e&&(x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](65,oi,t.isLoading)),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("formGroup",t.formCompany),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](5,37,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.COUNTRY")," "),x["\u0275\u0275advance"](6),x["\u0275\u0275textInterpolate2"](" ",x["\u0275\u0275pipeBind1"](11,39,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.INDEX")," ",x["\u0275\u0275pipeBind1"](12,41,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.NON_REQUIRED")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("textMask",x["\u0275\u0275pureFunction1"](67,ai,t.mask))("placeholder",x["\u0275\u0275pipeBind1"](15,43,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.INDEX_PLACEHOLDER")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",null==t.formCompany.get("index").value?null:t.formCompany.get("index").value.length),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("items",t.states)("form",t.formCompany.get("state")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("apiEndpoint",t.registrationDiiaService.getSettlements)("mapper",t.registrationDiiaService.settlementMapper)("parentId",t.formCompany.get("state").get("id").value)("form",t.formCompany.get("settlement")),x["\u0275\u0275advance"](1),x["\u0275\u0275property"]("ngIf",null==t.formCompany.controls.settlement.errors?null:t.formCompany.controls.settlement.errors.occupiedTerritories),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("apiEndpoint",t.registrationDiiaService.getStreets)("mapper",t.registrationDiiaService.streetMapper)("parentId",t.formCompany.get("settlement").get("id").value)("form",t.formCompany.get("street")),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](27,45,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.HOUSE")),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngClass",x["\u0275\u0275pureFunction1"](69,si,t.formCompany.get("house").dirty&&(null==t.formCompany.get("house").errors?null:t.formCompany.get("house").errors.required)))("placeholder",x["\u0275\u0275pipeBind1"](30,47,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.HOUSE_PLACEHOLDER")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",null==t.formCompany.get("house").value?null:t.formCompany.get("house").value.length),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("ngIf",t.formCompany.get("house").dirty&&(null==t.formCompany.get("house").errors?null:t.formCompany.get("house").errors.required)),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate2"](" ",x["\u0275\u0275pipeBind1"](38,49,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.APARTMENT")," ",x["\u0275\u0275pipeBind1"](39,51,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.NON_REQUIRED")," "),x["\u0275\u0275advance"](4),x["\u0275\u0275property"]("placeholder",x["\u0275\u0275pipeBind1"](42,53,"REGISTRATION_COMPANY.FOUNDERS_AND_OWNERS_DETAILS.HOUSE_PLACEHOLDER")),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",null==t.formCompany.get("apartment").value?null:t.formCompany.get("apartment").value.length),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](46,55,"REGISTRATION_COMPANY.HEAD_ADDRESS.INFO1")," "),x["\u0275\u0275advance"](3),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](49,57,"REGISTRATION_DIIA.IN_BANK")),x["\u0275\u0275advance"](2),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](51,59,"REGISTRATION_COMPANY.HEAD_ADDRESS.INFO2")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("routerLink",x["\u0275\u0275pureFunction0"](71,li)),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate"](x["\u0275\u0275pipeBind1"](54,61,"REGISTRATION_DIIA.FROM_VIDEOVERIFICATION")),x["\u0275\u0275advance"](3),x["\u0275\u0275property"]("fuibTrackEvent",t.trackEvent)("disabled",t.formCompany.invalid),x["\u0275\u0275advance"](1),x["\u0275\u0275textInterpolate1"](" ",x["\u0275\u0275pipeBind1"](58,63,"REGISTRATION_COMPANY.CONTINUE")," "),x["\u0275\u0275advance"](2),x["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[i.q,o.NgControlStatusGroup,o.FormGroupDirective,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,T.MaskedInputDirective,i.t,Xn.a,Zn.a,r.g,C.a,R.a],pipes:[N.d],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative}.form[_ngcontent-%COMP%]{height:100%}.form[_ngcontent-%COMP%], .head-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.head-container[_ngcontent-%COMP%]{width:100%}.loading-centered[_ngcontent-%COMP%]{position:fixed!important;top:40px!important}.disabled-label[_ngcontent-%COMP%]{color:#b6b6bf}.input-control[_ngcontent-%COMP%]{min-height:94px}.input-container[_ngcontent-%COMP%]{position:relative;display:flex}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f5f5fa;color:#b6b6bf!important;border:1px solid #93939e!important}.form-control[_ngcontent-%COMP%]:disabled:focus, .form-control[_ngcontent-%COMP%]:disabled:focus-visible, .form-control[_ngcontent-%COMP%]:disabled:hover{border-color:#93939e;box-shadow:none}.close-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:12px;cursor:pointer;transition:filter .3s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{filter:brightness(0)}.no-icon[_ngcontent-%COMP%]{background-image:none}.button-container[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:32px;align-items:center;justify-content:space-between}.next-button[_ngcontent-%COMP%]{width:100%;height:56px;font-size:16px;font-style:normal;font-weight:700;line-height:24px;letter-spacing:.18px}.address-info[_ngcontent-%COMP%]{color:#6d6d7a;text-align:center;max-width:400px;margin:0 auto}.address-info[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{letter-spacing:.25px}.link[_ngcontent-%COMP%]{color:#4d4d5c;text-decoration:underline;text-underline-position:under}.link[_ngcontent-%COMP%]:hover{text-decoration:none}.orange-card[_ngcontent-%COMP%]{background:#ffeddd;border-radius:8px;padding:16px;margin-bottom:16px;font-size:14px;font-style:normal;font-weight:500;line-height:20px;letter-spacing:.25px;color:#f57f17;display:flex}.orange-card.info[_ngcontent-%COMP%]:before{content:"\ue940";font-family:project-icons;font-size:.75rem;margin-right:.5rem;display:inline-block}'],changeDetection:0}),e}(),pi=[{path:"",component:xe,canActivateChild:[en.a],children:[{path:"",redirectTo:"set-phone",pathMatch:"full"},{path:"set-phone",component:G,data:{routeIndex:E.F.SET_PHONE}},{canActivate:[tn],path:"check-otp",component:ve,data:{routeIndex:E.F.CHECK_OTP}},{canDeactivate:[fn.a],path:"scan-qr",component:Le,data:{routeIndex:E.F.SCAN_QR}},{canDeactivate:[fn.a],path:"preconditions",component:Rt,data:{routeIndex:E.F.PRECONDITION}},{canDeactivate:[fn.a],path:"residence-address",component:ci,data:{routeIndex:E.F.RESIDENCE_ADDRESS}},{canDeactivate:[fn.a],path:"email-registration",component:_n,data:{routeIndex:E.F.SET_EMAIL}},{canDeactivate:[fn.a],path:"validate-form",component:mt,data:{routeIndex:E.F.VALIDATE_FORM}},{canDeactivate:[fn.a],path:"tariffs",component:un,data:{routeIndex:E.F.TARIFFS}},{canDeactivate:[fn.a],path:"application-info",component:Un,data:{routeIndex:E.F.APPLICATION_INFO}},{canDeactivate:[fn.a],path:"application-for-signing",component:Vt,data:{routeIndex:E.F.SIGNING}},{canDeactivate:[fn.a],path:"application-signed",component:Jt,data:{routeIndex:E.F.SIGNED}},{canDeactivate:[fn.a],path:"finish",component:Mn},{canDeactivate:[fn.a],path:"succeeded",component:rn},{canDeactivate:[fn.a],path:"fop-error",component:Rn},{canDeactivate:[fn.a],path:"tax-error",component:Cn},{canDeactivate:[fn.a],path:"almost-done",component:hn},{canDeactivate:[fn.a],path:"rejected",component:an},{canDeactivate:[fn.a],path:"document-sharing-error",component:Pn},{canDeactivate:[fn.a],path:"occupied-territories-error",component:kn},{canDeactivate:[fn.a],path:"application-error",component:Ln},{canDeactivate:[fn.a],path:"expired-documents-error",component:$n},{canDeactivate:[fn.a],path:"outdated-activities",component:Kn},{path:"repeat",component:gn}]}],di=function(){function e(){}return e.\u0275mod=x["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=x["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[gt.a,en.a],imports:[[r.h.forChild(pi)],r.h]}),e}(),ui=n("eFDl"),mi=n("PCNd"),gi=n("FYS+"),fi=function(){function e(){}return e.\u0275mod=x["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=x["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[gi.a],imports:[[i.c,o.ReactiveFormsModule,mi.a,ne.m.forRoot(),di,ne.k.forRoot(),ui.a.forRoot(),T.TextMaskModule,Ce.b,ne.k,ne.b]]}),e}()}}]);