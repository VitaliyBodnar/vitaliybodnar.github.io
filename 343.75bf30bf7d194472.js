(self.webpackChunkmerch_store=self.webpackChunkmerch_store||[]).push([[343],{3343:(i,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>C});var d=e(1635);var n=e(1110),A=e.n(n),R=e(177),t=e(4438),r=e(5152),h=e(6878),l=e(2864),f=e(5172),P=e(653),m=e(7673),p=e(6354);let u=class{api=(0,t.WQX)(r.Gf);getFilterOptions(){return{brandIds:this.getBrandOptions(),gender:this.getGenderOptions(),sortBy:this.getSortingOptions()}}getBrandOptions(){return this.api.get("brands").pipe((0,p.T)(s=>s.items),(0,p.T)(s=>s.map(o=>({label:o.name,value:o.id}))))}getGenderOptions(){return(0,m.of)(P.nL.map(s=>({label:s,value:s})))}getSortingOptions(){return(0,m.of)(P.JH)}};u=(0,d.Cg)([(0,t._qm)({providedIn:"root"})],u);var y=e(4710),S=e(9079);let v=class{route=(0,t.WQX)(y.nX);isTablet=(0,t.WQX)(r.RL).isTablet;specialService=(0,t.WQX)(r.Fp);title=(0,t.vPA)("Recently Added Products");subtitle=(0,t.vPA)("");filters=(0,t.vPA)(["brandIds","sortBy"]);products=(0,S.ot)(this.specialService.recentSubject.asObservable());isLoading=(0,t.vPA)(!1);totalCount=(0,t.vPA)(0);productsPerPage=(0,t.EWP)(()=>this.isTablet()?6:8);productsOffset=(0,t.vPA)(this.productsPerPage());filterState=(0,t.vPA)({});ngOnInit(){this.specialService.getRecent({count:this.productsPerPage()},()=>{})}categories=(0,S.ot)(this.route.queryParams.pipe((0,p.T)(s=>s.data?JSON.parse(s.data):[])));getProducts(s){this.isLoading.set(!0),this.specialService.getRecent({...s,count:this.productsPerPage()},()=>this.isLoading.set(!1))}seeMoreProducts(){this.productsOffset.update(s=>{const o=s+this.productsPerPage();return o>this.products().length?this.products().length:o})}};v=(0,d.Cg)([(0,t._qm)()],v);let g=class{productService=(0,t.WQX)(r.bk);cartService=(0,t.WQX)(r.mx);breadcrumbsService=(0,t.WQX)(l.EH);wishlistService=(0,t.WQX)(r.FQ);ngOnInit(){this.breadcrumbsService.set(["Recently Added"])}toggleWishlist(s){this.wishlistService.toggleWishlist(s)}addToCart(s){this.cartService.addCartProduct(s)}onShowProduct(s){this.productService.goToProductDetails(s)}};g=(0,d.Cg)([(0,t.uAl)({selector:"app-recently-added-products",standalone:!0,imports:[R.MD,l.m6,h.t],template:'<app-breadcrumbs></app-breadcrumbs>\n<app-product-list\n  (onShowProduct)="onShowProduct($event)"\n  (toggleWishlist)="toggleWishlist($event)"\n  (addToCart)="addToCart($event)"\n></app-product-list>\n',changeDetection:t.Ngq.OnPush,providers:[f.D,{provide:l.xs,useClass:u},{provide:h.I,useClass:v}],styles:[A()]})],g);const C=g},1110:(i,a,e)=>{var d=e(8564),n=e(8557)(d);n.push([i.id,":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 2rem;\n}\n@media (min-width: 0) and (max-width: 480px) {\n  :host {\n    padding: 0.5rem;\n  }\n}",""]),i.exports=n.toString()}}]);