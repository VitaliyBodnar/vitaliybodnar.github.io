(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{ObIA:function(e,t,n){"use strict";n.r(t),n.d(t,"OverdraftApplicationModule",(function(){return It}));var i=n("ofXK"),r=n("tyNb"),o=n("3Pt+"),a=n("XNiG"),l=n("1G5W"),c=n("nYR2"),s=n("H0VJ"),p=n("AytR"),d=n("VHTt"),m=n("Ys8X"),u=n("V1FT"),h=n("LzQu"),f=n("IYfF"),g=n("x2pC"),v=function(e){return e[e.SET_PHONE=1]="SET_PHONE",e[e.ACTIVITY_INFO=2]="ACTIVITY_INFO",e[e.FINANCIAL_INFO=3]="FINANCIAL_INFO",e[e.SIGNED=4]="SIGNED",e}({}),b=function(e){return e["/registration-diia/set-phone"]="REGISTRATION.SET_NUMBER",e["/registration-diia/check-otp"]="REGISTRATION.CONFIRM_NUMBER",e["/registration-diia/scan-qr"]="REGISTRATION.SHARE_DOCUMENTS",e["/registration-diia/preconditions"]="REGISTRATION_DIIA.VERIFICATION.TITLE",e["/registration-diia/validate-form"]="REGISTRATION_DIIA.ANKETA.TITLE",e["/registration-diia/tariffs"]="REGISTRATION_DIIA.TARIFFS.TITLE",e["/registration-diia/application-for-signing"]="REGISTRATION_DIIA.APPLICATION_SIGNING.TITLE",e["/registration-diia/application-signed"]="REGISTRATION_DIIA.APPLICATION_SIGNED.TITLE",e["/registration-diia/application-info"]="REGISTRATION_DIIA.APPLICATION_INFO.TITLE",e}({}),I=function(e){return e["/registration-diia/set-phone"]="REGISTRATION.PHONE_SUBTITLE",e["/registration-diia/tariffs"]="",e}({}),O=n("sTvB"),S=n("s0cM"),x=n("9yto"),E=n("GWet"),C=n("ZF+8"),T=n("fXoL"),A=n("TMn8"),_=n("904P"),R=n("vs+u"),y=n("SKBu"),M=n("ob5s"),P=n("6fPx"),F=n("sYmb"),N=["popupNotification"];function w(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"ul",31),T["\u0275\u0275elementStart"](1,"li",32),T["\u0275\u0275text"](2),T["\u0275\u0275pipe"](3,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"li",33),T["\u0275\u0275text"](5),T["\u0275\u0275pipe"](6,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](7,"li",33),T["\u0275\u0275text"](8),T["\u0275\u0275pipe"](9,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("hidden",!(null!=n.phoneControl.errors&&n.phoneControl.errors.required)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](3,6,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!(null!=n.phoneControl.errors&&n.phoneControl.errors.pattern||null!=n.phoneControl.errors&&n.phoneControl.errors.wrongCode)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](6,8,"VALIDATIONS.OVERDRAFT.INVALID_PHONE")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!(null!=n.phoneControl.errors&&n.phoneControl.errors.otpLimit)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](9,10,"VALIDATIONS.INVALID_OTP_LIMIT")," ")}}function k(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"ul",31),T["\u0275\u0275elementStart"](1,"li",34),T["\u0275\u0275text"](2),T["\u0275\u0275pipe"](3,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"li",35),T["\u0275\u0275text"](5),T["\u0275\u0275pipe"](6,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("hidden",!(null!=n.nameControl.errors&&n.nameControl.errors.required)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](3,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!(null!=n.nameControl.errors&&n.nameControl.errors.pattern)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](6,6,"VALIDATIONS.OVERDRAFT.INVALID_NAME")," ")}}function D(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",36),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,1,n.unexpectedErrorMessage)," ")}}function L(e,t){1&e&&T["\u0275\u0275element"](0,"fuib-digital-preloader",37)}function B(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",38),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementStart"](3,"a",39),T["\u0275\u0275text"](4),T["\u0275\u0275pipe"](5,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementStart"](8,"a",40),T["\u0275\u0275text"](9),T["\u0275\u0275pipe"](10,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](11),T["\u0275\u0275pipe"](12,"translate"),T["\u0275\u0275elementContainer"](13,41),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](),i=T["\u0275\u0275reference"](48);T["\u0275\u0275styleProp"]("max-height","460px"),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,10,"REGISTRATION_DIIA.I_GIVE_CONSENT_START")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("href",n.B2B_PATH,T["\u0275\u0275sanitizeUrl"]),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](5,12,"REGISTRATION.I_GIVE_CONSENT_LINK_NOTIFICATION")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,14,"REGISTRATION.I_GIVE_CONSENT_END_1")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("href",n.DIGITAL_PUMB_PATH,T["\u0275\u0275sanitizeUrl"]),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](10,16,"REGISTRATION.I_GIVE_CONSENT_END_2")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](12,18,"REGISTRATION.I_GIVE_CONSENT_END_3")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngTemplateOutlet",i)}}function V(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div"),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](3,"ul",42),T["\u0275\u0275elementStart"](4,"li"),T["\u0275\u0275text"](5),T["\u0275\u0275pipe"](6,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](7,"li"),T["\u0275\u0275text"](8),T["\u0275\u0275pipe"](9,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](10,"li"),T["\u0275\u0275text"](11),T["\u0275\u0275pipe"](12,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](13),T["\u0275\u0275pipe"](14,"translate")),2&e&&(T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](2,5,"REGISTRATION_DIIA.ABOUT_AGREEMENT")),T["\u0275\u0275advance"](4),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](6,7,"REGISTRATION_DIIA.ABOUT_CREDIT_HISTORY")),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](9,9,"REGISTRATION_DIIA.ABOUT_INFO_USAGE")),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](12,11,"REGISTRATION_DIIA.ABOUT_USAGE_CREDIT_HISTORY")),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](14,13,"REGISTRATION_DIIA.ABOUT_AGREE_FINAL"),"\n"))}var G=function(e){return{"filter-blur-3":e}},j=function(e){return{"is-invalid":e}},U=function(e){return{mask:e}},z=function(){return{link1:"https://about.pumb.ua/info/personal_data",link2:"https://about.pumb.ua/support/documents?category=Corporate&id=10023"}},H=["20","39","50","63","66","67","68","73","75","77","89","91","92","93","94","95","96","97","98","99"],q=function(){function e(e,t,n,i,r,o,l,c,s){this.router=e,this.alert=t,this.changeDetectorRef=n,this.authService=i,this.overflowApplicationService=r,this.overflowApplicationTtlCaptchaService=o,this.overflowApplicationTtlOtpService=l,this.dialog=c,this.googleTagManagerService=s,this.phoneMask=g.cb,this.DIGITAL_PUMB_PATH="https://digital.pumb.ua",this.B2B_PATH="https://apim.pumb.ua/api/assets/pumb/dfb4095e-cd57-4271-bbd4-4e76013660c3/other-povidomlennya-pesonalni-dani.pdf",this.isCaptchaLoaded=!0,this.phoneEvent=h.ze,this.siteKey=p.a.recaptcha.siteKeyOverdraft,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){var e=this;this.overflowApplicationTtlCaptchaService.clearSessionStoragesBeforeStart(),this.authService.authToken.reset(),this.createAndUpdateControl(),this.phoneControl.valueChanges.pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(){return e.isControlInvalid()}))},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.isDialogOpen&&this.dialogRef.close()},e.prototype.showAgreementPopup=function(){var e=this;this.showPopup().pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(t){t.confirm&&(e.overflowApplicationService.setPhoneData.agreement=!0,e.changeDetectorRef.detectChanges())}))},e.prototype.onSubmit=function(){this.formSubmitAttempt=!0,this.googleTagManagerService.logEvent(h.xd,h.be.click),this.phoneControl.valid&&this.nameControl.valid?this.startApplication():(this.phoneControl.markAsTouched(),this.nameControl.markAsTouched(),this.isControlInvalid())},e.prototype.isControlInvalid=function(){this.controlValidState=this.phoneControl.invalid&&this.phoneControl.touched||this.phoneControl.untouched&&this.formSubmitAttempt},e.prototype.showCaptcha=function(){var e=this;this.dialogRef=this.dialog.open(E.a,{data:{phoneControl:this.phoneControl}}),this.isDialogOpen=!0,this.changeDetectorRef.detectChanges(),this.dialogRef.afterClosed().pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(t){e.isDialogOpen=!1,e.isLoading=!1,e.changeDetectorRef.detectChanges(),t&&e.handleNavigationToNextStep()}))},e.prototype.isRecaptchaLoaded=function(){this.isCaptchaLoaded=!1},e.prototype.phoneOperatorValidator=function(){return(function(e){var t=e.value.substr(0,4).replace("(","").replace(")","");return e.value&&!H.includes(t)?{wrongCode:!0}:null}).bind(this)},e.prototype.nameValidator=function(){return(function(e){return e.value&&!new RegExp(g.Q).test(e.value)?{pattern:!0}:null}).bind(this)},e.prototype.createAndUpdateControl=function(){this.phoneControl=new o.FormControl("",o.Validators.compose([o.Validators.required,this.phoneOperatorValidator(),o.Validators.pattern(g.eb)])),this.nameControl=new o.FormControl("",o.Validators.compose([o.Validators.required,this.nameValidator()])),this.patchControl()},e.prototype.startApplication=function(){var e=this;this.isLoading=!0,this.changeDetectorRef.detectChanges(),this.isCaptchaLoaded?grecaptcha.ready((function(){grecaptcha.execute(e.siteKey,{action:"overdraft_application"}).then((function(t){e.overflowApplicationService.getScore({action:"overdraft_application",recaptchaToken:t}).pipe(Object(c.a)((function(){e.isLoading=!1,e.changeDetectorRef.detectChanges()})),Object(l.a)(e.unsubscribeAll$)).subscribe((function(t){e.authService.authToken.set("_aToken",t.identToken),t.result?e.handleNavigationToNextStep():e.showCaptcha()}),(function(t){e.handleStartApplicationError(t)}))}))})):this.showCaptcha()},e.prototype.handleNavigationToNextStep=function(){this.overflowApplicationService.setUnexpectedErrorMessage(null),this.overflowApplicationTtlOtpService.setPhoneDataToSessionStorage("+380 "+this.phoneControl.value),this.overflowApplicationService.setPhoneDataToSessionStorage("+380 "+this.phoneControl.value),this.overflowApplicationService.setNameDataToStorage(this.nameControl.value),this.router.navigate([h.c.OVERDRAFT_APPLICATION_CHECK_OTP])},e.prototype.patchControl=function(){var e=this.overflowApplicationTtlOtpService.getPhoneDataFromSessionStorage();if(e){var t=e.slice(5);this.patchFormControl(this.phoneControl,t)}this.changeDetectorRef.detectChanges()},e.prototype.patchFormControl=function(e,t){e.patchValue(t),e.markAsTouched()},e.prototype.handleStartApplicationError=function(e){var t=e.error;switch(this.changeDetectorRef.detectChanges(),t&&t.error&&t.error.code){case m.a.REGISTRATION_NO_ACTIVE_SESSION:this.unexpectedErrorMessage=t.error.code||d.e.ABSTRACT;break;case m.a.REGISTRATION_WRONG:case m.a.REGISTRATION_UNAUTHORIZED:case m.a.REGISTRATION_FORBIDDEN:this.unexpectedErrorMessage=t.error.code||d.e.ABSTRACT;break;case m.a.REGISTRATION_OTP_MAX_EXC_PHONE:this.phoneControl.setErrors({otpLimit:!0}),this.isControlInvalid()}this.changeDetectorRef.detectChanges()},e.prototype.showPopup=function(){return this.alert.create({templateRef:this.popupNotification})},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](r.d),T["\u0275\u0275directiveInject"](u.a),T["\u0275\u0275directiveInject"](T.ChangeDetectorRef),T["\u0275\u0275directiveInject"](f.a),T["\u0275\u0275directiveInject"](O.a),T["\u0275\u0275directiveInject"](x.a),T["\u0275\u0275directiveInject"](S.a),T["\u0275\u0275directiveInject"](s.a),T["\u0275\u0275directiveInject"](C.f))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-set-phone"]],viewQuery:function(e,t){var n;1&e&&T["\u0275\u0275staticViewQuery"](N,!0),2&e&&T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.popupNotification=n.first)},decls:50,vars:40,consts:[[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","flex-column","gap-16","overdraft-form--header"],[1,"overdraft-form--title",3,"innerHTML"],[1,"overdraft-form--subtitle",3,"innerHTML"],[1,"w-100",3,"ngClass"],[1,"form-group","pb-3"],["for","phone"],[1,"input-group","input-phone",3,"ngClass"],[1,"input-group-prepend"],[1,"input-group-text"],["type","phone","inputmode","tel","id","phone","placeholder","(00) 000-0000","fuibIsFocused","",1,"form-control",3,"formControl","textMask"],[1,"input-group-append"],[1,"input-group-text","input-group-icon"],[1,"i-phone"],[1,"input-message-container"],["class","error-list",4,"ngIf"],["for","name"],[1,"input-group","input-name",3,"ngClass"],["id","name",1,"form-control",3,"formControl"],[1,"overdraft-form--agreement",3,"innerHTML"],["id","cfat","type","button",1,"btn","btn-block","btn-primary","btn-lg",3,"click"],["id","submitBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg",3,"fuibTrackEvent","click"],["class","error-message mt-4 mb-3",4,"ngIf"],[1,"recaptcha-info"],["href","https://policies.google.com/privacy?hl=uk","target","_blank",1,"btn-link","btn-link-underlined","small"],["href","https://policies.google.com/terms?hl=uk","target","_blank",1,"btn-link","btn-link-underlined","small"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],["popupNotification",""],["secondPartOfAgreement",""],[3,"fuibGoogleReCaptcha","notLoaded"],[1,"error-list"],["id","phoneRequiredError",3,"hidden"],[3,"hidden"],["id","nameRequiredError",3,"hidden"],["id","namePatternError",3,"hidden"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"],[1,"description","p2"],["target","_blank","id","linkNotification",1,"btn-link","btn-link-underlined","fsz-0-8-75","font-weight-bold",3,"href"],["target","_blank","id","linkPumbUaNotification",1,"btn-link","btn-link-underlined","fsz-0-8-75","font-weight-bold",3,"href"],[3,"ngTemplateOutlet"],[1,"pl-3"]],template:function(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",0),T["\u0275\u0275elementStart"](1,"div",1),T["\u0275\u0275element"](2,"div",2),T["\u0275\u0275pipe"](3,"translate"),T["\u0275\u0275element"](4,"div",3),T["\u0275\u0275pipe"](5,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](6,"div",4),T["\u0275\u0275elementStart"](7,"div",5),T["\u0275\u0275elementStart"](8,"label",6),T["\u0275\u0275text"](9),T["\u0275\u0275pipe"](10,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](11,"div",7),T["\u0275\u0275elementStart"](12,"div",8),T["\u0275\u0275elementStart"](13,"span",9),T["\u0275\u0275text"](14,"+380"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](15,"input",10),T["\u0275\u0275elementStart"](16,"div",11),T["\u0275\u0275elementStart"](17,"span",12),T["\u0275\u0275element"](18,"i",13),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](19,"div",14),T["\u0275\u0275template"](20,w,10,12,"ul",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](21,"div",5),T["\u0275\u0275elementStart"](22,"label",16),T["\u0275\u0275text"](23),T["\u0275\u0275pipe"](24,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](25,"div",17),T["\u0275\u0275element"](26,"input",18),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](27,"div",14),T["\u0275\u0275template"](28,k,7,8,"ul",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](29,"div",19),T["\u0275\u0275pipe"](30,"translate"),T["\u0275\u0275elementStart"](31,"button",20),T["\u0275\u0275listener"]("click",(function(){return t.showCaptcha()})),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](32,"button",21),T["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),T["\u0275\u0275text"](33),T["\u0275\u0275pipe"](34,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](35,D,3,3,"div",22),T["\u0275\u0275elementStart"](36,"div",23),T["\u0275\u0275text"](37," \u0417\u0430\u0445\u0438\u0441\u0442 \u0432\u0456\u0434 \u0441\u043f\u0430\u043c\u0443 reCAPTCHA. "),T["\u0275\u0275elementStart"](38,"a",24),T["\u0275\u0275text"](39,"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275text"](40," \u0442\u0430 "),T["\u0275\u0275elementStart"](41,"a",25),T["\u0275\u0275text"](42,"\u0423\u043c\u043e\u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](43,L,1,0,"fuib-digital-preloader",26),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](44,"div",27),T["\u0275\u0275template"](45,B,14,20,"ng-template",null,28,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275template"](47,V,15,15,"ng-template",null,29,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementStart"](49,"div",30),T["\u0275\u0275listener"]("notLoaded",(function(){return t.isRecaptchaLoaded()})),T["\u0275\u0275elementEnd"]()),2&e&&(T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](3,18,"OVERDRAFT.FORM.STEP_1.TITLE"),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](5,20,"OVERDRAFT.FORM.STEP_1.SUBTITLE"),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction1"](31,G,t.isLoading)),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](10,22,"REGISTRATION.LABELS.PHONE")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction1"](33,j,t.controlValidState)),T["\u0275\u0275advance"](4),T["\u0275\u0275property"]("formControl",t.phoneControl)("textMask",T["\u0275\u0275pureFunction1"](35,U,t.phoneMask)),T["\u0275\u0275advance"](5),T["\u0275\u0275property"]("ngIf",t.phoneControl.invalid&&t.phoneControl.touched),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](24,24,"OVERDRAFT.FORM.STEP_1.FULL_NAME")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction1"](37,j,t.nameControl.invalid&&t.nameControl.touched)),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("formControl",t.nameControl),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.nameControl.invalid&&t.nameControl.touched),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind2"](30,26,"OVERDRAFT.FORM.STEP_1.AGREEMENT",T["\u0275\u0275pureFunction0"](39,z)),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("fuibTrackEvent",t.phoneEvent),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](34,29,"CONTINUE")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),T["\u0275\u0275advance"](8),T["\u0275\u0275property"]("ngIf",t.isLoading),T["\u0275\u0275advance"](6),T["\u0275\u0275property"]("fuibGoogleReCaptcha",t.siteKey))},directives:[i.q,o.DefaultValueAccessor,A.a,o.NgControlStatus,o.FormControlDirective,_.MaskedInputDirective,i.t,R.a,y.a,M.a,P.a,i.A],pipes:[F.d],styles:["[_nghost-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column}.input-message-container[_ngcontent-%COMP%]{transition:all .5s ease}.btn-link[_ngcontent-%COMP%]{cursor:pointer}.grey[_ngcontent-%COMP%]{color:#6d6d7a}.small[_ngcontent-%COMP%]{font-size:12px!important}#cfat[_ngcontent-%COMP%]{display:none;width:0;height:0}.recaptcha-info[_ngcontent-%COMP%]{padding-top:24px;font-weight:500;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#93939e}.captcha[_ngcontent-%COMP%]{width:150px;height:48px;margin-right:8px!important;cursor:pointer;line-height:0}.captcha-img-wrapper[_ngcontent-%COMP%]{overflow:hidden;height:100%;max-height:100%;transition:all .5s ease-in-out}.captcha-img-wrapper.zoomed[_ngcontent-%COMP%]{transform:scale(2.02);z-index:9999;border-radius:4px!important;border:1px solid #93939e;background:#f5f5fa}.captcha-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px;border-top-right-radius:0;border-bottom-right-radius:0;width:100%}.captcha-zoom-trigger[_ngcontent-%COMP%]{min-width:48px;height:100%;border-radius:0;border-top-right-radius:8px;border-bottom-right-radius:8px;justify-content:center;background:#fff;align-items:center}.captcha[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-width:1px!important;border:0;border-left:1px solid #93939e;border-top-left-radius:0;border-bottom-left-radius:0}.captcha[_ngcontent-%COMP%]   .i-search[_ngcontent-%COMP%]:before{color:#b6b6bf}.buttons-container[_ngcontent-%COMP%]{display:flex;min-height:40px;flex-wrap:wrap;justify-content:flex-end;padding:16px 24px;border-top:1px solid #e1e1e8;margin:0 -24px -24px}.buttons-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-height:40px;max-width:132px;border-radius:100px;font-family:gilroy;font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;letter-spacing:.18px;color:#4d4d5c;margin:0 5px}.buttons-container[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{border:2px solid #f91f2b;background:none}.buttons-container[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]:hover, .buttons-container[_ngcontent-%COMP%]   .btn.submit[_ngcontent-%COMP%]{background:#f91f2b;color:#fff}.buttons-container[_ngcontent-%COMP%]   .btn.submit[_ngcontent-%COMP%]:hover{background:#fc979d}.gap-16[_ngcontent-%COMP%]{gap:16px}.overdraft-form--header[_ngcontent-%COMP%]{padding-bottom:32px}.overdraft-form--title[_ngcontent-%COMP%]{font-size:34px;font-weight:700;line-height:36px;letter-spacing:.25px;text-align:center;color:#4d4d5c}@media screen and (max-width:600px){.overdraft-form--title[_ngcontent-%COMP%]{font-size:24px;line-height:32px}}.overdraft-form--subtitle[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:24px;letter-spacing:.4px;text-align:center;color:#4d4d5c}.overdraft-form--agreement[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:24px;letter-spacing:.25px;text-align:center;color:#6d6d7a;padding-bottom:24px}.overdraft-form--agreement[_ngcontent-%COMP%]     a, .overdraft-form--agreement[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .overdraft-form--agreement[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .overdraft-form--agreement[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#6d6d7a;text-decoration:underline}.input-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}"],changeDetection:0}),e}(),Y=n("Ue6F"),Q=n("PqYM"),$=n("LRne"),X=n("xgIS"),K=n("Kqap"),W=n("GJmQ"),J=n("eIep"),Z=n("lJxs"),ee=n("zEaP"),te=n("cjba"),ne=n("fbam"),ie=n("XFIF"),re=n("zKXI"),oe=n("bpph"),ae=function(e){return e.SESSION_TIMEOUT="ERROR:FIVES:001",e.STEP_FORBIDDEN="ERROR:FIVES:002",e.CAPTCHA_NOT_FOUND="ERROR:FIVES:003",e.OTP_NOT_FOUND="ERROR:FIVES:004",e.SMS_CANT_SEND="ERROR:FIVES:005",e.OTP_LIMIT="ERROR:FIVES:006",e.SMS_TRIES="ERROR:FIVES:SMS_TRIES",e}({}),le=n("oW1M");function ce(e,t){if(1&e){var n=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"fuib-countdown",16),T["\u0275\u0275listener"]("counterTimeIsOver",(function(){return T["\u0275\u0275restoreView"](n),T["\u0275\u0275nextContext"](2).handleTimeIsOver()})),T["\u0275\u0275elementStart"](1,"span",17),T["\u0275\u0275text"](2),T["\u0275\u0275pipe"](3,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"span",18),T["\u0275\u0275text"](5," )"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()}if(2&e){var i=T["\u0275\u0275nextContext"](2);T["\u0275\u0275property"]("endMilliseconds",i.smsCountdown),T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"]("( ",T["\u0275\u0275pipeBind1"](3,2,"REGISTRATION.LABELS.TIME_LEFT")," ")}}function se(e,t){if(1&e&&T["\u0275\u0275template"](0,ce,6,4,"fuib-countdown",15),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275property"]("ngIf",n.smsCountdown)}}function pe(e,t){if(1&e){var n=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"div",27),T["\u0275\u0275elementStart"](1,"button",28),T["\u0275\u0275listener"]("click",(function(){return T["\u0275\u0275restoreView"](n),T["\u0275\u0275nextContext"](2).onResendOtpToClient()})),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275element"](3,"i",29),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()}2&e&&(T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("tooltip",T["\u0275\u0275pipeBind1"](2,1,"REGISTRATION.TOOLTIPS.RESEND_OTP")))}var de=function(){return{number:4}},me=function(e){return{attemptsLeft:e}};function ue(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"ul",30),T["\u0275\u0275elementStart"](1,"li",31),T["\u0275\u0275text"](2),T["\u0275\u0275pipe"](3,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](4,"li",32),T["\u0275\u0275text"](5),T["\u0275\u0275pipe"](6,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](7,"li",33),T["\u0275\u0275text"](8),T["\u0275\u0275pipe"](9,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("hidden",!(null!=n.otpControl.errors&&n.otpControl.errors.required)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](3,6,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!(null!=n.otpControl.errors&&n.otpControl.errors.pattern)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind2"](6,8,"VALIDATIONS.CODE_SHOULD_CONSIST_DIGITS",T["\u0275\u0275pureFunction0"](14,de))," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!(null!=n.otpControl.errors&&n.otpControl.errors.otpError)),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind2"](9,11,null==n.otpControl.errors?null:n.otpControl.errors.otpError,T["\u0275\u0275pureFunction1"](15,me,n.otpAttemptsLeft))," ")}}var he=function(e){return{"is-invalid":e}};function fe(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",19),T["\u0275\u0275elementStart"](1,"label",20),T["\u0275\u0275text"](2),T["\u0275\u0275pipe"](3,"translate"),T["\u0275\u0275elementContainer"](4,21),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"div",22),T["\u0275\u0275element"](6,"input",23),T["\u0275\u0275template"](7,pe,4,3,"div",24),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"div",25),T["\u0275\u0275template"](9,ue,10,17,"ul",26),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](),i=T["\u0275\u0275reference"](1);T["\u0275\u0275advance"](2),T["\u0275\u0275textInterpolate1"]("",T["\u0275\u0275pipeBind1"](3,5,"REGISTRATION.LABELS.OTP")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngTemplateOutlet",i),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction1"](7,he,n.isControlInvalid(n.otpControl))),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",n.showResendButton),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",n.isControlInvalid(n.otpControl))}}function ge(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",34),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](2,1,n.errorMessage))}}function ve(e,t){if(1&e){var n=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"button",35),T["\u0275\u0275listener"]("click",(function(){return T["\u0275\u0275restoreView"](n),T["\u0275\u0275nextContext"]().onResendOtpToClient()})),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()}2&e&&(T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,1,"REGISTRATION.BUTTONS.RESEND_OTP")," "))}function be(e,t){if(1&e){var n=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"button",36),T["\u0275\u0275listener"]("click",(function(){return T["\u0275\u0275restoreView"](n),T["\u0275\u0275nextContext"]().onSubmit()})),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()}2&e&&(T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,1,"CONTINUE")," "))}function Ie(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",37),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,1,n.unexpectedErrorMessage)," ")}}function Oe(e,t){1&e&&T["\u0275\u0275element"](0,"fuib-digital-preloader",38)}var Se=function(e){return{"filter-blur-3":e}},xe=function(){function e(e,t,n,i,r,o,l,c,s,p,d){var m;this.formBuilder=e,this.router=t,this.changeDetectorRef=n,this.overflowApplicationService=i,this.sessionService=r,this.popupService=o,this.authService=l,this.overflowApplicationTtlOtpService=c,this.googleTagManagerService=s,this.queryParamsService=p,this.window=d,this.shakeAnimationState=ie.a.still,this.showResendButton=!1,this.unsubscribeAll$=new a.a,this.phoneNumber=this.overflowApplicationTtlOtpService.getPhoneDataFromSessionStorage(),this.otpAttemptsLeft=null!==(m=this.overflowApplicationTtlOtpService.getRetrySmsAttempsCountFromSessionStorage())&&void 0!==m?m:0,this.repeatApplicationAttemptsLeft=this.overflowApplicationTtlOtpService.getReloadAttempsCountToSessionStorage()}return Object.defineProperty(e.prototype,"otpControl",{get:function(){return this.otpForm.controls.otp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNextStepAvailable",{get:function(){return!this.timeIsOver&&!this.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isResendOtpBtnAvailable",{get:function(){return 0!==this.repeatApplicationAttemptsLeft&&(void 0!==this.otpAttemptsLeft||this.timeIsOver)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.createForm(),this.subscribeToBrowserEvents(),this.onResendOtpToClient(),this.overflowApplicationTtlOtpService.checkTimerTtl(),this.subscribeToSmsRemainingTime()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete(),this.overflowApplicationTtlOtpService.saveTtlDateBeforeDestroy(),this.overflowApplicationTtlOtpService.destroyTtls()},e.prototype.onSubmit=function(){this.formSubmitAttempt=!0,this.googleTagManagerService.logEvent(h.wd,h.be.click),this.otpForm.valid&&this.validateOtp()},e.prototype.onResendOtpToClient=function(){var e=this;this.isLoading=!0;var t={authToken:this.authService.authToken.get("_aToken"),phoneNumber:"+"+this.phoneNumber.replace(/\D+/g,"")};this.overflowApplicationService.sendOtp(t).pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(t){e.resetForm(),e.otpAttemptsLeft=null,e.overflowApplicationTtlOtpService.setTtlToSessionStorage(10*t.otpTtl),e.overflowApplicationTtlOtpService.setSmsTtlToSessionStorage(t.otpTtl),e.timeIsOver=!1,e.overflowApplicationTtlOtpService.destroyTtls(),e.overflowApplicationTtlOtpService.checkTimerTtl(),e.countdownComponent&&e.countdownComponent.restartCounter(),e.isLoading=!1,e.changeDetectorRef.detectChanges()}),(function(t){e.handleSendOtpError(t.error)}))},e.prototype.onChangePhoneNumber=function(){this.router.navigate([h.c.OVERDRAFT_APPLICATION])},e.prototype.isControlInvalid=function(e){return e.invalid&&e.touched||e.untouched&&this.formSubmitAttempt},e.prototype.handleTimeIsOver=function(){this.isLoading||(this.resetForm(),this.timeIsOver=!0,this.showResendButton=!0,this.errorMessage=ae.OTP_NOT_FOUND,this.changeDetectorRef.detectChanges())},e.prototype.applyShakeAnimationForAgreement=function(){var e=this;Object(Q.a)(0,3e3).pipe(Object(K.a)((function(e){return--e}),4),Object(W.a)((function(t){return e.changeDetectorRef.detectChanges(),e.shakeAnimationState=ie.a.shaking,e.changeDetectorRef.detectChanges(),t>=0})),Object(l.a)(this.unsubscribeAll$)).subscribe((function(){return e.shakeAnimationState=ie.a.still}))},e.prototype.createForm=function(){this.otpForm=this.formBuilder.group({otp:["",o.Validators.compose([o.Validators.required,o.Validators.pattern(/\d{4}/)])]})},e.prototype.validateOtp=function(){var e=this;this.isLoading=!0,this.showResendButton=!1;var t={authToken:this.authService.authToken.get("_aToken"),otp:this.otpControl.value};this.overflowApplicationService.validateOtp(t).pipe(Object(J.a)((function(t){return t.result?e.overflowApplicationService.sendPhoneForm().pipe(Object(Z.a)((function(){return t}))):Object($.a)(t)})),Object(l.a)(this.unsubscribeAll$)).subscribe((function(t){t.result?(e.overflowApplicationService.isCabinetCreated=!0,e.otpAttemptsLeft=t.attemptsLeft,e.repeatApplicationAttemptsLeft=t.attemptsLeft,e.router.navigate([h.c.OVERDRAFT_APPLICATION_ACTIVITY_INFO])):(e.resetForm(),e.handleSendOtpError({error:t.attemptsLeft>0?d.c.REGISTRATION_INVALID_OTP:ae.SMS_TRIES,attemptsLeft:t.attemptsLeft}))}),(function(t){e.resetForm(),e.handleSendOtpError(t.error)}))},e.prototype.resetForm=function(){this.otpForm.reset(),this.errorMessage=null,this.unexpectedErrorMessage=null,this.formSubmitAttempt=!1},e.prototype.subscribeToSmsRemainingTime=function(){var e=this;this.overflowApplicationTtlOtpService.smsRemainingTimeSubscription$.pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(t){t>10?(e.smsCountdown=1e3*t,e.changeDetectorRef.detectChanges()):e.overflowApplicationTtlOtpService.getRetrySmsAttempsCountFromSessionStorage()?e.handleTimeIsOver():(e.endSmsAttemptsErrorHandler(),e.changeDetectorRef.detectChanges())}))},e.prototype.handleSendOtpError=function(e){if(e&&e.error){var t="string"==typeof e.error?e.error:e.error.code;switch(t){case ae.SMS_TRIES:this.showResendButton=!0,this.changeDetectorRef.detectChanges(),this.errorMessage=t||d.e.ABSTRACT;break;case d.c.REGISTRATION_INVALID_OTP:this.countAttemptsLeftOtp(t,e.attemptsLeft);break;case ae.OTP_LIMIT:this.errorMessage=t||d.e.ABSTRACT,this.changeDetectorRef.detectChanges();break;case d.c.REGISTRATION_OTP_MAX_EXC:this.errorMessage=t||d.e.ABSTRACT,this.repeatApplicationAttemptsLeft=0,this.router.navigate([h.c.OVERDRAFT_APPLICATION]);break;case d.c.REGISTRATION_NO_ATT_LOGIN:case d.c.REGISTRATION_AUTH_SESSION_EXP:this.unexpectedErrorMessage=t||d.e.ABSTRACT,this.router.navigate([h.c.OVERDRAFT_APPLICATION])}}this.isLoading=!1,this.changeDetectorRef.detectChanges()},e.prototype.countAttemptsLeftOtp=function(e,t){if(e===d.c.REGISTRATION_INVALID_OTP){this.otpAttemptsLeft=t,this.overflowApplicationTtlOtpService.setRetrySmsAttempsCountToSessionStorage(t);var n=0===this.otpAttemptsLeft&&0!==this.repeatApplicationAttemptsLeft,i=0===this.otpAttemptsLeft&&0===this.repeatApplicationAttemptsLeft;0!==this.otpAttemptsLeft?(this.otpControl.setErrors({otpError:d.e.REGISTRATION_OTP_INVALID}),this.otpControl.markAsTouched()):i?this.endOtpAttemptsErrorHandler():n&&this.endSmsAttemptsErrorHandler()}else this.unexpectedErrorMessage=e||d.e.ABSTRACT;this.isLoading=!1,this.changeDetectorRef.detectChanges()},e.prototype.handleAbstractError=function(){this.errorMessage=d.e.ABSTRACT,this.isLoading=!1,this.changeDetectorRef.detectChanges()},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(X.a)(this.window,"beforeunload").pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(){e.overflowApplicationTtlOtpService.saveTtlDateBeforeDestroy()}))},e.prototype.endOtpAttemptsErrorHandler=function(){this.errorMessage=d.e.INVALID_OTP_LIMIT,this.overflowApplicationTtlOtpService.clearOtpParamsFromSessionStorages(),this.overflowApplicationTtlOtpService.destroyTtls(),this.authService.authToken.reset(),this.applyShakeAnimationForAgreement()},e.prototype.endSmsAttemptsErrorHandler=function(){this.errorMessage=d.e.REGISTRATION_OTP_MAX_COUNT,this.overflowApplicationTtlOtpService.stopSmsTtlTimer(),this.overflowApplicationTtlOtpService.removeUnnecessarySessionStorages([ee.b.OTP_SMS])},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](o.FormBuilder),T["\u0275\u0275directiveInject"](r.d),T["\u0275\u0275directiveInject"](T.ChangeDetectorRef),T["\u0275\u0275directiveInject"](O.a),T["\u0275\u0275directiveInject"](oe.a),T["\u0275\u0275directiveInject"](u.a),T["\u0275\u0275directiveInject"](f.a),T["\u0275\u0275directiveInject"](S.a),T["\u0275\u0275directiveInject"](te.a),T["\u0275\u0275directiveInject"](re.a),T["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-check-otp"]],viewQuery:function(e,t){var n;1&e&&T["\u0275\u0275viewQuery"](Y.a,!0),2&e&&T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.countdownComponent=n.first)},decls:22,vars:18,consts:[["countdownTemplate",""],[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"w-100",3,"formGroup","ngClass"],[1,"form-group","border-bottom","border-gray-2","pb-2","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],["id","phoneStr",1,"font-weight-bold","text-nowrap"],["id","changePhoneBtn","type","button",1,"btn","btn-hidden","btn-text-with-icon",3,"click"],[1,"i-edit"],["class","form-group",4,"ngIf"],["class","info-message mb-3",4,"ngIf"],["id","resendOtpBtn","type","button","class","btn btn-block btn-outline-primary btn-lg mt-2 mt-md-4",3,"click",4,"ngIf"],["id","submitBtn","type","button","class","btn btn-block btn-primary btn-lg mt-2 mt-md-4",3,"click",4,"ngIf"],["class","error-message mt-4 mb-3",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],["id","countdown","units","Minutes | Seconds","divider",":",3,"endMilliseconds","counterTimeIsOver",4,"ngIf"],["id","countdown","units","Minutes | Seconds","divider",":",3,"endMilliseconds","counterTimeIsOver"],[1,"before-countdown"],[1,"after-countdown"],[1,"form-group"],["for","otp"],[3,"ngTemplateOutlet"],[1,"input-group",3,"ngClass"],["type","text","formControlName","otp","id","otp","maxlength","4","fuibIsFocused","",1,"form-control"],["class","input-group-append",4,"ngIf"],[1,"input-message-container"],["class","error-list",4,"ngIf"],[1,"input-group-append"],["id","resendOtpIconBtn","type","button","container","body",1,"btn","input-group-text","input-group-icon",3,"tooltip","click"],[1,"i-refresh"],[1,"error-list"],["id","otpRequiredError",3,"hidden"],[3,"hidden"],["id","otpWrongError",3,"hidden"],[1,"info-message","mb-3"],["id","resendOtpBtn","type","button",1,"btn","btn-block","btn-outline-primary","btn-lg","mt-2","mt-md-4",3,"click"],["id","submitBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-2","mt-md-4",3,"click"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(T["\u0275\u0275template"](0,se,1,1,"ng-template",null,0,T["\u0275\u0275templateRefExtractor"]),T["\u0275\u0275elementStart"](2,"div",1),T["\u0275\u0275elementStart"](3,"div",2),T["\u0275\u0275elementStart"](4,"div",3),T["\u0275\u0275elementStart"](5,"label"),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"div",4),T["\u0275\u0275elementStart"](9,"div",5),T["\u0275\u0275text"](10),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](11,"button",6),T["\u0275\u0275listener"]("click",(function(){return t.onChangePhoneNumber()})),T["\u0275\u0275text"](12),T["\u0275\u0275pipe"](13,"translate"),T["\u0275\u0275element"](14,"i",7),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](15,fe,10,9,"div",8),T["\u0275\u0275template"](16,ge,3,3,"div",9),T["\u0275\u0275template"](17,ve,3,3,"button",10),T["\u0275\u0275template"](18,be,3,3,"button",11),T["\u0275\u0275template"](19,Ie,3,3,"div",12),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](20,Oe,1,0,"fuib-digital-preloader",13),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](21,"div",14)),2&e&&(T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("formGroup",t.otpForm)("ngClass",T["\u0275\u0275pureFunction1"](16,Se,t.isLoading)),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](7,12,"REGISTRATION.LABELS.PHONE")),T["\u0275\u0275advance"](4),T["\u0275\u0275textInterpolate1"](" ",t.phoneNumber," "),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("@shake",t.shakeAnimationState),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](13,14,"REGISTRATION.BUTTONS.CHANGE")," "),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("ngIf",t.isNextStepAvailable),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",t.errorMessage),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",!t.isNextStepAvailable&&t.showResendButton),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",t.isNextStepAvailable),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",t.isLoading))},directives:[o.NgControlStatusGroup,o.FormGroupDirective,i.q,i.t,y.a,Y.a,i.A,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,o.MaxLengthValidator,A.a,le.l,P.a],pipes:[F.d],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],data:{animation:[ie.b]},changeDetection:0}),e}(),Ee=n("quSY"),Ce=n("w6yA");function Te(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",8),T["\u0275\u0275element"](1,"h1",9),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275element"](3,"div",10),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](2,2,n.wizardStepTitle),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](4,4,n.wizardStepSubTitle),T["\u0275\u0275sanitizeHtml"])}}function Ae(e,t){if(1&e&&(T["\u0275\u0275element"](0,"div",11),T["\u0275\u0275pipe"](1,"translate")),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275property"]("innerText",T["\u0275\u0275pipeBind1"](1,1,n.unexpectedErrorMessage))}}var _e=function(e){return{"max-width":e}},Re=function(){function e(e,t,n,i,r){this.registrationDiiaService=e,this.sharedService=t,this.router=n,this.route=i,this.sessionStorageDataService=r,this.wizardStepTitle="REGISTRATION.FORM_TITLE",this.wizardStepSubTitle="REGISTRATION_DIIA.FORM_SUBTITLE",this.subscriptions=new Ee.a,this.steps=Object.keys(v).filter((function(e){return!isNaN(Number(e))})).length}return e.prototype.ngOnInit=function(){var e=this;this.setParamsByUrl(this.router.url),this.subscriptions.add(this.router.events.subscribe((function(t){t instanceof r.b&&e.setParamsByUrl(t.urlAfterRedirects)}))),this.subscriptions.add(this.registrationDiiaService.updateWizzardTitle$.subscribe((function(t){return e.wizardStepTitle=t}))),this.subscriptions.add(this.registrationDiiaService.onUnexpectedErrorMessage.subscribe((function(t){e.unexpectedErrorMessage=t})))},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.sessionStorageDataService.clearAll(),this.sharedService.disableProgressLine()},e.prototype.setParamsByUrl=function(e){var t=this.normalizeUrl(e);this.wizardStepTitle=b[t],this.wizardStepSubTitle=I[t],this.isRejectedPage=t===h.c.REGISTRATION_DIIA_REJECTED,this.isSucceededOrRejectedPage=this.isRejectedPage||t===h.c.REGISTRATION_DIIA_SUCCEEDED||t===h.c.REGISTRATION_DIIA_REPEAT||t===h.c.REGISTRATION_DIIA_FINISH||t===h.c.REGISTRATION_DIIA_ALMOST_DONE||t===h.c.REGISTRATION_DIIA_FOP_ERROR||t===h.c.REGISTRATION_DIIA_TAX_ERROR||t===h.c.REGISTRATION_DIIA_OCCUPIED_TERRITORIES_ERROR||t===h.c.REGISTRATION_DIIA_DOCUMENT_SHARING_ERROR||t===h.c.REGISTRATION_DIIA_APPLICATION_ERROR||t.includes(h.c.REGISTRATION_DIIA_VERIFICATION_EMAIL_RESULT),this.isSucceededOrRejectedPage?this.sharedService.disableProgressLine():this.sharedService.emitProgressLine({totalSteps:this.steps,currentStep:this.route.firstChild.snapshot.data.routeIndex})},e.prototype.onActivateRoute=function(){this.routeIndex=this.route.firstChild.snapshot.data.routeIndex},e.prototype.normalizeUrl=function(e){return e.includes("?")?this.router.url.slice(0,this.router.url.indexOf("?")):e},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](O.a),T["\u0275\u0275directiveInject"](C.i),T["\u0275\u0275directiveInject"](r.d),T["\u0275\u0275directiveInject"](r.a),T["\u0275\u0275directiveInject"](Ce.a))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-overdraft-application"]],decls:8,vars:7,consts:[[1,"container","position-relative","pb-4"],[1,"form-wrap","mx-auto",3,"ngStyle"],[1,"form-wrap-inner"],["class","text-center mb-4",4,"ngIf"],[1,"position-relative","pb-2","h-custom"],[1,"outlet-wrap"],[3,"activate"],["class","d-flex error-message mt-4 mb-3",3,"innerText",4,"ngIf"],[1,"text-center","mb-4"],[1,"h4","non-responsive","mb-3",3,"innerHTML"],[3,"innerHTML"],[1,"d-flex","error-message","mt-4","mb-3",3,"innerText"]],template:function(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",0),T["\u0275\u0275elementStart"](1,"section",1),T["\u0275\u0275elementStart"](2,"div",2),T["\u0275\u0275template"](3,Te,5,6,"div",3),T["\u0275\u0275elementStart"](4,"div",4),T["\u0275\u0275elementStart"](5,"div",5),T["\u0275\u0275elementStart"](6,"router-outlet",6),T["\u0275\u0275listener"]("activate",(function(){return t.onActivateRoute()})),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](7,Ae,2,3,"div",7),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e&&(T["\u0275\u0275classProp"]("centered",t.isSucceededOrRejectedPage),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngStyle",T["\u0275\u0275pureFunction1"](5,_e,t.isRejectedPage?"600px":"460px")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",!t.isSucceededOrRejectedPage),T["\u0275\u0275advance"](4),T["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage))},directives:[i.w,i.t,r.i],pipes:[F.d],styles:["[_nghost-%COMP%] {display:flex;flex-direction:column;margin-top:74px;min-height:calc(100vh - 118px)}[_nghost-%COMP%]  section, [_nghost-%COMP%]  section .form-wrap-inner{height:100%}[_nghost-%COMP%]  section .form-wrap-inner .h-custom{height:90%}[_nghost-%COMP%]  section .form-wrap-inner .h-custom .outlet-wrap{height:100%}[_nghost-%COMP%]  h1{transition:all .3s ease;font-size:34px;font-weight:700;line-height:36px;letter-spacing:.25px}@media screen and (max-width:600px){[_nghost-%COMP%]  .btn-lg{font-size:.875rem;line-height:1.25rem;padding:.5rem 1.375rem}}section.form-wrap[_ngcontent-%COMP%]{max-width:460px!important}.container.centered[_ngcontent-%COMP%]{margin:auto}"]}),e}(),ye=n("mrSG"),Me=n("Ql4B"),Pe=n("l+2V"),Fe=n("AORK"),Ne=["incomeContainerRef"],we=["revenueRef"],ke=["maximumIncomeRef"];function De(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.companyName.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,2,"VALIDATIONS.REQUIRED")," ")}}function Le(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",33),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.edrpou.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.edrpou.errors.pattern&&!n.mainForm.controls.edrpou.errors.maxlength),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.WRONG_CODE")," ")}}function Be(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"option",34),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=T["\u0275\u0275nextContext"](2);T["\u0275\u0275property"]("selected",i.mainForm.controls.businessField.value===n.name)("value",n.name),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ve(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",33),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.businessField.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.businessField.errors.notAvailable),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.ACTIVITY_NOT_AVAILABLE")," ")}}function Ge(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"option",34),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=T["\u0275\u0275nextContext"](2);T["\u0275\u0275property"]("selected",i.mainForm.controls.region.value===n)("value",n),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",n," ")}}function je(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",33),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.region.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.region.errors.notAvailable),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.REGION_NOT_AVAILABLE")," ")}}function Ue(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"option",34),T["\u0275\u0275text"](1),T["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=T["\u0275\u0275nextContext"](2);T["\u0275\u0275property"]("selected",i.mainForm.controls.area.value===n.name)("value",n.name),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ze(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",33),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.area.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.area.errors.notAvailable),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.AREA_NOT_AVAILABLE")," ")}}function He(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",33),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.email.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.email.errors.email),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.EMAIL")," ")}}function qe(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275elementStart"](1,"ul",32),T["\u0275\u0275elementStart"](2,"li",33),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",33),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.moreYear.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.mainForm.controls.moreYear.errors.notAvailable),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.NOT_AVAILABLE")," ")}}var Ye=function(e){return{"filter-blur-3":e}},Qe=function(e,t){return{"is-invalid":e,disabled:t}};function $e(e,t){if(1&e){var n=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"div",11),T["\u0275\u0275listener"]("ngSubmit",(function(){return T["\u0275\u0275restoreView"](n),T["\u0275\u0275nextContext"]().onSubmitAnketa()})),T["\u0275\u0275elementStart"](1,"div",12),T["\u0275\u0275elementStart"](2,"label"),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"div",13),T["\u0275\u0275element"](6,"input",14),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](7,De,5,4,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"div",12),T["\u0275\u0275elementStart"](9,"label"),T["\u0275\u0275text"](10),T["\u0275\u0275pipe"](11,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](12,"div",13),T["\u0275\u0275element"](13,"input",16),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](14,Le,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](15,"div",12),T["\u0275\u0275elementStart"](16,"label"),T["\u0275\u0275text"](17),T["\u0275\u0275pipe"](18,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](19,"div",13),T["\u0275\u0275elementStart"](20,"select",17),T["\u0275\u0275element"](21,"option",18),T["\u0275\u0275template"](22,Be,2,3,"option",19),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](23,Ve,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](24,"div",12),T["\u0275\u0275elementStart"](25,"label"),T["\u0275\u0275text"](26),T["\u0275\u0275pipe"](27,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](28,"div",13),T["\u0275\u0275elementStart"](29,"select",20),T["\u0275\u0275element"](30,"option",18),T["\u0275\u0275template"](31,Ge,2,3,"option",19),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](32,je,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](33,"div",12),T["\u0275\u0275elementStart"](34,"label"),T["\u0275\u0275text"](35),T["\u0275\u0275pipe"](36,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](37,"div",13),T["\u0275\u0275elementStart"](38,"select",21),T["\u0275\u0275element"](39,"option",18),T["\u0275\u0275template"](40,Ue,2,3,"option",19),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](41,ze,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](42,"div",12),T["\u0275\u0275elementStart"](43,"label"),T["\u0275\u0275text"](44),T["\u0275\u0275pipe"](45,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](46,"div",13),T["\u0275\u0275element"](47,"input",22),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](48,He,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](49,"hr"),T["\u0275\u0275elementStart"](50,"div",12),T["\u0275\u0275elementStart"](51,"label"),T["\u0275\u0275text"](52),T["\u0275\u0275pipe"](53,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](54,"div",23),T["\u0275\u0275elementStart"](55,"div",24),T["\u0275\u0275elementStart"](56,"div",25),T["\u0275\u0275element"](57,"input",26),T["\u0275\u0275element"](58,"label",27),T["\u0275\u0275pipe"](59,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](60,"div",28),T["\u0275\u0275element"](61,"input",29),T["\u0275\u0275element"](62,"label",30),T["\u0275\u0275pipe"](63,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](64,qe,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](65,"hr"),T["\u0275\u0275elementEnd"]()}if(2&e){var i=T["\u0275\u0275nextContext"]();T["\u0275\u0275property"]("formGroup",i.mainForm)("ngClass",T["\u0275\u0275pureFunction1"](51,Ye,i.isPublishing)),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](4,33,"OVERDRAFT.FORM.STEP_2.COMPANY_NAME")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](53,Qe,i.mainForm.controls.companyName.invalid&&i.mainForm.controls.companyName.dirty,i.mainForm.controls.companyName.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.companyName.invalid&&i.mainForm.controls.companyName.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](11,35,"OVERDRAFT.FORM.STEP_2.CODE")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](56,Qe,i.mainForm.controls.edrpou.invalid&&i.mainForm.controls.edrpou.dirty,i.mainForm.controls.edrpou.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.edrpou.invalid&&i.mainForm.controls.edrpou.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](18,37,"OVERDRAFT.FORM.STEP_2.MAIN_ACTIVITY")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](59,Qe,i.mainForm.controls.businessField.invalid&&i.mainForm.controls.businessField.dirty,i.mainForm.controls.businessField.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("value",null),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",i.activities),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.businessField.invalid&&i.mainForm.controls.businessField.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](27,39,"OVERDRAFT.FORM.STEP_2.ACTIVITY_REGION")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](62,Qe,i.mainForm.controls.region.invalid&&i.mainForm.controls.region.dirty,i.mainForm.controls.region.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("value",null),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",i.regions),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.region.invalid&&i.mainForm.controls.region.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](36,41,"OVERDRAFT.FORM.STEP_2.REGION")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](65,Qe,i.mainForm.controls.area.invalid&&i.mainForm.controls.area.dirty,i.mainForm.controls.area.disabled||0===i.areas.length)),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("disabled",i.mainForm.controls.area.disabled||0===i.areas.length),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("value",null),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngForOf",i.areas),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.area.invalid&&i.mainForm.controls.area.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](45,43,"OVERDRAFT.FORM.STEP_2.EMAIL")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](68,Qe,i.mainForm.controls.email.invalid&&i.mainForm.controls.email.dirty,i.mainForm.controls.email.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.email.invalid&&i.mainForm.controls.email.dirty),T["\u0275\u0275advance"](4),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](53,45,"OVERDRAFT.FORM.STEP_2.MORE_THAN_YEAR")),T["\u0275\u0275advance"](5),T["\u0275\u0275property"]("value",!0),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](59,47,"YEP"),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("value",!1),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](63,49,"NO"),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.mainForm.controls.moreYear.invalid&&i.mainForm.controls.moreYear.dirty)}}function Xe(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",35),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,1,n.unexpectedErrorMessage)," ")}}function Ke(e,t){1&e&&T["\u0275\u0275element"](0,"fuib-digital-preloader",36)}var We=function(){function e(e,t,n,i,r,o,l,c){this.formBuilder=e,this.router=t,this.overflowApplicationService=n,this.sessionService=i,this.googleTagManagerService=r,this.sharedService=o,this.helpersCompanyService=l,this.window=c,this.mask=Object(Pe.createNumberMask)({prefix:"",allowDecimal:!0,thousandsSeparatorSymbol:" ",decimalSymbol:",",decimalLimit:2}),this.isGoBack=null,this.activities=[],this.regions=[],this.areas=[],this.showCheckboxError=!1,this.subscriptions=new Ee.a,this.unsubscribAll$=new a.a,this.isGoBack=!1,this.openAdditionalForAnketa=!1,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.loadValidation(),this.createMainForm(),this.listenForRegionChanges()},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer(),this.unsubscribAll$.next(),this.unsubscribAll$.complete()},e.prototype.onSubmitAnketa=function(){var e=this;this.googleTagManagerService.logEvent(h.vd,h.be.click),this.mainForm.valid?this.publishSurveyForm():Object.keys(this.mainForm.controls).forEach((function(t){e.mainForm.controls[t].markAsDirty()}))},e.prototype.publishSurveyForm=function(){var e=this;this.isPublishing=!0;var t=this.mainForm.value;this.overflowApplicationService.sendActivityForm({companyName:t.companyName,edrpou:t.edrpou,businessField:t.businessField,region:t.region,area:t.area,email:t.email}).subscribe({next:function(){e.router.navigate([h.c.OVERDRAFT_APPLICATION_FINANCIAL_INFO])},error:function(t){var n,i,r,o;475===(null==t?void 0:t.status)&&"ERROR:BUSINESS:036"===(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.code)&&e.sharedService.emitCustomAlert("ERROR:BUSINESS:036"),475===(null==t?void 0:t.status)&&"ERROR:FIVES:001"===(null===(o=null===(r=null==t?void 0:t.error)||void 0===r?void 0:r.error)||void 0===o?void 0:o.code)&&e.overflowApplicationService.cancelWarning("ALERTS.SESSION_EXPIRED","ALERTS.SESSION_EXPIRED_TEXT","ALERTS.AUTHORIZE","").subscribe((function(t){t&&e.router.navigate([h.c.OVERDRAFT_APPLICATION])})),e.isPublishing=!1}})},e.prototype.cancel=function(){var e=this;this.googleTagManagerService.logEvent(h.ud,h.be.click),this.overflowApplicationService.cancelWarning().subscribe((function(t){t&&e.router.navigate([h.c.HOME])}))},e.prototype.createMainForm=function(){this.mainForm=this.formBuilder.group({companyName:[null,[o.Validators.required]],edrpou:[null,[o.Validators.required,o.Validators.pattern(g.o),o.Validators.maxLength(8)]],businessField:[null,[o.Validators.required,this.businessFieldValidator()]],region:[null,[o.Validators.required,this.regionValidator()]],area:[{value:null,disabled:!0},[o.Validators.required,this.areaValidator()]],email:[null,[o.Validators.required,o.Validators.email]],moreYear:[null,[o.Validators.required,this.moreYearValidator()]]})},e.prototype.businessFieldValidator=function(){var e=this;return(function(t){return t.value&&!e.activities.find((function(e){return e.name===t.value})).allowed?{notAvailable:!0}:null}).bind(this)},e.prototype.areaValidator=function(){var e=this;return(function(t){return t.value&&"\u0417\u0435\u043b\u0435\u043d\u0430"!==e.regionsValidation.find((function(e){return e.name===t.value})).zone?{notAvailable:!0}:null}).bind(this)},e.prototype.regionValidator=function(){var e=this;return(function(t){return t.value&&e.regionsValidation.filter((function(e){return e.region===t.value})).every((function(e){return"\u0417\u0435\u043b\u0435\u043d\u0430"!==e.zone}))?{notAvailable:!0}:null}).bind(this)},e.prototype.moreYearValidator=function(){return(function(e){return null===e.value||e.value?null:{notAvailable:!0}}).bind(this)},e.prototype.subscribeToBrowserEvents=function(){var e=this;this.subscriptions.add(Object(X.a)(this.window,"beforeunload").subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()}))),this.subscriptions.add(Object(X.a)(this.window,"popstate").subscribe((function(){e.isGoBack=!0})))},e.prototype.loadValidation=function(){var e=this;this.overflowApplicationService.getActivityValidationInfo("https://apim.pumb.ua/api/assets/pumb/32a10888-cdeb-4a38-ab78-c408034ac5ec/vidi-diyalsnosti.csv").subscribe((function(t){e.activities=t})),this.overflowApplicationService.getRegionValidationInfo("https://apim.pumb.ua/api/assets/pumb/f2747f6a-b52e-4e0a-b9fa-50217ee6d915/zoni-riziku-po-rajonah-23-05-2024.csv").subscribe((function(t){e.regionsValidation=t,e.regions=Object(ye.i)(new Set(e.regionsValidation.map((function(e){return e.region}))))}))},e.prototype.listenForRegionChanges=function(){var e=this;this.subscriptions.add(this.mainForm.controls.region.valueChanges.subscribe((function(t){e.areas=e.regionsValidation.filter((function(e){return e.region===t})),e.mainForm.controls.area.setValue(e.areas[0].name),e.mainForm.controls.area.markAsDirty(),e.mainForm.controls.area.enable()})))},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](o.FormBuilder),T["\u0275\u0275directiveInject"](r.d),T["\u0275\u0275directiveInject"](O.a),T["\u0275\u0275directiveInject"](oe.a),T["\u0275\u0275directiveInject"](te.a),T["\u0275\u0275directiveInject"](C.i),T["\u0275\u0275directiveInject"](Fe.a),T["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-main-form"]],viewQuery:function(e,t){var n;1&e&&(T["\u0275\u0275viewQuery"](Ne,!0),T["\u0275\u0275viewQuery"](we,!0),T["\u0275\u0275viewQuery"](ke,!0)),2&e&&(T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.incomeContainerRef=n.first),T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.revenueRef=n.first),T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.maximumIncomeRef=n.first))},decls:19,vars:16,consts:[[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","flex-column","gap-16"],[1,"title"],[1,"subtitle"],["class","w-100 margin-top-24",3,"formGroup","ngClass","ngSubmit",4,"ngIf"],[1,"buttons"],["type","button",1,"btn","btn-block","btn-outline-primary","btn-lg","mt-1",3,"click"],["id","submitAnketaBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-1",3,"disabled","click"],["class","error-message mt-4 mb-3",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],[1,"w-100","margin-top-24",3,"formGroup","ngClass","ngSubmit"],[1,"form-group"],[1,"input-group",3,"ngClass"],["type","text","formControlName","companyName",1,"form-control"],["class","input-message-container error",4,"ngIf"],["type","text","formControlName","edrpou","inputmode","numeric",1,"form-control"],["formControlName","businessField",1,"form-control"],["selected","","disabled","","hidden","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],["formControlName","region",1,"form-control"],["formControlName","area",1,"form-control",3,"disabled"],["type","text","formControlName","email",1,"form-control"],[1,"input-group","no-hover"],[1,"d-inline-flex","mb-3"],[1,"form-check"],["type","radio","id","yes","name","moreYear","formControlName","moreYear",1,"form-check-input",3,"value"],["for","yes",1,"form-check-label","ml-2",3,"innerHTML"],[1,"form-check","ml-5"],["type","radio","id","no","name","moreYear","formControlName","moreYear",1,"form-check-input",3,"value"],["for","no",1,"form-check-label","ml-2",3,"innerHTML"],[1,"input-message-container","error"],[1,"error-list"],[3,"hidden"],[3,"selected","value"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",0),T["\u0275\u0275elementStart"](1,"div",1),T["\u0275\u0275elementStart"](2,"div",2),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"div",3),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](8,$e,66,71,"div",4),T["\u0275\u0275elementStart"](9,"div",5),T["\u0275\u0275elementStart"](10,"button",6),T["\u0275\u0275listener"]("click",(function(){return t.cancel()})),T["\u0275\u0275text"](11),T["\u0275\u0275pipe"](12,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](13,"button",7),T["\u0275\u0275listener"]("click",(function(){return t.onSubmitAnketa()})),T["\u0275\u0275text"](14),T["\u0275\u0275pipe"](15,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](16,Xe,3,3,"div",8),T["\u0275\u0275template"](17,Ke,1,0,"fuib-digital-preloader",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](18,"div",10)),2&e&&(T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](4,8,"OVERDRAFT.FORM.STEP_2.TITLE")),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](7,10,"OVERDRAFT.FORM.STEP_2.SUBTITLE")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.mainForm),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](12,12,"DENY")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("disabled",t.isPublishing),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](15,14,"CONTINUE")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",t.isPublishing))},directives:[i.t,y.a,o.NgControlStatusGroup,o.FormGroupDirective,i.q,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,o.SelectControlValueAccessor,o.NgSelectOption,o["\u0275angular_packages_forms_forms_x"],i.s,o.RadioControlValueAccessor,P.a],pipes:[F.d],styles:['@charset "UTF-8";[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{transition:all .3s ease;color:#6d6d7a}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus-visible:before, [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus-visible:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover:before{border-color:#93939e}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#4d4d5c}[_nghost-%COMP%]   .form-check-label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:absolute;transform:translateY(-50%);top:50%;margin-top:0}.add-more-button[_ngcontent-%COMP%]{border:none;background:transparent;transition:background .3s;padding:10px 20px;margin-left:-20px;border-radius:50px}.add-more-button[_ngcontent-%COMP%]:focus{outline:none}.add-more-button[_ngcontent-%COMP%]:hover{background:#f5f5fa}.btn-trash[_ngcontent-%COMP%]{position:absolute;right:-64px;display:flex;align-items:center;height:100%;justify-content:flex-end;opacity:.6;transition:opacity .3s}.btn-trash[_ngcontent-%COMP%]:hover{opacity:1}.plus-icon[_ngcontent-%COMP%]{margin-right:10px}.title[_ngcontent-%COMP%]{font-size:34px;font-weight:700;line-height:36px;letter-spacing:.25px;text-align:center;color:#4d4d5c}@media screen and (max-width:600px){.title[_ngcontent-%COMP%]{font-size:24px;line-height:32px}}.subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px;text-align:center;color:#6d6d7a}ul[_ngcontent-%COMP%]{padding-left:20px}ul[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{color:#6d6d7a}.approve[_ngcontent-%COMP%]{background:#f5f5fa;border-radius:8px;padding:12px 14px;cursor:pointer}.not-confirm[_ngcontent-%COMP%]{font-size:12px;line-height:16px;letter-spacing:.25px;color:#6d6d7a}.underline[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:3px;cursor:pointer;transition:all .3s;color:#4d4d5c}.underline[_ngcontent-%COMP%]:hover{color:#f91f2b}.error-list[_ngcontent-%COMP%]{padding-left:0}.error-message-container[_ngcontent-%COMP%]{border-radius:8px;background:#ffeddd;padding:16px 22px 16px 36px;color:#f57f17;font-size:14px;font-style:normal;font-weight:500;line-height:20px;margin:16px 0}.error-message-container[_ngcontent-%COMP%]:before{content:"\ue940";font-family:project-icons;font-size:.75rem;margin-right:.5rem;display:inline-block;left:16px;position:absolute}.error-anchor[_ngcontent-%COMP%]{color:#f57f17;text-decoration:underline;text-underline-position:under;transition:all .3s}.error-anchor[_ngcontent-%COMP%]:hover{color:#f91f2b}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}.checkbox[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:24px;letter-spacing:.25px;margin-left:12px;cursor:pointer}.input-message-container.error[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]{position:relative}.input-group.readonly[_ngcontent-%COMP%]:hover{box-shadow:none}#maximumIncome[_ngcontent-%COMP%], #revenue[_ngcontent-%COMP%]{padding-right:50px}.gap-16[_ngcontent-%COMP%]{gap:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px;color:#4d4d5c}.no-hover[_ngcontent-%COMP%]:hover{box-shadow:none}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.margin-top-24[_ngcontent-%COMP%]{margin-top:24px}'],data:{animation:[Me.c]}}),e}(),Je=n("Wa42"),Ze=function(){function e(e,t,n){this.overflowApplicationTtlOtpService=e,this.router=t,this.authService=n}return e.prototype.canActivate=function(){var e=this.overflowApplicationTtlOtpService.getPhoneDataFromSessionStorage(),t=this.authService.authToken.get("_aToken");return!(!e||!t)||this.router.createUrlTree([h.c.OVERDRAFT_APPLICATION])},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275inject"](S.a),T["\u0275\u0275inject"](r.d),T["\u0275\u0275inject"](f.a))},e.\u0275prov=T["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),et=function(){function e(e,t){this.googleTagManagerService=e,this.window=t,this.isGoBack=!1,this.unsubscribeAll$=new a.a}return e.prototype.ngOnInit=function(){this.subscribeToBrowserEvents()},e.prototype.ngOnDestroy=function(){this.unsubscribeAll$.next(),this.unsubscribeAll$.complete()},e.prototype.subscribeToBrowserEvents=function(){var e=this;Object(X.a)(this.window,"popstate").pipe(Object(l.a)(this.unsubscribeAll$)).subscribe((function(){e.isGoBack=!0}))},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](te.a),T["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-finish"]],decls:18,vars:14,consts:[[1,"finish"],[1,"finish-img"],["src","/assets/images/success-badge.svg","width","56","height","56","loading","lazy"],[1,"finish-content"],[1,"finish-content-text"],[1,"finish-content-text-title"],[1,"finish-content-text-subtitle"],[1,"finish-content-actions"],["id","submitAnketaBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-1",3,"routerLink"],["type","button",1,"btn","btn-block","btn-outline-primary","btn-lg","mt-1",3,"routerLink"]],template:function(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",0),T["\u0275\u0275elementStart"](1,"div",1),T["\u0275\u0275element"](2,"img",2),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](3,"div",3),T["\u0275\u0275elementStart"](4,"div",4),T["\u0275\u0275elementStart"](5,"div",5),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"div",6),T["\u0275\u0275text"](9),T["\u0275\u0275pipe"](10,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](11,"div",7),T["\u0275\u0275elementStart"](12,"button",8),T["\u0275\u0275text"](13),T["\u0275\u0275pipe"](14,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](15,"button",9),T["\u0275\u0275text"](16),T["\u0275\u0275pipe"](17,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e&&(T["\u0275\u0275advance"](6),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](7,6,"OVERDRAFT.FORM.STEP_4.TITLE")),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](10,8,"OVERDRAFT.FORM.STEP_4.SUBTITLE")," "),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("routerLink","/open-account/company"),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](14,10,"BUTTONS.OPEN_ACCOUNT")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("routerLink","/home"),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](17,12,"BUTTONS.CLOSE")," "))},directives:[r.e],pipes:[F.d],styles:[".finish[_ngcontent-%COMP%]{gap:16px;align-items:center}.finish[_ngcontent-%COMP%], .finish-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.finish-content[_ngcontent-%COMP%]{gap:24px}.finish-content-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.finish-content-text-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:32px;letter-spacing:.349999994px;text-align:center;color:#4d4d5c}.finish-content-text-subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:24px;letter-spacing:.25px;text-align:center;color:#6d6d7a}.finish-content-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]}),e}(),tt=n("59kF"),nt=["incomeContainerRef"],it=["revenueRef"],rt=["maximumIncomeRef"];function ot(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",28),T["\u0275\u0275elementStart"](1,"ul",29),T["\u0275\u0275elementStart"](2,"li",30),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",30),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"li",30),T["\u0275\u0275text"](9),T["\u0275\u0275pipe"](10,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.lastYearIncome.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,6,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.lastYearIncome.errors.min),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,8,"VALIDATIONS.OVERDRAFT.MIN_INCOME")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.lastYearIncome.errors.max),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](10,10,"VALIDATIONS.OVERDRAFT.MAX_NUMBER")," ")}}function at(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",28),T["\u0275\u0275elementStart"](1,"ul",29),T["\u0275\u0275elementStart"](2,"li",30),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",30),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.fuibIncomeLastMonths.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.fuibIncomeLastMonths.errors.max),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.MAX_NUMBER")," ")}}function lt(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",28),T["\u0275\u0275elementStart"](1,"ul",29),T["\u0275\u0275elementStart"](2,"li",30),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",30),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.otherBanksIncome.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.otherBanksIncome.errors.max),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.MAX_NUMBER")," ")}}function ct(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",28),T["\u0275\u0275elementStart"](1,"ul",29),T["\u0275\u0275elementStart"](2,"li",30),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"li",30),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"](2);T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.requestedLimit.errors.required),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](4,4,"VALIDATIONS.REQUIRED")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("hidden",!n.financialForm.controls.requestedLimit.errors.max),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](7,6,"VALIDATIONS.OVERDRAFT.MAX_NUMBER")," ")}}var st=function(e){return{"filter-blur-3":e}},pt=function(e,t){return{"is-invalid":e,disabled:t}};function dt(e,t){if(1&e){var n=T["\u0275\u0275getCurrentView"]();T["\u0275\u0275elementStart"](0,"div",11),T["\u0275\u0275listener"]("ngSubmit",(function(){return T["\u0275\u0275restoreView"](n),T["\u0275\u0275nextContext"]().onSubmitAnketa()})),T["\u0275\u0275elementStart"](1,"div",12),T["\u0275\u0275elementStart"](2,"label"),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"div",13),T["\u0275\u0275element"](6,"input",14),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](7,ot,11,12,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](8,"div",16),T["\u0275\u0275element"](9,"div",17),T["\u0275\u0275element"](10,"div",18),T["\u0275\u0275pipe"](11,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](12,"div",12),T["\u0275\u0275elementStart"](13,"label"),T["\u0275\u0275text"](14),T["\u0275\u0275pipe"](15,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](16,"div",13),T["\u0275\u0275element"](17,"input",19),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](18,at,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](19,"div",12),T["\u0275\u0275elementStart"](20,"label"),T["\u0275\u0275text"](21),T["\u0275\u0275pipe"](22,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](23,"div",13),T["\u0275\u0275element"](24,"input",20),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](25,lt,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](26,"div",21),T["\u0275\u0275elementStart"](27,"div",22),T["\u0275\u0275text"](28),T["\u0275\u0275pipe"](29,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](30,"div",23),T["\u0275\u0275elementStart"](31,"div",24),T["\u0275\u0275elementStart"](32,"div",25),T["\u0275\u0275text"](33),T["\u0275\u0275pipe"](34,"removeComma"),T["\u0275\u0275pipe"](35,"number"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](36,"div",26),T["\u0275\u0275text"](37),T["\u0275\u0275pipe"](38,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](39,"div",12),T["\u0275\u0275elementStart"](40,"label"),T["\u0275\u0275text"](41),T["\u0275\u0275pipe"](42,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](43,"div",13),T["\u0275\u0275element"](44,"input",27),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](45,ct,8,8,"div",15),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](46,"hr"),T["\u0275\u0275elementEnd"]()}if(2&e){var i=T["\u0275\u0275nextContext"]();T["\u0275\u0275property"]("formGroup",i.financialForm)("ngClass",T["\u0275\u0275pureFunction1"](36,st,i.isPublishing)),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](4,18,"OVERDRAFT.FORM.STEP_3.LAST_YEAR_INCOME")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](38,pt,i.financialForm.controls.lastYearIncome.invalid&&i.financialForm.controls.lastYearIncome.dirty,i.financialForm.controls.lastYearIncome.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.financialForm.controls.lastYearIncome.invalid&&i.financialForm.controls.lastYearIncome.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275property"]("innerHTML",T["\u0275\u0275pipeBind1"](11,20,"OVERDRAFT.FORM.STEP_3.LAST_YEAR_INCOME_DESCRIPTION"),T["\u0275\u0275sanitizeHtml"]),T["\u0275\u0275advance"](4),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](15,22,"OVERDRAFT.FORM.STEP_3.FUIB_INCOME_LAST_3_MONTHS")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](41,pt,i.financialForm.controls.fuibIncomeLastMonths.invalid&&i.financialForm.controls.fuibIncomeLastMonths.dirty,i.financialForm.controls.fuibIncomeLastMonths.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.financialForm.controls.fuibIncomeLastMonths.invalid&&i.financialForm.controls.fuibIncomeLastMonths.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](22,24,"OVERDRAFT.FORM.STEP_3.OTHER_BANKS_INCOME_LAST_3_MONTHS")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](44,pt,i.financialForm.controls.otherBanksIncome.invalid&&i.financialForm.controls.otherBanksIncome.dirty,i.financialForm.controls.otherBanksIncome.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.financialForm.controls.otherBanksIncome.invalid&&i.financialForm.controls.otherBanksIncome.dirty),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](29,26,"OVERDRAFT.FORM.STEP_3.AVAILABLE_LIMIT")," "),T["\u0275\u0275advance"](5),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](34,28,T["\u0275\u0275pipeBind1"](35,30,i.calculatedSum))," \u20b4 "),T["\u0275\u0275advance"](4),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](38,32,"OVERDRAFT.FORM.STEP_3.APPROXIMATE_CALCS")," "),T["\u0275\u0275advance"](4),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](42,34,"OVERDRAFT.FORM.STEP_3.REQUESTED_CREDIT_LIMIT")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngClass",T["\u0275\u0275pureFunction2"](47,pt,i.financialForm.controls.requestedLimit.invalid&&i.financialForm.controls.requestedLimit.dirty,i.financialForm.controls.requestedLimit.disabled)),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",i.financialForm.controls.requestedLimit.invalid&&i.financialForm.controls.requestedLimit.dirty)}}function mt(e,t){if(1&e&&(T["\u0275\u0275elementStart"](0,"div",31),T["\u0275\u0275text"](1),T["\u0275\u0275pipe"](2,"translate"),T["\u0275\u0275elementEnd"]()),2&e){var n=T["\u0275\u0275nextContext"]();T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](2,1,n.unexpectedErrorMessage)," ")}}function ut(e,t){1&e&&T["\u0275\u0275element"](0,"fuib-digital-preloader",32)}var ht=[{path:"",component:Re,children:[{path:"",redirectTo:"set-phone",pathMatch:"full"},{path:"set-phone",component:q,data:{routeIndex:v.SET_PHONE}},{canActivate:[Ze],path:"check-otp",component:xe,data:{routeIndex:v.SET_PHONE}},{canDeactivate:[C.b],path:"activity-info",component:We,data:{routeIndex:v.ACTIVITY_INFO}},{canDeactivate:[C.b],path:"financial-info",component:function(){function e(e,t,n,i,r,o,l,c){this.formBuilder=e,this.router=t,this.overflowApplicationService=n,this.sessionService=i,this.googleTagManagerService=r,this.sharedService=o,this.helpersCompanyService=l,this.window=c,this.mask=Object(Pe.createNumberMask)({prefix:"",allowDecimal:!0,thousandsSeparatorSymbol:" ",decimalSymbol:",",decimalLimit:2}),this.isGoBack=null,this.activities=[],this.regions=[],this.areas=[],this.showCheckboxError=!1,this.calculatedSum=0,this.subscriptions=new Ee.a,this.unsubscribAll$=new a.a,this.isGoBack=!1,this.openAdditionalForAnketa=!1,this.subscribeToBrowserEvents()}return e.prototype.ngOnInit=function(){this.createFinancialForm(),this.listenForChanges()},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.sessionService.saveTtlDateBeforeDestroy(),this.sessionService.stopTtlTimer(),this.unsubscribAll$.next(),this.unsubscribAll$.complete()},e.prototype.onSubmitAnketa=function(){var e=this;this.googleTagManagerService.logEvent(h.td,h.be.click),this.financialForm.valid?this.publishSurveyForm():Object.keys(this.financialForm.controls).forEach((function(t){e.financialForm.controls[t].markAsDirty()}))},e.prototype.publishSurveyForm=function(){var e=this;this.isPublishing=!0;var t=this.financialForm.value;this.overflowApplicationService.sendFinancialForm({activityTime12Month:!0,lastYearIncome:t.lastYearIncome,fuibIncomeLast3Months:t.fuibIncomeLastMonths||0,otherBanksIncomeLast3Months:t.otherBanksIncome||0,calculatedCreditLimit:this.calculatedSum,requestedCreditLimit:t.requestedLimit}).subscribe({next:function(){e.router.navigate([h.c.OVERDRAFT_APPLICATION_FINAl])},error:function(t){var n,i,r,o;475===(null==t?void 0:t.status)&&"ERROR:BUSINESS:036"===(null===(i=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.error)||void 0===i?void 0:i.code)&&e.sharedService.emitCustomAlert("ERROR:BUSINESS:036"),475===(null==t?void 0:t.status)&&"ERROR:FIVES:001"===(null===(o=null===(r=null==t?void 0:t.error)||void 0===r?void 0:r.error)||void 0===o?void 0:o.code)&&e.overflowApplicationService.cancelWarning("ALERTS.SESSION_EXPIRED","ALERTS.SESSION_EXPIRED_TEXT","ALERTS.AUTHORIZE","").subscribe((function(t){t&&e.router.navigate([h.c.OVERDRAFT_APPLICATION])})),e.isPublishing=!1}})},e.prototype.cancel=function(){var e=this;this.googleTagManagerService.logEvent(h.sd,h.be.click),this.overflowApplicationService.cancelWarning().subscribe((function(t){t&&e.router.navigate([h.c.HOME])}))},e.prototype.createFinancialForm=function(){this.financialForm=this.formBuilder.group({lastYearIncome:[null,[o.Validators.required,o.Validators.min(1e7),o.Validators.max(1e9)]],fuibIncomeLastMonths:[null,[this.lastIncomeValidator(),o.Validators.max(1e9)]],otherBanksIncome:[null,[this.lastIncomeValidator(),o.Validators.max(1e9)]],requestedLimit:[null,[o.Validators.required,o.Validators.max(1e9)]]})},e.prototype.lastIncomeValidator=function(){return(function(e){var t=e.parent;return t?t.controls.fuibIncomeLastMonths.value||t.controls.otherBanksIncome.value?null:{required:!0}:null}).bind(this)},e.prototype.subscribeToBrowserEvents=function(){var e=this;this.subscriptions.add(Object(X.a)(this.window,"beforeunload").subscribe((function(){e.sessionService.saveTtlDateBeforeDestroy()}))),this.subscriptions.add(Object(X.a)(this.window,"popstate").subscribe((function(){e.isGoBack=!0})))},e.prototype.listenForChanges=function(){var e=this;this.subscriptions.add(this.financialForm.valueChanges.subscribe((function(t){e.financialForm.controls.fuibIncomeLastMonths.updateValueAndValidity({emitEvent:!1}),e.financialForm.controls.otherBanksIncome.updateValueAndValidity({emitEvent:!1});var n=t.fuibIncomeLastMonths,i=t.otherBanksIncome;n&&i||(e.calculatedSum=0);var r=+n/3*.5,o=Math.max(r,+i/3*.25),a=o===r?5e6:2e6,l=e.round5(o);e.calculatedSum=Math.min(a,l)})))},e.prototype.round5=function(e){return 5*Math.ceil(e/5)},e.\u0275fac=function(t){return new(t||e)(T["\u0275\u0275directiveInject"](o.FormBuilder),T["\u0275\u0275directiveInject"](r.d),T["\u0275\u0275directiveInject"](O.a),T["\u0275\u0275directiveInject"](oe.a),T["\u0275\u0275directiveInject"](te.a),T["\u0275\u0275directiveInject"](C.i),T["\u0275\u0275directiveInject"](Fe.a),T["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=T["\u0275\u0275defineComponent"]({type:e,selectors:[["fuib-financial-form"]],viewQuery:function(e,t){var n;1&e&&(T["\u0275\u0275viewQuery"](nt,!0),T["\u0275\u0275viewQuery"](it,!0),T["\u0275\u0275viewQuery"](rt,!0)),2&e&&(T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.incomeContainerRef=n.first),T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.revenueRef=n.first),T["\u0275\u0275queryRefresh"](n=T["\u0275\u0275loadQuery"]())&&(t.maximumIncomeRef=n.first))},decls:19,vars:16,consts:[[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","flex-column","gap-16"],[1,"title"],[1,"subtitle"],["class","w-100",3,"formGroup","ngClass","ngSubmit",4,"ngIf"],[1,"buttons"],["type","button",1,"btn","btn-block","btn-outline-primary","btn-lg","mt-1",3,"click"],["id","submitAnketaBtn","type","button",1,"btn","btn-block","btn-primary","btn-lg","mt-1",3,"disabled","click"],["class","error-message mt-4 mb-3",4,"ngIf"],["class","loading loading-centered loading-sm",4,"ngIf"],["fuibFacebookPixel",""],[1,"w-100",3,"formGroup","ngClass","ngSubmit"],[1,"form-group"],[1,"input-group",3,"ngClass"],["type","number","formControlName","lastYearIncome","inputmode","numeric",1,"form-control"],["class","input-message-container error",4,"ngIf"],[1,"callout"],[1,"callout-line"],[1,"callout-content",3,"innerHTML"],["type","number","formControlName","fuibIncomeLastMonths","inputmode","numeric",1,"form-control"],["type","number","formControlName","otherBanksIncome","inputmode","numeric",1,"form-control"],[1,"calculations"],[1,"calculations-header"],[1,"calculations-content"],[1,"calculations-content-text"],[1,"calculations-content-text-sum"],[1,"calculations-content-text-description"],["type","number","placeholder","0,00","inputmode","numeric","formControlName","requestedLimit",1,"form-control"],[1,"input-message-container","error"],[1,"error-list"],[3,"hidden"],[1,"error-message","mt-4","mb-3"],[1,"loading","loading-centered","loading-sm"]],template:function(e,t){1&e&&(T["\u0275\u0275elementStart"](0,"div",0),T["\u0275\u0275elementStart"](1,"div",1),T["\u0275\u0275elementStart"](2,"div",2),T["\u0275\u0275text"](3),T["\u0275\u0275pipe"](4,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](5,"div",3),T["\u0275\u0275text"](6),T["\u0275\u0275pipe"](7,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](8,dt,47,50,"div",4),T["\u0275\u0275elementStart"](9,"div",5),T["\u0275\u0275elementStart"](10,"button",6),T["\u0275\u0275listener"]("click",(function(){return t.cancel()})),T["\u0275\u0275text"](11),T["\u0275\u0275pipe"](12,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementStart"](13,"button",7),T["\u0275\u0275listener"]("click",(function(){return t.onSubmitAnketa()})),T["\u0275\u0275text"](14),T["\u0275\u0275pipe"](15,"translate"),T["\u0275\u0275elementEnd"](),T["\u0275\u0275elementEnd"](),T["\u0275\u0275template"](16,mt,3,3,"div",8),T["\u0275\u0275template"](17,ut,1,0,"fuib-digital-preloader",9),T["\u0275\u0275elementEnd"](),T["\u0275\u0275element"](18,"div",10)),2&e&&(T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](4,8,"OVERDRAFT.FORM.STEP_3.TITLE")),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate"](T["\u0275\u0275pipeBind1"](7,10,"OVERDRAFT.FORM.STEP_3.SUBTITLE")),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.financialForm),T["\u0275\u0275advance"](3),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](12,12,"DENY")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("disabled",t.isPublishing),T["\u0275\u0275advance"](1),T["\u0275\u0275textInterpolate1"](" ",T["\u0275\u0275pipeBind1"](15,14,"CONTINUE")," "),T["\u0275\u0275advance"](2),T["\u0275\u0275property"]("ngIf",t.unexpectedErrorMessage),T["\u0275\u0275advance"](1),T["\u0275\u0275property"]("ngIf",t.isPublishing))},directives:[i.t,y.a,o.NgControlStatusGroup,o.FormGroupDirective,i.q,o.NumberValueAccessor,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,P.a],pipes:[F.d,tt.a,i.g],styles:['@charset "UTF-8";[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{transition:all .3s ease;color:#6d6d7a}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus-visible:before, [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus-visible:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover:before{border-color:#93939e}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#4d4d5c}[_nghost-%COMP%]   .form-check-label[_ngcontent-%COMP%], [_nghost-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:absolute;transform:translateY(-50%);top:50%;margin-top:0}.add-more-button[_ngcontent-%COMP%]{border:none;background:transparent;transition:background .3s;padding:10px 20px;margin-left:-20px;border-radius:50px}.add-more-button[_ngcontent-%COMP%]:focus{outline:none}.add-more-button[_ngcontent-%COMP%]:hover{background:#f5f5fa}.btn-trash[_ngcontent-%COMP%]{position:absolute;right:-64px;display:flex;align-items:center;height:100%;justify-content:flex-end;opacity:.6;transition:opacity .3s}.btn-trash[_ngcontent-%COMP%]:hover{opacity:1}.plus-icon[_ngcontent-%COMP%]{margin-right:10px}.title[_ngcontent-%COMP%]{font-size:34px;font-weight:700;line-height:36px;letter-spacing:.25px;text-align:center;color:#4d4d5c}@media screen and (max-width:600px){.title[_ngcontent-%COMP%]{font-size:24px;line-height:32px}}.subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px;text-align:center;color:#6d6d7a;margin-bottom:24px}ul[_ngcontent-%COMP%]{padding-left:20px}ul[_ngcontent-%COMP%]   .grey[_ngcontent-%COMP%]{color:#6d6d7a}.approve[_ngcontent-%COMP%]{background:#f5f5fa;border-radius:8px;padding:12px 14px;cursor:pointer}.not-confirm[_ngcontent-%COMP%]{font-size:12px;line-height:16px;letter-spacing:.25px;color:#6d6d7a}.underline[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:3px;cursor:pointer;transition:all .3s;color:#4d4d5c}.underline[_ngcontent-%COMP%]:hover{color:#f91f2b}.error-list[_ngcontent-%COMP%]{padding-left:0}.error-message-container[_ngcontent-%COMP%]{border-radius:8px;background:#ffeddd;padding:16px 22px 16px 36px;color:#f57f17;font-size:14px;font-style:normal;font-weight:500;line-height:20px;margin:16px 0}.error-message-container[_ngcontent-%COMP%]:before{content:"\ue940";font-family:project-icons;font-size:.75rem;margin-right:.5rem;display:inline-block;left:16px;position:absolute}.error-anchor[_ngcontent-%COMP%]{color:#f57f17;text-decoration:underline;text-underline-position:under;transition:all .3s}.error-anchor[_ngcontent-%COMP%]:hover{color:#f91f2b}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}.checkbox[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:24px;letter-spacing:.25px;margin-left:12px;cursor:pointer}.input-message-container.error[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]{position:relative}.input-group.readonly[_ngcontent-%COMP%]:hover{box-shadow:none}.input-group[_ngcontent-%COMP%]:after{content:"UAH";width:32px;height:24px;position:absolute;font-size:16px;font-style:normal;font-weight:500;line-height:24px;letter-spacing:.25px;color:#b6b6bf;right:16px;top:12px;z-index:99}#maximumIncome[_ngcontent-%COMP%], #revenue[_ngcontent-%COMP%]{padding-right:50px}.gap-16[_ngcontent-%COMP%]{gap:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px;color:#4d4d5c}.no-hover[_ngcontent-%COMP%]:hover{box-shadow:none}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto}.callout[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;display:flex;background:#f5f5fa}.callout-line[_ngcontent-%COMP%]{width:6px;background:#f91f2b}.callout-content[_ngcontent-%COMP%]{padding:16px;font-size:14px;font-weight:500;line-height:20px;letter-spacing:.25px;color:#4d4d5c}.calculations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.calculations-header[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:24px;letter-spacing:.400000006px;text-align:left;color:#4d4d5c}.calculations-content[_ngcontent-%COMP%]{padding:24px;gap:16px;border-radius:8px;background:#f5f5fa}.calculations-content-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.calculations-content-text-sum[_ngcontent-%COMP%]{font-size:34px;font-weight:700;line-height:36px;letter-spacing:.25px;text-align:center;color:#4d4d5c}.calculations-content-text-description[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:16px;letter-spacing:.25px;text-align:center;color:#6d6d7a}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}'],data:{animation:[Me.c]}}),e}(),data:{routeIndex:v.FINANCIAL_INFO}},{canDeactivate:[C.b],path:"finish",component:et}]}],ft=function(){function e(){}return e.\u0275mod=T["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=T["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[Je.a],imports:[[r.h.forChild(ht)],r.h]}),e}(),gt=n("eFDl"),vt=n("PCNd"),bt=n("0hV+"),It=function(){function e(){}return e.\u0275mod=T["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=T["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.ReactiveFormsModule,vt.a,le.m.forRoot(),ft,le.k.forRoot(),gt.a.forRoot(),_.TextMaskModule,bt.b,le.k,le.b]]}),e}()}}]);