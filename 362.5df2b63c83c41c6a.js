(self.webpackChunkmerch_store=self.webpackChunkmerch_store||[]).push([[362],{6362:(b,p,e)=>{"use strict";e.r(p),e.d(p,{default:()=>y});var i=e(1635);var d=e(5032),f=e.n(d),o=e(2864),c=e(5152),t=e(4438),x=e(6850),C=e(2234),v=e(4710),k=e(1626),A=e(727);let g=class{http=(0,t.WQX)(k.Qq);env=(0,t.WQX)(A.Km);getAllBrands(){return this.http.get(this.env.remoteApi+"/brands/all")}};g=(0,i.Cg)([(0,t._qm)({providedIn:"root"})],g);var L=e(177),B=e(980),T=e(9079),h=e(1716);let u=class{breadcrumbsService=(0,t.WQX)(o.EH);brandsApiService=(0,t.WQX)(g);dataService=(0,t.WQX)(c.uS);destroyRef=(0,t.WQX)(t.abz);router=(0,t.WQX)(v.Ix);isTablet=(0,t.WQX)(c.RL).isTabletOrLower;selectedLetter=(0,t.vPA)(null);letters=(0,t.vPA)([]);isLoading=(0,t.vPA)(!0);selectedIndex=(0,t.vPA)(0);allBrandAlphabeticalMap=(0,t.vPA)({});brandsColumns=(0,t.EWP)(()=>this.allBrandAlphabeticalMap()?this.createBrandColumns(this.allBrandAlphabeticalMap()):null);href=c.K_;skeletonConfig={height:"24px",width:"100%",border:"1px solid white"};vm=(0,t.EWP)(()=>({selectedLetter:this.selectedLetter(),letters:this.letters(),allBrandAlphabeticalMap:this.allBrandAlphabeticalMap(),brandsColumns:this.brandsColumns(),isTablet:this.isTablet(),isLoading:this.isLoading()}));ngOnInit(){this.getBrands(),this.letters.set(this.dataService.getLetters()),this.breadcrumbsService.set(["Brand directory"])}onTabChange({index:n,tab:a}){0!==n?this.selectedLetter.set(a.textLabel):this.selectedLetter.set(null)}onSelectedIndex(n){this.selectedIndex.set(n+2)}getBrands(){this.isLoading.set(!0),this.brandsApiService.getAllBrands().pipe((0,T.pQ)(this.destroyRef),(0,B.j)(()=>this.isLoading.set(!1))).subscribe(n=>this.createLetterBrandsMap(n))}goToBrand(n){this.router.navigate([c.K_.BRANDSTORE,n.id],{queryParams:{data:JSON.stringify({name:n.name})}})}createLetterBrandsMap(n){this.allBrandAlphabeticalMap.set(n.reduce((a,l)=>{const s=l.name.charAt(0).toUpperCase(),r=this.isNumericChart(s)?"#":s;return a[r]||(a[r]=[]),a[r].push(l),a},{}))}isNumericChart(n){return/^\d+$/.test(n)}createBrandColumns(n){return Object.entries(n).reduce((a,[l,s],r)=>(r%2==0?a.leftColumn[l]=s:a.rightColumn[l]=s,a),{leftColumn:{},rightColumn:{}})}};u=(0,i.Cg)([(0,t.uAl)({selector:"app-brands",template:'@if (vm(); as vm) {\n  <div class="brands box-container">\n    <article class="brands__header">\n      <app-breadcrumbs />\n      <h1 class="category-heading">Brand directory</h1>\n    </article>\n\n    <section>\n      <mat-tab-group\n        libMatTabsGroupsAccessibility\n        [selectedIndex]="selectedIndex()"\n        (selectedTabChange)="onTabChange($event)"\n      >\n        <mat-tab>\n          <ng-template mat-tab-label>\n            <p\n              (libAccessibleClick)="onSelectedIndex(0)"\n              trackClick\n              [trackClick]="{ item: \'Letters\', linkName: \'All brands\' }"\n            >\n              All brands\n            </p>\n          </ng-template>\n        </mat-tab>\n        <mat-tab\n          trackClick\n          [trackClick]="{ item: \'Letters\', linkName: \'#\' }"\n          [disabled]="!vm.allBrandAlphabeticalMap[\'#\']"\n        >\n          <ng-template mat-tab-label>\n            @if (vm.allBrandAlphabeticalMap[\'#\']) {\n              <p (libAccessibleClick)="onSelectedIndex(1)" trackClick [trackClick]="{ item: \'Letters\', linkName: \'#\' }">\n                {{ \'#\' }}\n              </p>\n            } @else {\n              #\n            }\n          </ng-template>\n        </mat-tab>\n\n        @for (letter of letters(); track letter) {\n          <mat-tab [disabled]="!vm.allBrandAlphabeticalMap[letter]" [label]="letter" [attr.aria-label]="letter">\n            <ng-template mat-tab-label>\n              @if (!vm.allBrandAlphabeticalMap[letter]) {\n                <span>{{ letter }}</span>\n              } @else {\n                <span\n                  (libAccessibleClick)="onSelectedIndex($index)"\n                  trackClick\n                  [trackClick]="{ item: \'Letters\', linkName: letter }"\n                  >{{ letter }}</span\n                >\n              }\n            </ng-template>\n          </mat-tab>\n        }\n      </mat-tab-group>\n    </section>\n\n    @if (vm.isLoading) {\n      <section>\n        <ngx-skeleton-loader animation="progress-dark" [theme]="skeletonConfig" [count]="10" />\n      </section>\n    } @else {\n      <section class="brands__table">\n        @if (vm.isTablet) {\n          <ng-container\n            *ngTemplateOutlet="\n              brandsTableColTemplate;\n              context: {\n                brandsMap: vm.allBrandAlphabeticalMap,\n                selectedLetter: vm.selectedLetter,\n              }\n            "\n          />\n        } @else {\n          @if (vm.brandsColumns) {\n            <ng-container\n              *ngTemplateOutlet="\n                brandsTableColTemplate;\n                context: {\n                  brandsMap: vm.brandsColumns.leftColumn,\n                  selectedLetter: vm.selectedLetter,\n                }\n              "\n            />\n            <ng-container\n              *ngTemplateOutlet="\n                brandsTableColTemplate;\n                context: {\n                  brandsMap: vm.brandsColumns.rightColumn,\n                  selectedLetter: vm.selectedLetter,\n                }\n              "\n            />\n          }\n        }\n      </section>\n    }\n  </div>\n}\n\n<ng-template #brandsTableColTemplate let-brandsMap="brandsMap" let-selectedLetter="selectedLetter">\n  <div class="brands__table-col">\n    @for (brandOjb of brandsMap | keyvalue; track brandOjb.key) {\n      @if (selectedLetter === null || selectedLetter === brandOjb.key) {\n        <div class="brands__table-col" [class.selected]="selectedLetter === brandOjb.key">\n          @if (selectedLetter === null) {\n            <h4 class="brands__table-col-title heading-4">{{ brandOjb.key }}</h4>\n          }\n\n          <div class="brands__table-col">\n            @for (brand of $any(brandOjb.value); track brand) {\n              <p\n                (libAccessibleClick)="goToBrand(brand)"\n                class="brands__table-link"\n                trackClick\n                [trackClick]="{ item: \'brand\', linkName: brand.name }"\n              >\n                {{ brand.name }}\n              </p>\n            }\n          </div>\n        </div>\n      }\n    }\n  </div>\n</ng-template>\n',changeDetection:t.Ngq.OnPush,standalone:!0,imports:[L.MD,x.RI,v.iI,o.m6,C.Yq,o.QS,o.En,h.nj],providers:[{provide:h.YE,useValue:h.v.Directory}],styles:[f()]})],u);const y=u},5032:(b,p,e)=>{var i=e(8564),d=e(8557)(i);d.push([b.id,':host ::ng-deep .mat-mdc-tab-body-content {\n  display: none;\n}\n:host ::ng-deep ngx-skeleton-loader {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 18px;\n  padding-block: 45px;\n}\n@media (max-width: 1024px) {\n  :host ::ng-deep ngx-skeleton-loader {\n    grid-template-columns: 1fr;\n  }\n}\n\n.brands {\n  margin: 0 auto;\n  padding-block-end: 48px;\n  padding-inline: 24px;\n}\n.brands__header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  padding-block: 48px;\n}\n.brands__table {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 24px;\n  margin-block-start: 48px;\n}\n@media (max-width: 1024px) {\n  .brands__table {\n    grid-template-columns: 1fr;\n    margin-block-start: 24px;\n  }\n}\n.brands__table-col {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  margin-block-end: 7px;\n}\n.brands__table-col:empty {\n  display: none;\n}\n.brands__table-col-title {\n  border-bottom: 1px solid #ccced0;\n  padding-block-end: 5px;\n}\n.brands__table-col.selected {\n  padding-inline-start: 55px;\n}\n@media (max-width: 1024px) {\n  .brands__table-col.selected {\n    padding-inline-start: 24px;\n  }\n}\n.brands__table-link {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  cursor: pointer;\n  padding-left: 16px;\n  margin-bottom: 0;\n}\n.brands__table-link::after {\n  content: "";\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  height: 1px;\n  width: 0;\n  background-color: #000000;\n  transition: width 0.25s ease-in-out;\n}\n.brands__table-link:hover::after, .brands__table-link.active::after {\n  width: 100%;\n}',""]),b.exports=d.toString()}}]);