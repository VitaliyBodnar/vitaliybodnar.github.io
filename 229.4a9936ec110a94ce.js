(self.webpackChunkmerch_store=self.webpackChunkmerch_store||[]).push([[229],{8372:(b,c,e)=>{var d=e(8524),i=e(7445)(d);i.push([b.id,':host ::ng-deep .mat-mdc-tab-body-content {\n  display: none;\n}\n:host ::ng-deep ngx-skeleton-loader {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 18px;\n  padding-block: 45px;\n}\n@media (max-width: 1024px) {\n  :host ::ng-deep ngx-skeleton-loader {\n    grid-template-columns: 1fr;\n  }\n}\n\n.brands {\n  max-width: 1440px;\n  margin: 0 auto;\n  padding-block-end: 48px;\n  padding-inline: 24px;\n}\n.brands__header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  padding-block: 48px;\n}\n.brands__table {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 24px;\n  margin-block-start: 48px;\n}\n@media (max-width: 1024px) {\n  .brands__table {\n    grid-template-columns: 1fr;\n    margin-block-start: 24px;\n  }\n}\n.brands__table-col {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n.brands__table-col:empty {\n  display: none;\n}\n.brands__table-col-title {\n  border-bottom: 1px solid #ccced0;\n  padding-block-end: 5px;\n}\n.brands__table-col.selected {\n  padding-inline-start: 55px;\n}\n@media (max-width: 1024px) {\n  .brands__table-col.selected {\n    padding-inline-start: 24px;\n  }\n}\n.brands__table-link {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  cursor: pointer;\n}\n.brands__table-link::after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 1px;\n  width: 0;\n  background-color: #000000;\n  transition: width 0.25s ease-in-out;\n}\n.brands__table-link:hover::after, .brands__table-link.active::after {\n  width: 100%;\n}',""]),b.exports=i.toString()},1229:(b,c,e)=>{"use strict";e.r(c),e.d(c,{default:()=>O});var d=e(1635);var i=e(8372),v=e.n(i),g=e(6206),o=e(32),t=e(4438),f=e(6850),x=e(9853),u=e(6661),C=e(1626),L=e(2789);let m=class{http=(0,t.WQX)(C.Qq);env=(0,t.WQX)(L.Km);getAllBrands(){return this.http.get(this.env.remoteApi+"/brands/all")}};m=(0,d.Cg)([(0,t._qm)({providedIn:"root"})],m);var A=e(177),B=e(7312),T=e(9079);let h=class{breadcrumbsService=(0,t.WQX)(g.EH);brandsApiService=(0,t.WQX)(m);dataService=(0,t.WQX)(o.uS);destroyRef=(0,t.WQX)(t.abz);router=(0,t.WQX)(u.Ix);isTablet=(0,t.WQX)(o.RL).isTabletOrLower;selectedLetter=(0,t.vPA)(null);letters=(0,t.vPA)([]);isLoading=(0,t.vPA)(!0);allBrandAlphabeticalMap=(0,t.vPA)({});brandsColumns=(0,t.EWP)(()=>this.allBrandAlphabeticalMap()?this.createBrandColumns(this.allBrandAlphabeticalMap()):null);href=o.K_;skeletonConfig={height:"24px",width:"100%",border:"1px solid white"};vm=(0,t.EWP)(()=>({selectedLetter:this.selectedLetter(),letters:this.letters(),allBrandAlphabeticalMap:this.allBrandAlphabeticalMap(),brandsColumns:this.brandsColumns(),isTablet:this.isTablet(),isLoading:this.isLoading()}));ngOnInit(){this.getBrands(),this.letters.set(this.dataService.getLetters()),this.breadcrumbsService.set(["Brand directory"])}onTabChange({index:n,tab:a}){0!==n?this.selectedLetter.set(a.textLabel):this.selectedLetter.set(null)}getBrands(){this.isLoading.set(!0),this.brandsApiService.getAllBrands().pipe((0,T.pQ)(this.destroyRef),(0,B.j)(()=>this.isLoading.set(!1))).subscribe(n=>this.createLetterBrandsMap(n))}goToBrand(n){this.router.navigate([o.K_.BRANDSTORE,n.id],{queryParams:{data:JSON.stringify({name:n.name})}})}createLetterBrandsMap(n){this.allBrandAlphabeticalMap.set(n.reduce((a,s)=>{const l=s.name.charAt(0).toUpperCase(),r=this.isNumericChart(l)?"#":l;return a[r]||(a[r]=[]),a[r].push(s),a},{}))}isNumericChart(n){return/^\d+$/.test(n)}createBrandColumns(n){return Object.entries(n).reduce((a,[s,l],r)=>(r%2==0?a.leftColumn[s]=l:a.rightColumn[s]=l,a),{leftColumn:{},rightColumn:{}})}};h=(0,d.Cg)([(0,t.uAl)({selector:"app-brands",template:'@if (vm(); as vm) {\n  <div class="brands">\n    <div class="brands__header">\n      <app-breadcrumbs />\n      <div class="category-heading">Brand directory</div>\n    </div>\n\n    <mat-tab-group (selectedTabChange)="onTabChange($event)">\n      <mat-tab label="All Brands" />\n      <mat-tab label="#" [disabled]="!vm.allBrandAlphabeticalMap[\'#\']" />\n\n      @for (letter of letters(); track letter) {\n        <mat-tab [disabled]="!vm.allBrandAlphabeticalMap[letter]" [label]="letter" />\n      }\n    </mat-tab-group>\n\n    @if (vm.isLoading) {\n      <ngx-skeleton-loader animation="progress-dark" [theme]="skeletonConfig" [count]="10" />\n    } @else {\n      <div class="brands__table">\n        @if (vm.isTablet) {\n          <ng-container\n            *ngTemplateOutlet="\n              brandsTableColTemplate;\n              context: {\n                brandsMap: vm.allBrandAlphabeticalMap,\n                selectedLetter: vm.selectedLetter,\n              }\n            "\n          />\n        } @else {\n          @if (vm.brandsColumns) {\n            <ng-container\n              *ngTemplateOutlet="\n                brandsTableColTemplate;\n                context: {\n                  brandsMap: vm.brandsColumns.leftColumn,\n                  selectedLetter: vm.selectedLetter,\n                }\n              "\n            />\n            <ng-container\n              *ngTemplateOutlet="\n                brandsTableColTemplate;\n                context: {\n                  brandsMap: vm.brandsColumns.rightColumn,\n                  selectedLetter: vm.selectedLetter,\n                }\n              "\n            />\n          }\n        }\n      </div>\n    }\n  </div>\n}\n\n<ng-template #brandsTableColTemplate let-brandsMap="brandsMap" let-selectedLetter="selectedLetter">\n  <div class="brands__table-col">\n    @for (brandOjb of brandsMap | keyvalue; track brandOjb.key) {\n      @if (selectedLetter === null || selectedLetter === brandOjb.key) {\n        <div class="brands__table-col" [class.selected]="selectedLetter === brandOjb.key">\n          @if (selectedLetter === null) {\n            <span class="brands__table-col-title heading-4">{{ brandOjb.key }}</span>\n          }\n\n          <div class="brands__table-col">\n            @for (brand of $any(brandOjb.value); track brand) {\n              <span (click)="goToBrand(brand)" class="brands__table-link">{{ brand.name }}</span>\n            }\n          </div>\n        </div>\n      }\n    }\n  </div>\n</ng-template>\n',changeDetection:t.Ngq.OnPush,standalone:!0,imports:[A.MD,f.RI,u.iI,g.m6,x.Yq],styles:[v()]})],h);const O=h}}]);